(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-62c3f4f6"],{1714:function(t,n,e){"use strict";e.r(n),e.d(n,"dispatch",(function(){return u}));var r={value:function(){}};function a(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new i(r)}function i(t){this._=t}function o(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}function s(t,n){for(var e,r=0,a=t.length;r<a;++r)if((e=t[r]).name===n)return e.value}function c(t,n,e){for(var a=0,i=t.length;a<i;++a)if(t[a].name===n){t[a]=r,t=t.slice(0,a).concat(t.slice(a+1));break}return null!=e&&t.push({name:n,value:e}),t}i.prototype=a.prototype={constructor:i,on:function(t,n){var e,r=this._,a=o(t+"",r),i=-1,u=a.length;if(!(arguments.length<2)){if(null!=n&&"function"!==typeof n)throw new Error("invalid callback: "+n);while(++i<u)if(e=(t=a[i]).type)r[e]=c(r[e],t.name,n);else if(null==n)for(e in r)r[e]=c(r[e],t.name,null);return this}while(++i<u)if((e=(t=a[i]).type)&&(e=s(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new i(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,a=new Array(e),i=0;i<e;++i)a[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],i=0,e=r.length;i<e;++i)r[i].value.apply(n,a)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],a=0,i=r.length;a<i;++a)r[a].value.apply(n,e)}};var u=a},"4a83":function(t,n,e){var r=e("1714").dispatch,a=Math.PI/180,i=64,o=2048;function s(t){return t.text}function c(){return"serif"}function u(){return"normal"}function l(t){return Math.sqrt(t.value)}function f(){return 30*(~~(6*Math.random())-3)}function h(){return 1}function d(t,n,e,r){if(!n.sprite){var s=t.context,c=t.ratio;s.clearRect(0,0,(i<<5)/c,o/c);var u=0,l=0,f=0,h=e.length;--r;while(++r<h){n=e[r],s.save(),s.font=n.style+" "+n.weight+" "+~~((n.size+1)/c)+"px "+n.font;var d=s.measureText(n.text+"m").width*c,g=n.size<<1;if(n.rotate){var v=Math.sin(n.rotate*a),y=Math.cos(n.rotate*a),p=d*y,m=d*v,b=g*y,w=g*v;d=Math.max(Math.abs(p+w),Math.abs(p-w))+31>>5<<5,g=~~Math.max(Math.abs(m+b),Math.abs(m-b))}else d=d+31>>5<<5;if(g>f&&(f=g),u+d>=i<<5&&(u=0,l+=f,f=0),l+g>=o)break;s.translate((u+(d>>1))/c,(l+(g>>1))/c),n.rotate&&s.rotate(n.rotate*a),s.fillText(n.text,0,0),n.padding&&(s.lineWidth=2*n.padding,s.strokeText(n.text,0,0)),s.restore(),n.width=d,n.height=g,n.xoff=u,n.yoff=l,n.x1=d>>1,n.y1=g>>1,n.x0=-n.x1,n.y0=-n.y1,n.hasText=!0,u+=d}var x=s.getImageData(0,0,(i<<5)/c,o/c).data,M=[];while(--r>=0)if(n=e[r],n.hasText){d=n.width;for(var k=d>>5,O=(g=n.y1-n.y0,0);O<g*k;O++)M[O]=0;if(u=n.xoff,null==u)return;l=n.yoff;for(var j=0,E=-1,S=0;S<g;S++){for(O=0;O<d;O++){var F=k*S+(O>>5),A=x[(l+S)*(i<<5)+(u+O)<<2]?1<<31-O%32:0;M[F]|=A,j|=A}j?E=S:(n.y0++,g--,S--,l++)}n.y1=n.y0+E,n.sprite=M.slice(0,(n.y1-n.y0)*k)}}}function g(t,n,e){e>>=5;for(var r,a=t.sprite,i=t.width>>5,o=t.x-(i<<4),s=127&o,c=32-s,u=t.y1-t.y0,l=(t.y+t.y0)*e+(o>>5),f=0;f<u;f++){r=0;for(var h=0;h<=i;h++)if((r<<c|(h<i?(r=a[f*i+h])>>>s:0))&n[l+h])return!0;l+=e}return!1}function v(t,n){var e=t[0],r=t[1];n.x+n.x0<e.x&&(e.x=n.x+n.x0),n.y+n.y0<e.y&&(e.y=n.y+n.y0),n.x+n.x1>r.x&&(r.x=n.x+n.x1),n.y+n.y1>r.y&&(r.y=n.y+n.y1)}function y(t,n){return t.x+t.x1>n[0].x&&t.x+t.x0<n[1].x&&t.y+t.y1>n[0].y&&t.y+t.y0<n[1].y}function p(t){var n=t[0]/t[1];return function(t){return[n*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function m(t){var n=4,e=n*t[0]/t[1],r=0,a=0;return function(t){var i=t<0?-1:1;switch(Math.sqrt(1+4*i*t)-i&3){case 0:r+=e;break;case 1:a+=n;break;case 2:r-=e;break;default:a-=n;break}return[r,a]}}function b(t){var n=[],e=-1;while(++e<t)n[e]=0;return n}function w(){return document.createElement("canvas")}function x(t){return"function"===typeof t?t:function(){return t}}t.exports=function(){var t=[256,256],n=s,e=c,a=l,m=u,k=u,O=f,j=h,E=p,S=[],F=1/0,A=r("word","end"),N=null,T=Math.random,P={},C=w;function I(t){t.width=t.height=1;var n=Math.sqrt(t.getContext("2d").getImageData(0,0,1,1).data.length>>2);t.width=(i<<5)/n,t.height=o/n;var e=t.getContext("2d");return e.fillStyle=e.strokeStyle="red",e.textAlign="center",{context:e,ratio:n}}function R(n,e,r){t[0],t[1];var a,i,o,s=e.x,c=e.y,u=Math.sqrt(t[0]*t[0]+t[1]*t[1]),l=E(t),f=T()<.5?1:-1,h=-f;while(a=l(h+=f)){if(i=~~a[0],o=~~a[1],Math.min(Math.abs(i),Math.abs(o))>=u)break;if(e.x=s+i,e.y=c+o,!(e.x+e.x0<0||e.y+e.y0<0||e.x+e.x1>t[0]||e.y+e.y1>t[1])&&(!r||!g(e,n,t[0]))&&(!r||y(e,r))){for(var d,v=e.sprite,p=e.width>>5,m=t[0]>>5,b=e.x-(p<<4),w=127&b,x=32-w,M=e.y1-e.y0,k=(e.y+e.y0)*m+(b>>5),O=0;O<M;O++){d=0;for(var j=0;j<=p;j++)n[k+j]|=d<<x|(j<p?(d=v[O*p+j])>>>w:0);k+=m}return delete e.sprite,!0}}return!1}return P.canvas=function(t){return arguments.length?(C=x(t),P):C},P.start=function(){var r=I(C()),i=b((t[0]>>5)*t[1]),o=null,s=S.length,c=-1,u=[],l=S.map((function(t,r){return t.text=n.call(this,t,r),t.font=e.call(this,t,r),t.style=m.call(this,t,r),t.weight=k.call(this,t,r),t.rotate=O.call(this,t,r),t.size=~~a.call(this,t,r),t.padding=j.call(this,t,r),t})).sort((function(t,n){return n.size-t.size}));return N&&clearInterval(N),N=setInterval(f,0),f(),P;function f(){var n=Date.now();while(Date.now()-n<F&&++c<s&&N){var e=l[c];e.x=t[0]*(T()+.5)>>1,e.y=t[1]*(T()+.5)>>1,d(r,e,l,c),e.hasText&&R(i,e,o)&&(u.push(e),A.call("word",P,e),o?v(o,e):o=[{x:e.x+e.x0,y:e.y+e.y0},{x:e.x+e.x1,y:e.y+e.y1}],e.x-=t[0]>>1,e.y-=t[1]>>1)}c>=s&&(P.stop(),A.call("end",P,u,o))}},P.stop=function(){return N&&(clearInterval(N),N=null),P},P.timeInterval=function(t){return arguments.length?(F=null==t?1/0:t,P):F},P.words=function(t){return arguments.length?(S=t,P):S},P.size=function(n){return arguments.length?(t=[+n[0],+n[1]],P):t},P.font=function(t){return arguments.length?(e=x(t),P):e},P.fontStyle=function(t){return arguments.length?(m=x(t),P):m},P.fontWeight=function(t){return arguments.length?(k=x(t),P):k},P.rotate=function(t){return arguments.length?(O=x(t),P):O},P.text=function(t){return arguments.length?(n=x(t),P):n},P.spiral=function(t){return arguments.length?(E=M[t]||t,P):E},P.fontSize=function(t){return arguments.length?(a=x(t),P):a},P.padding=function(t){return arguments.length?(j=x(t),P):j},P.random=function(t){return arguments.length?(T=t,P):T},P.on=function(){var t=A.on.apply(A,arguments);return t===A?P:t},P};var M={archimedean:p,rectangular:m}},"548a":function(t,n,e){"use strict";e.d(n,"a",(function(){return rt}));var r=Math.sqrt(50),a=Math.sqrt(10),i=Math.sqrt(2),o=function(t,n,e){var r,a,i,o,c=-1;if(n=+n,t=+t,e=+e,t===n&&e>0)return[t];if((r=n<t)&&(a=t,t=n,n=a),0===(o=s(t,n,e))||!isFinite(o))return[];if(o>0){t=Math.ceil(t/o),n=Math.floor(n/o),i=new Array(a=Math.ceil(n-t+1));while(++c<a)i[c]=(t+c)*o}else{o=-o,t=Math.ceil(t*o),n=Math.floor(n*o),i=new Array(a=Math.ceil(n-t+1));while(++c<a)i[c]=(t+c)/o}return r&&i.reverse(),i};function s(t,n,e){var o=(n-t)/Math.max(0,e),s=Math.floor(Math.log(o)/Math.LN10),c=o/Math.pow(10,s);return s>=0?(c>=r?10:c>=a?5:c>=i?2:1)*Math.pow(10,s):-Math.pow(10,-s)/(c>=r?10:c>=a?5:c>=i?2:1)}function c(t,n,e){var o=Math.abs(n-t)/Math.max(0,e),s=Math.pow(10,Math.floor(Math.log(o)/Math.LN10)),c=o/s;return c>=r?s*=10:c>=a?s*=5:c>=i&&(s*=2),n<t?-s:s}var u=function(t,n){return t<n?-1:t>n?1:t>=n?0:NaN},l=function(t){let n=t,e=t;function r(t,n,r,a){null==r&&(r=0),null==a&&(a=t.length);while(r<a){const i=r+a>>>1;e(t[i],n)<0?r=i+1:a=i}return r}function a(t,n,r,a){null==r&&(r=0),null==a&&(a=t.length);while(r<a){const i=r+a>>>1;e(t[i],n)>0?a=i:r=i+1}return r}function i(t,e,a,i){null==a&&(a=0),null==i&&(i=t.length);const o=r(t,e,a,i-1);return o>a&&n(t[o-1],e)>-n(t[o],e)?o-1:o}return 1===t.length&&(n=(n,e)=>t(n)-e,e=f(t)),{left:r,center:i,right:a}};function f(t){return(n,e)=>u(t(n),e)}var h=function(t){return null===t?NaN:+t};const d=l(u),g=d.right;d.left,l(h).center;var v=g,y=e("ea1d"),p=e("e317"),m=function(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}};function b(t){return function(){return t}}function w(t){return+t}var x=[0,1];function M(t){return t}function k(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:b(isNaN(n)?NaN:.5)}function O(t,n){var e;return t>n&&(e=t,t=n,n=e),function(e){return Math.max(t,Math.min(n,e))}}function j(t,n,e){var r=t[0],a=t[1],i=n[0],o=n[1];return a<r?(r=k(a,r),i=e(o,i)):(r=k(r,a),i=e(i,o)),function(t){return i(r(t))}}function E(t,n,e){var r=Math.min(t.length,n.length)-1,a=new Array(r),i=new Array(r),o=-1;t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());while(++o<r)a[o]=k(t[o],t[o+1]),i[o]=e(n[o],n[o+1]);return function(n){var e=v(t,n,1,r)-1;return i[e](a[e](n))}}function S(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function F(){var t,n,e,r,a,i,o=x,s=x,c=y["a"],u=M;function l(){var t=Math.min(o.length,s.length);return u!==M&&(u=O(o[0],o[t-1])),r=t>2?E:j,a=i=null,f}function f(n){return isNaN(n=+n)?e:(a||(a=r(o.map(t),s,c)))(t(u(n)))}return f.invert=function(e){return u(n((i||(i=r(s,o.map(t),p["a"])))(e)))},f.domain=function(t){return arguments.length?(o=Array.from(t,w),l()):o.slice()},f.range=function(t){return arguments.length?(s=Array.from(t),l()):s.slice()},f.rangeRound=function(t){return s=Array.from(t),c=m,l()},f.clamp=function(t){return arguments.length?(u=!!t||M,l()):u!==M},f.interpolate=function(t){return arguments.length?(c=t,l()):c},f.unknown=function(t){return arguments.length?(e=t,f):e},function(e,r){return t=e,n=r,l()}}function A(){return F()(M,M)}function N(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}var T=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function P(t){if(!(n=T.exec(t)))throw new Error("invalid format: "+t);var n;return new C({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function C(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}P.prototype=C.prototype,C.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var I=function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)};function R(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}var _,D,H,W,z=function(t){return t=R(Math.abs(t)),t?t[1]:NaN},B=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(z(n)/3)))-z(Math.abs(t)))},L=function(t,n){return function(e,r){var a=e.length,i=[],o=0,s=t[0],c=0;while(a>0&&s>0){if(c+s+1>r&&(s=Math.max(1,r-c)),i.push(e.substring(a-=s,a+s)),(c+=s+1)>r)break;s=t[o=(o+1)%t.length]}return i.reverse().join(n)}},U=function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}},q=function(t){t:for(var n,e=t.length,r=1,a=-1;r<e;++r)switch(t[r]){case".":a=n=r;break;case"0":0===a&&(a=r),n=r;break;default:if(!+t[r])break t;a>0&&(a=0);break}return a>0?t.slice(0,a)+t.slice(n+1):t},K=function(t,n){var e=R(t,n);if(!e)return t+"";var r=e[0],a=e[1],i=a-(_=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+R(t,Math.max(0,n+i-1))[0]},G=function(t,n){var e=R(t,n);if(!e)return t+"";var r=e[0],a=e[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")},Y={"%":(t,n)=>(100*t).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:I,e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>G(100*t,n),r:G,s:K,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)},$=function(t){return t},V=Array.prototype.map,J=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],X=function(t){var n=void 0===t.grouping||void 0===t.thousands?$:L(V.call(t.grouping,Number),t.thousands+""),e=void 0===t.currency?"":t.currency[0]+"",r=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",i=void 0===t.numerals?$:U(V.call(t.numerals,String)),o=void 0===t.percent?"%":t.percent+"",s=void 0===t.minus?"−":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function u(t){t=P(t);var u=t.fill,l=t.align,f=t.sign,h=t.symbol,d=t.zero,g=t.width,v=t.comma,y=t.precision,p=t.trim,m=t.type;"n"===m?(v=!0,m="g"):Y[m]||(void 0===y&&(y=12),p=!0,m="g"),(d||"0"===u&&"="===l)&&(d=!0,u="0",l="=");var b="$"===h?e:"#"===h&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",w="$"===h?r:/[%p]/.test(m)?o:"",x=Y[m],M=/[defgprs%]/.test(m);function k(t){var e,r,o,h=b,k=w;if("c"===m)k=x(t)+k,t="";else{t=+t;var O=t<0||1/t<0;if(t=isNaN(t)?c:x(Math.abs(t),y),p&&(t=q(t)),O&&0===+t&&"+"!==f&&(O=!1),h=(O?"("===f?f:s:"-"===f||"("===f?"":f)+h,k=("s"===m?J[8+_/3]:"")+k+(O&&"("===f?")":""),M){e=-1,r=t.length;while(++e<r)if(o=t.charCodeAt(e),48>o||o>57){k=(46===o?a+t.slice(e+1):t.slice(e))+k,t=t.slice(0,e);break}}}v&&!d&&(t=n(t,1/0));var j=h.length+t.length+k.length,E=j<g?new Array(g-j+1).join(u):"";switch(v&&d&&(t=n(E+t,E.length?g-k.length:1/0),E=""),l){case"<":t=h+t+k+E;break;case"=":t=h+E+t+k;break;case"^":t=E.slice(0,j=E.length>>1)+h+t+k+E.slice(j);break;default:t=E+h+t+k;break}return i(t)}return y=void 0===y?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),k.toString=function(){return t+""},k}function l(t,n){var e=u((t=P(t),t.type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(z(n)/3))),a=Math.pow(10,-r),i=J[8+r/3];return function(t){return e(a*t)+i}}return{format:u,formatPrefix:l}};function Z(t){return D=X(t),H=D.format,W=D.formatPrefix,D}Z({thousands:",",grouping:[3],currency:["$",""]});var Q=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,z(n)-z(t))+1},tt=function(t){return Math.max(0,-z(Math.abs(t)))};function nt(t,n,e,r){var a,i=c(t,n,e);switch(r=P(null==r?",f":r),r.type){case"s":var o=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(a=B(i,o))||(r.precision=a),W(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(a=Q(i,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=a-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(a=tt(i))||(r.precision=a-2*("%"===r.type));break}return H(r)}function et(t){var n=t.domain;return t.ticks=function(t){var e=n();return o(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return nt(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,a,i=n(),o=0,c=i.length-1,u=i[o],l=i[c],f=10;l<u&&(a=u,u=l,l=a,a=o,o=c,c=a);while(f-- >0){if(a=s(u,l,e),a===r)return i[o]=u,i[c]=l,n(i);if(a>0)u=Math.floor(u/a)*a,l=Math.ceil(l/a)*a;else{if(!(a<0))break;u=Math.ceil(u*a)/a,l=Math.floor(l*a)/a}r=a}return t},t}function rt(){var t=A();return t.copy=function(){return S(t,rt())},N.apply(t,arguments),et(t)}},a2c6:function(t,n,e){},b64b:function(t,n,e){var r=e("23e7"),a=e("7b0b"),i=e("df75"),o=e("d039"),s=o((function(){i(1)}));r({target:"Object",stat:!0,forced:s},{keys:function(t){return i(a(t))}})},b65f:function(t,n,e){var r=e("23e7"),a=Math.ceil,i=Math.floor;r({target:"Math",stat:!0},{trunc:function(t){return(t>0?i:a)(t)}})},b860:function(t,n,e){"use strict";e.r(n);e("99af");var r=e("7a23"),a=Object(r["H"])("data-v-62e83a68");Object(r["t"])("data-v-62e83a68");var i=Object(r["g"])("canvas",{id:"emotional-wordle-canvas"},null,-1);Object(r["q"])();var o=a((function(t,n,e,a,o,s){return Object(r["p"])(),Object(r["d"])("div",null,[(Object(r["p"])(),Object(r["d"])("svg",{id:"emotional-wordle-edit-svg",height:t.styleScheme.height,width:t.styleScheme.width,viewBox:"0 0 ".concat(t.styleScheme.width," ").concat(t.styleScheme.height),preserveAspectRatio:"xMidYMid meet"},null,8,["height","width","viewBox"])),Object(r["g"])("div",{class:"canvas-container",style:{height:t.styleScheme.height+"px","text-align":"center"}},[i],4)])})),s=e("d4ec"),c=e("bee2"),u=e("262e"),l=e("2caf"),f=e("ce1f"),h=e("c54e"),d=e("b133"),g=e("7789"),v=e("9d6a"),y=function(t){Object(u["a"])(e,t);var n=Object(l["a"])(e);function e(){var t;return Object(s["a"])(this,e),t=n.apply(this,arguments),t.wordleData=[],t.collection=[],t.fileReader=new FileReader,t.uploadFilename="",t.animationModes=[d["d"].bubble,d["d"].colorful,d["d"].chill,d["d"].glisten,d["d"].electric],t.animationMode=d["d"].bubble,t.fontFamily="NotoSans",t.fontStyle="normal",t.fontWeight="normal",t.colorSchemes=["red","black","Viridis","Plasma","rainbow"],t.colorScheme="red",t.easeTypes=["Cubic","ElasticIn","ElasticOut","BounceIn","BounceOut","BounceInOut"],t.easeType="ElasticIn",t.strokeWidth="2px",t.rotation=0,t.duration=1e4,t.customColor="#000000",t.presetColors=g["c"],t}return Object(c["a"])(e,[{key:"mounted",value:function(){var t=this,n="./dataset/layout/layout_xmas.json";v["a"](n).then((function(n){var e,r;t.wordleData=n,t.cloudManager=new h["a"](t.wordleData,t.styleScheme,t.animationMode,"emotional-wordle-svg","emotional-wordle-canvas",t.bgAnimator,!0,!1,t.duration),null===(e=t.cloudManager.animator)||void 0===e||e.createGif(),null===(r=t.cloudManager.animator)||void 0===r||r.play()}),(function(t){console.log(t)}))}},{key:"styleScheme",get:function(){return{colorScheme:this.colorScheme,fontStyle:this.fontStyle,fontWeight:this.fontWeight,fontFamily:this.fontFamily,strokeWidth:this.strokeWidth,rotation:this.rotation,height:520,width:800}}}]),e}(f["b"]);e("cbae");y.render=o,y.__scopeId="data-v-62e83a68";n["default"]=y},c54e:function(t,n,e){"use strict";e.d(n,"a",(function(){return f}));e("4160"),e("159b");var r=e("d4ec"),a=e("bee2"),i=e("4a83"),o=e.n(i),s=e("548a"),c=e("c347"),u=e("f80d"),l=e("b133"),f=function(){function t(n,e){arguments.length>2&&void 0!==arguments[2]||l["d"].bubble;var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"emotional-wordle-svg",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emotional-wordle-canvas",o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=!(arguments.length>7&&void 0!==arguments[7])||arguments[7],f=arguments.length>8&&void 0!==arguments[8]?arguments[8]:2e3;Object(r["a"])(this,t),this.canvasHandler=new c["a"](i,a,e,o);var g=this;o?g.animator=new u["c"]({data:d(n),plotHandler:g.canvasHandler,duration:f}):s&&h(n,e).on("end",(function(t){var n=t;g.canvasHandler.plotOnSvgWithConfig(n)}))}return Object(a["a"])(t,[{key:"play",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e3;if(this.animator)return this.animator.update("duration",t),this.animator.stop(),this.animator.play(),this}},{key:"stop",value:function(){return this.animator.stop(),this}},{key:"updateMode",value:function(t){this.animator.update("mode",t)}}]),t}(),h=function(t,n){var e=n.width,r=n.height,a=s["a"]().domain([0,75]).range([10,120]);return o()().size([e,r]).timeInterval(200).words(t).rotate(n.rotation).fontSize((function(t,n){var e=t;return a(e.frequency)})).font(n.fontFamily).fontStyle(n.fontStyle).fontWeight(n.fontWeight).text((function(t,n){return t.text||""})).spiral(n.spiralType).start()};function d(t){return t.forEach((function(t,n){t.color="black"})),t}},cbae:function(t,n,e){"use strict";e("a2c6")},dbb4:function(t,n,e){var r=e("23e7"),a=e("83ab"),i=e("56ef"),o=e("fc6a"),s=e("06cf"),c=e("8418");r({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(t){var n,e,r=o(t),a=s.f,u=i(r),l={},f=0;while(u.length>f)e=a(r,n=u[f++]),void 0!==e&&c(l,n,e);return l}})},e439:function(t,n,e){var r=e("23e7"),a=e("d039"),i=e("fc6a"),o=e("06cf").f,s=e("83ab"),c=a((function(){o(1)})),u=!s||c;r({target:"Object",stat:!0,forced:u,sham:!s},{getOwnPropertyDescriptor:function(t,n){return o(i(t),n)}})},f80d:function(t,n,e){"use strict";e.d(n,"c",(function(){return Ot})),e.d(n,"b",(function(){return Mt})),e.d(n,"a",(function(){return kt}));e("99af"),e("cb29"),e("4160"),e("d81d"),e("fb6a"),e("4ec9"),e("d3b7"),e("ac1f"),e("3ca3"),e("1276"),e("159b"),e("ddb0"),e("2b3d");var r=e("bee2"),a=e("d4ec"),i=e("74f4"),o=e("e991");function s(t){return((t*=2)<=1?Object(o["a"])(1-t):2-Object(o["a"])(t-1))/2}var c=e("63ad"),u=e("166a");const l=Math.PI/180,f=180/Math.PI,h=18,d=.96422,g=1,v=.82521,y=4/29,p=6/29,m=3*p*p,b=p*p*p;function w(t){if(t instanceof M)return new M(t.l,t.a,t.b,t.opacity);if(t instanceof A)return N(t);t instanceof u["b"]||(t=Object(u["e"])(t));var n,e,r=E(t.r),a=E(t.g),i=E(t.b),o=k((.2225045*r+.7168786*a+.0606169*i)/g);return r===a&&a===i?n=e=o:(n=k((.4360747*r+.3850649*a+.1430804*i)/d),e=k((.0139322*r+.0971045*a+.7141733*i)/v)),new M(116*o-16,500*(n-o),200*(o-e),t.opacity)}function x(t,n,e,r){return 1===arguments.length?w(t):new M(t,n,e,null==r?1:r)}function M(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function k(t){return t>b?Math.pow(t,1/3):t/m+y}function O(t){return t>p?t*t*t:m*(t-y)}function j(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function E(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function S(t){if(t instanceof A)return new A(t.h,t.c,t.l,t.opacity);if(t instanceof M||(t=w(t)),0===t.a&&0===t.b)return new A(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*f;return new A(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function F(t,n,e,r){return 1===arguments.length?S(t):new A(t,n,e,null==r?1:r)}function A(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function N(t){if(isNaN(t.h))return new M(t.l,0,0,t.opacity);var n=t.h*l;return new M(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}Object(c["a"])(M,x,Object(c["b"])(u["a"],{brighter:function(t){return new M(this.l+h*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new M(this.l-h*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return n=d*O(n),t=g*O(t),e=v*O(e),new u["b"](j(3.1338561*n-1.6168667*t-.4906146*e),j(-.9787684*n+1.9161415*t+.033454*e),j(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}})),Object(c["a"])(A,F,Object(c["b"])(u["a"],{brighter:function(t){return new A(this.h,this.c,this.l+h*(null==t?1:t),this.opacity)},darker:function(t){return new A(this.h,this.c,this.l-h*(null==t?1:t),this.opacity)},rgb:function(){return N(this).rgb()}}));var T=e("b055");function P(t){return function(n,e){var r=t((n=F(n)).h,(e=F(e)).h),a=Object(T["a"])(n.c,e.c),i=Object(T["a"])(n.l,e.l),o=Object(T["a"])(n.opacity,e.opacity);return function(t){return n.h=r(t),n.c=a(t),n.l=i(t),n.opacity=o(t),n+""}}}var C=P(T["c"]),I=(P(T["a"]),e("1998")),R=e("7a42"),_=e("0b42"),D=e("7789"),H=function(){var t=[],n=D["a"];return n.forEach((function(e,r){t.push(new Mt({color:e,stage:Math.ceil(100*r/(n.length-1))}))})),t},W=function(){return[new Mt({xoff:0,yoff:0,stage:0}),new Mt({xoff:.5,yoff:.5,stage:5}),new Mt({xoff:0,yoff:0,stage:10}),new Mt({xoff:-.5,yoff:0,stage:15}),new Mt({xoff:0,yoff:0,stage:20}),new Mt({xoff:.5,yoff:-.5,stage:25}),new Mt({xoff:1,yoff:0,stage:100})]},z=function(){return[new Mt({xoff:1,yoff:0,rotate:5,stage:0}),new Mt({xoff:1,yoff:0,rotate:5,stage:10}),new Mt({xoff:0,yoff:0,rotate:-5,stage:20}),new Mt({xoff:-1,yoff:1,rotate:5,stage:30}),new Mt({xoff:-1,yoff:0,rotate:-5,stage:40}),new Mt({xoff:0,yoff:0,rotate:-5,stage:50}),new Mt({xoff:-1,yoff:-1,rotate:5,stage:60}),new Mt({xoff:0,yoff:0,rotate:-5,stage:100})]},B=e("b133"),L=(e("b65f"),e("a4d3"),e("4de4"),e("e439"),e("dbb4"),e("b64b"),e("ade3"));function U(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function q(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?U(Object(e),!0).forEach((function(n){Object(L["a"])(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):U(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var K=1,G=function(){function t(){Object(a["a"])(this,t)}return Object(r["a"])(t,[{key:"getKeyFrames",value:function(t,n,e,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=[];return i=t==B["d"].dance?this.getDiscoKeyFrames(n,e,r):t==B["d"].split?this.getSplitKeyframes(n,e,r,a):[H()],i}},{key:"getSwingingKeyFrames",value:function(t,n,e,r){}},{key:"getSplitKeyframes",value:function(t,n,e,r){for(var a=[],i=Math.floor(.9*t),o=Math.max(K,Math.floor(e*i)),s=function(t){var i=[],s=r+2*t*Math.PI/o,c=4*Math.random()+2+18*e,u=Math.floor(10*n),l=(new Mt({xoff:3*c/5*Math.cos(s+Math.PI/7),yoff:3*c/5*Math.sin(s+Math.PI/7),rotate:0}),new Mt({xoff:4*c/5*Math.cos(s-Math.PI/8),yoff:4*c/5*Math.sin(s+Math.PI/8),rotate:0}),new Mt({xoff:c*Math.cos(s),yoff:c*Math.sin(s),rotate:0})),f=new Mt({xoff:0,yoff:0,rotate:0}),h=new Mt({rotate:s-Math.PI/4}),d=new Mt({rotate:-s+Math.PI/4}),g=[f,l,h,h,d,l,l,l,l,f],v=g.length,y=v*u-1;0==u&&i.push.apply(i,[new Mt({stage:0}),new Mt({stage:100})]);for(var p=function(t){g.forEach((function(n,e){var r=Math.ceil(100/y*(e+t*v));i.push(q(q({},n),{},{stage:r}))}))},m=0;m<u;m++)p(m);a.push(i)},c=0;c<o;c++)s(c);return a}},{key:"getDiscoKeyFrames",value:function(t,n,e){for(var r=[],a=10,i=Math.min(t,Math.trunc((a-K)*e+K)),o=function(t){var a=[],i=2*Math.round(Math.random())-1,o=new Mt({xoff:i*(3*e)}),s=new Mt({xoff:0,yoff:0}),c=2*Math.random(),u=new Mt({yoff:-c*(n+e+1)}),l=[o,s,o,u],f=10*n,h=l.length,d=h*f-1;0==f&&a.push.apply(a,[new Mt({stage:0}),new Mt({stage:100})]);for(var g=function(t){l.forEach((function(n,e){var r=Math.ceil(100/d*(e+t*h));a.push(q(q({},n),{},{stage:r}))}))},v=0;v<f;v++)g(v);r.push(a)},s=0;s<i;s++)o(s);return r}}]),t}(),Y=e("2abf"),$=(e("13d5"),e("cfc3"),e("84c3"),e("9a8c"),e("a975"),e("735e"),e("c1ac"),e("d139"),e("3a7b"),e("d5d6"),e("82f8"),e("e91f"),e("60bd"),e("5f96"),e("3280"),e("3fcc"),e("ca91"),e("25a1"),e("cd26"),e("3c5d"),e("2954"),e("649e"),e("219c"),e("170b"),e("b39a"),e("72f7"),e("3835")),V=e("b85c"),J=e("a788"),X=e("5664"),Z=e.n(X),Q=e("ede8"),tt="https://cdnjs.cloudflare.com/ajax/libs/ink/3.1.10/fonts/Roboto/roboto-regular-webfont.ttf",nt=null,et=80;function rt(t,n){var e=t.x-n.x,r=t.y-n.y;return Math.sqrt(e*e+r*r)}function at(t,n,e){return{x:(1-e)*t.x+e*n.x,y:(1-e)*t.y+e*n.y}}function it(t,n){return t.x*n.y-t.y*n.x}var ot,st,ct=10,ut=3,lt=1e-6,ft=function(){function t(){Object(a["a"])(this,t),this.points=[],this.children=[],this.area=0}return Object(r["a"])(t,[{key:"moveTo",value:function(t){this.points.push(t)}},{key:"lineTo",value:function(t){this.points.push(t)}},{key:"close",value:function(){var t=this,n=this.points[this.points.length-1];this.points.forEach((function(e){t.area+=.5*it(n,e),n=e}))}},{key:"conicTo",value:function(t,n){for(var e=this.points[this.points.length-1],r=rt(e,n)+rt(n,t),a=Math.max(2,Math.min(ct,r/ut)),i=1;i<=a;++i){var o=i/a;this.points.push(at(at(e,n,o),at(n,t,o),o))}}},{key:"cubicTo",value:function(t,n,e){for(var r=this.points[this.points.length-1],a=rt(r,n)+rt(n,e)+rt(e,t),i=Math.max(2,Math.min(ct,a/ut)),o=1;o<=i;++o){var s=o/i,c=at(at(r,n,s),at(n,e,s),s),u=at(at(n,e,s),at(e,t,s),s);this.points.push(at(c,u,s))}}},{key:"inside",value:function(t){var n=0,e=this.points[this.points.length-1];return this.points.forEach((function(r){var a=e.y<r.y?e:r,i=e.y<r.y?r:e;a.y<t.y+lt&&i.y>t.y+lt&&(i.x-a.x)*(t.y-a.y)>(t.x-a.x)*(i.y-a.y)&&(n+=1),e=r})),n%2!==0}}]),t}();function ht(t){ot.uniform1f(nt,t/et),ot.drawElements(ot.TRIANGLES,st.length,ot.UNSIGNED_SHORT,0),requestAnimationFrame(ht)}var dt=function(t){for(var n=[],e=0;e<t.length;++e){for(var r=null,a=e-1;a>=0;--a)if(t[a].inside(t[e].points[0])&&t[e].area*t[a].area<0){r=t[a];break}r?r.children.push(t[e]):n.push(t[e])}return n},gt=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:12,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Hello World",i=t.getPath(a,n,e,r),o=[];return i.commands.forEach((function(t){var n=t.type,e=t.x,r=t.y,a=t.x1,i=t.y1,s=t.x2,c=t.y2;switch(n){case"M":o.push(new ft),o[o.length-1].moveTo({x:e,y:r});break;case"L":o[o.length-1].moveTo({x:e,y:r});break;case"C":o[o.length-1].cubicTo({x:e,y:r},{x:a,y:i},{x:s,y:c});break;case"Q":o[o.length-1].conicTo({x:e,y:r},{x:a,y:i});break;case"Z":o[o.length-1].close();break}})),o.sort((function(t,n){return Math.abs(n.area)-Math.abs(t.area)})),o},vt=function(t,n){var e=n.reduce((function(t,n){return t+n.points.length}),0),r=new Float32Array(2*e),a=0;st=[];var i=function t(n){var e=[],i=[];n.points.forEach((function(t){var n=t.x,r=t.y;return e.push(n,r)})),n.children.forEach((function(n){n.children.forEach(t),i.push(e.length/2),n.points.forEach((function(t){var n=t.x,r=t.y;return e.push(n,r)}))})),r.set(e,2*a),Z()(e,i).forEach((function(t){return st.push(t+a)})),a+=e.length/2};return t.forEach(i),console.log(r),[r,st]},yt=function(t){var n,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pt,a=document.getElementById("emordle-canvas"),i=(a.width,a.height,[]),o=Object(V["a"])(e);try{for(o.s();!(n=o.n()).done;){var s=n.value,c=gt(t,s.x-s.width/2,s.y,s.size,s.text);i=i.concat(c)}}catch(g){o.e(g)}finally{o.f()}var u=dt(i),l=vt(u,i),f=Object($["a"])(l,2),h=f[0],d=f[1];wt(h,d,r)},pt=" pos.y += pow(sin( (pos.x) / 500.+ uTime *.02),2.) * 20.;\npos.x += sin( pos.y/ 100. + uTime *.8) * .5;\n",mt=" pos.y = pos.y;\npos.x = pos.x;\n",bt=function(t,n){if(0==t)return mt;Math.max(1,Math.floor(10*n));var e=.01+.3*t,r=15.1+9.9*n,a=10.1+359.9*(1.05-n),i=50.1+150.1*(1.05-n),o=.02+.08*n,s="sin( pos.y/".concat(i," + uTime * ").concat(e,") * ").concat(o),c="pow(sin( (pos.x) / ".concat(a," + uTime * ").concat(e,"), 2.) * ").concat(r),u="\n  pos.x += ".concat(s,";\n  pos.y += ").concat(c,";\n  ");return console.log(u),u},wt=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pt,r=document.getElementById("emordle-canvas");ot=r.getContext("webgl");var a=r.width,i=r.height;ot.viewport(0,0,a,i);var o=Object(Q["b"])(ot,ot.VERTEX_SHADER,"\n      precision mediump float;\n      uniform vec2 uScale;\n      uniform vec2 uOffset;\n      uniform float uTime;\n      attribute vec2 position;\n      varying vec4 fragColor;\n      void main() {\n      vec2 pos = position;\n      ".concat(e,"\n      gl_Position = vec4(pos * uScale + uOffset, 0.0, 1.0);\n      fragColor = vec4(0., 0., 0., 1.);// vec4(sin(uTime*.5)*.5+.5, cos(uTime*.2)*.5+.5, 0., 1. ); // colorful\n    }")),s=Object(Q["b"])(ot,ot.FRAGMENT_SHADER,"precision mediump float;\n        uniform vec4 uColor;\n        uniform vec2 u_resolution;\n        varying vec4 fragColor;\n        void main() {\n        gl_FragColor = uColor;\n        vec2 st = gl_FragCoord.xy / u_resolution;\n        gl_FragColor = fragColor;\n        }"),c=Object(Q["a"])(ot,o,s);ot.bindAttribLocation(c,0,"position");var u=["uScale","uOffset","uColor","uTime","u_resolution","fragColor"].map((function(t){return ot.getUniformLocation(c,t)})),l=Object($["a"])(u,6),f=l[0],h=l[1],d=l[2],g=l[3],v=l[4],y=l[5];nt=g,ot.useProgram(c),ot.uniform1f(g,0),ot.uniform2fv(f,[2/a,-2/i]),ot.uniform2fv(h,[0,0]),ot.uniform4fv(d,[0,0,0,1]),ot.uniform4fv(y,[0,0,0,1]),ot.uniform2f(v,ot.canvas.width,ot.canvas.height),ot.clearColor(1,1,1,1),ot.clear(ot.COLOR_BUFFER_BIT);var p=ot.createBuffer();ot.bindBuffer(ot.ARRAY_BUFFER,p),ot.bufferData(ot.ARRAY_BUFFER,t,ot.STATIC_DRAW);var m=ot.createBuffer(),b=new Uint16Array(n);ot.bindBuffer(ot.ELEMENT_ARRAY_BUFFER,m),ot.bufferData(ot.ELEMENT_ARRAY_BUFFER,b,ot.STATIC_DRAW),ot.enableVertexAttribArray(0),ot.vertexAttribPointer(0,2,ot.FLOAT,!0,8,0),ot.drawElements(ot.TRIANGLES,n.length,ot.UNSIGNED_SHORT,0),ot.flush(),console.log("Finish"),ht(Date.now())},xt=function(t){var n=t.words,e=void 0===n?[]:n,r=t.fontUrl,a=void 0===r?tt:r,i=t.speed,o=void 0===i?.5:i,s=t.entropy,c=void 0===s?.5:s;J["a"].load(a,(function(t,n){if(t)console.log(a),alert("Font could not be loaded: "+t);else if(n){var r=bt(o,c);yt(n,e,r)}}))},Mt=function t(n){Object(a["a"])(this,t),this.x=0,this.y=0,this.xoff=0,this.yoff=0,this.rotate=0,this.scale=1,this.opacity=1,this.color="black",this.stage=0,this.duration=10,this.font=new _["a"],Object.assign(this,n)},kt=function(){function t(n){Object(a["a"])(this,t),this.order=0,this.delay=0,this.duration=2e3,this.ease=function(t){return t},this.words=[],this.origin=[],this.keyFrames=[],this.frameCounter=0,this.font=new _["a"],Object.assign(this,n)}return Object(r["a"])(t,[{key:"updateWord",value:function(t,n,e,r){var a=this;this.font.setValWithRatio("width",1);var i=C(t.color,n.color)(e),o=this.font.getCss();this.words.forEach((function(r){var s=(n.xoff-t.xoff)*a.ease(e),c=(n.yoff-t.yoff)*a.ease(e),u=(n.scale-t.scale)*a.ease(e),l=(n.rotate-t.rotate)*a.ease(e);r.x=r.x+s,r.y=r.y+c,r.rotate=l,r.size=r.trues*(1+u),r.color=i,r.fontString=o}))}},{key:"setFrameCounter",value:function(t){this.frameCounter=t}},{key:"reset",value:function(){this.words=this.origin.map((function(t){return Object.assign({},t)})),this.frameCounter=0}}]),t}(),Ot=function(){function t(n){var e=this;Object(a["a"])(this,t),this.data=[],this.words=new Array,this.duration=3e4,this.groupManagers=[],this.mode=B["d"].dance,this.extent=.5,this.speed=.5,this.entropy=.5,this.wordMap=new Map,Object.assign(this,n),this.data.forEach((function(t,n){e.wordMap.set(t.text,n),e.words.push(new Y["b"](t,e.plotHandler.width,e.plotHandler.height))}))}return Object(r["a"])(t,[{key:"createManagers",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.groupManagers=new Array(t);for(var e=0;e<t;++e)this.groupManagers[e]=new kt(n)}},{key:"assignKeyFrame",value:function(t){this.groupManagers.forEach((function(n,e){n.keyFrames=t[e]}))}},{key:"divideGroup",value:function(t){var n=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=0==e.length?this.groupManagers.length:e.length,a=Math.ceil(this.words.length/r),i=[];if(t!==B["c"].xy)t===B["c"].random?i=St(this.words):t===B["c"].x?i=this.words.sort((function(t,n){return t.x-n.x})):t==B["c"].y&&(i=this.words.sort((function(t,n){return t.y-n.y}))),this.groupManagers.forEach((function(t,n){var e=a*n,r=e+a,o=i.slice(e,r);t.origin=o.map((function(t){return Object.assign({},t)})),t.words=o.map((function(t){return Object.assign({},t)}))}));else{var o=this.words.map((function(t){return[t.x,t.y]})),s=0==e.length?"kmeans":e,c=Object(R["a"])(o,r,s),u=Ft(r,0);c.indexes.forEach((function(t,e){u[t].push(n.words[e])})),this.groupManagers.forEach((function(t,n){var e=u[n];t.origin=e.map((function(t){return Object.assign({},t)})),t.words=e.map((function(t){return Object.assign({},t)}))}))}}},{key:"reset",value:function(){this.groupManagers.forEach((function(t){t.words=t.origin.map((function(t){return Object.assign({},t)})),t.frameCounter=0}))}},{key:"update",value:function(t,n){"duration"===t&&(this.duration=n),"mode"===t&&(this.mode=n)}},{key:"play",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.gifFlag,e=void 0!==n&&n,r=t.replay,a=void 0!==r&&r,i=this.mode,o=i!==B["d"].wave;this.reset(),i===B["d"].wave&&this.playWaving({gifFlag:e,replay:a}),i===B["d"].swing&&this.playSwinging({gifFlag:e,replay:a}),i===B["d"].dance&&this.playDancing({gifFlag:e,replay:a}),i===B["d"].split&&this.playSplitting({gifFlag:e,replay:a}),this.plotHandler.svg.style("display",o?"":"none"),this.plotHandler.canvas.style.display=o?"none":""}},{key:"playWaving",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(t.gifFlag,t.replay,this.data.map((function(t){return Object.assign({},t)})));xt({words:n,entropy:this.entropy,speed:this.speed})}},{key:"playSwinging",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.gifFlag,e=void 0!==n&&n,r=t.replay,a=void 0!==r&&r;if(a)this.reset();else{var i;null===(i=this.plotHandler)||void 0===i||i.plotOnSvg(this.data);var o=new G,s=this.words.length,c=o.getKeyFrames(B["d"].dance,s,this.extent,this.speed,this.entropy),u=c.length,l=jt();this.createManagers(u),this.assignKeyFrame(c),this.divideGroup(l)}this.startPlay(e,a)}},{key:"playSplitting",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.gifFlag,e=void 0!==n&&n,r=t.replay,a=void 0!==r&&r;if(a)this.reset();else{var i;null===(i=this.plotHandler)||void 0===i||i.plotOnSvg(this.data);for(var o=new G,c=this.words.length,u=[],l=this.plotHandler.width/4,f=this.plotHandler.height/4,h=Math.random()*Math.PI/4,d=o.getKeyFrames(B["d"].split,c,this.speed,this.entropy,h),g=d.length,v=0;v<g;v++){var y=2*v*Math.PI/g+h,p=l*Math.cos(y),m=f*Math.sin(y);u.push([p,m])}this.createManagers(g,{ease:s}),this.assignKeyFrame(d),this.divideGroup(B["c"].xy,u)}this.startPlay(e,a)}},{key:"playDancing",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.gifFlag,e=void 0!==n&&n,r=t.replay,a=void 0!==r&&r;if(a)this.reset();else{var i;null===(i=this.plotHandler)||void 0===i||i.plotOnSvg(this.data);var o=new G,s=this.words.length,c=o.getKeyFrames(B["d"].dance,s,this.extent,this.speed,this.entropy),u=c.length,l=jt();this.createManagers(u),this.assignKeyFrame(c),this.divideGroup(l)}this.startPlay(e,a)}},{key:"startPlay",value:function(){var t,n=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.groupManagers;null===(t=this.timer)||void 0===t||t.stop(),this.timer=i["c"]((function(t){if(t<n.duration){var a,i,o=new Array(n.words.length);if(r.forEach((function(e,r){var a=e.frameCounter,i=e.keyFrames,s=i[a],c=i[a+1],u=c.stage/100*n.duration;t>=u&&e.setFrameCounter(a+1);var l=s.stage/100*n.duration,f=(t-l)/(u-l),h=t/e.duration;e.updateWord(s,c,f,h),e.words.forEach((function(t,e){o[n.wordMap.get(t.text)]=t}))})),null===(a=n.plotHandler)||void 0===a||a.updateOnSvg(o),e)n.gif.addFrame(null===(i=n.plotHandler)||void 0===i?void 0:i.canvas,{copy:!0,delay:n.duration/256})}else{var s;null===(s=n.timer)||void 0===s||s.stop(),e&&n.gif.render(),n.play({gifFlag:e,replay:!0})}}),10)}},{key:"getTotalWords",value:function(){var t=[];return this.groupManagers.forEach((function(n,e){t=t.concat(n.words)})),t}},{key:"stop",value:function(){var t;null===(t=this.timer)||void 0===t||t.stop()}},{key:"createGif",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;this.gif=new I({quality:t});var n=Et();return this.gif.on("finished",(function(t){var e=document.createElement("a");e.setAttribute("target","_blank"),e.setAttribute("href",URL.createObjectURL(t)),e.setAttribute("download","animation.gif"),e.addEventListener("click",(function(){this.remove()})),e.click();var r=document.createElement("a");r.setAttribute("target","_blank"),r.setAttribute("href","data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(n))),r.setAttribute("download","param.json"),r.addEventListener("click",(function(){this.remove()})),r.click()})),this}},{key:"assignWords",value:function(t,n,e){for(var r=0;r<t;r++){var a=n*r,i=a+n;this.groupManagers[r].words=e.slice(a,i)}}}]),t}();function jt(){return B["c"].x}function Et(){return[W(),H(),z()]}var St=function(t){var n,e,r=t.length;while(0!=r)e=Math.floor(Math.random()*r),r-=1,n=t[r],t[r]=t[e],t[e]=n;return t},Ft=function(t,n){for(var e=[],r=0;r<t;r++)if(0!==n)e.push(new Array(n).fill(0));else{var a=[];e.push(a)}return e}}}]);
//# sourceMappingURL=chunk-62c3f4f6.3c31355b.js.map