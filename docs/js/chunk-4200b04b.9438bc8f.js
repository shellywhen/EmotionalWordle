(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4200b04b"],{"08ad":function(t,e,n){"use strict";n.r(e);n("99af");var a=n("7a23"),o={class:"interface"},i={class:"wrapper row"},r={class:"parameters row col-2"},s={class:"wrapper"},c=Object(a["g"])("span",{class:"config-tag"},"Dataset",-1),l={class:"wrapper"},u=Object(a["g"])("label",{class:"form-label",for:"wordleUpload"},[Object(a["f"])(" Upload "),Object(a["g"])("span",{class:"code"},"CSV")],-1),h=Object(a["g"])("i",{class:"fas fa-cloud-upload-alt light"},null,-1),p=Object(a["g"])("span",{class:"code"},"  csv",-1),f=Object(a["g"])("br",null,null,-1),d={class:"wrapper"},g=Object(a["g"])("span",{class:"config-tag"},"Emotion",-1),v={class:"config-radio"},b={class:"wrapper"},y=Object(a["g"])("span",{class:"config-tag"},"Animation Scheme",-1),m=Object(a["g"])("br",null,null,-1),w={class:"slider-wrapper"},O={class:"slider-wrapper"},j=Object(a["g"])("br",null,null,-1),k={class:"wrapper-mid row"},_={class:"col-4"},x={class:"col-4"},M={class:"col-4"},A=Object(a["g"])("br",null,null,-1),C=Object(a["g"])("i",{class:"fas fa-check light"},null,-1),S=Object(a["g"])("span",{class:"code"},"  Generate",-1),E={class:"col-10"},F={class:"group-configs"};function N(t,e,n,N,R,$){var P=Object(a["x"])("Slider"),I=Object(a["x"])("GroupPanel");return Object(a["p"])(),Object(a["d"])("div",o,[Object(a["g"])("div",i,[Object(a["g"])("div",r,[Object(a["g"])("div",null,[Object(a["g"])("div",s,[c,Object(a["G"])(Object(a["g"])("select",{name:"dataset",id:"dataset","onUpdate:modelValue":e[1]||(e[1]=function(e){return t.wordleData=e})},[(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["w"])(t.collection,(function(t){return Object(a["p"])(),Object(a["d"])("option",{key:t.tag,value:t},Object(a["z"])(t.tag),9,["value"])})),128))],512),[[a["C"],t.wordleData]]),Object(a["g"])("div",l,[u,Object(a["g"])("button",{class:"button",onClick:e[2]||(e[2]=function(){return t.openFile&&t.openFile.apply(t,arguments)})},[h,p]),Object(a["g"])("input",{type:"file",class:"form-control-sm",id:"wordleUpload",name:"wordleUpload",accept:"text/txt",onChange:e[3]||(e[3]=function(e){return t.handleUpload(e)})},null,32)])]),f,Object(a["g"])("div",d,[g,Object(a["g"])("div",v,[(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["w"])(t.tendencies,(function(n){return Object(a["p"])(),Object(a["d"])("div",{key:n},[Object(a["G"])(Object(a["g"])("input",{type:"radio",value:n,id:"mode-"+n[0],"onUpdate:modelValue":e[4]||(e[4]=function(e){return t.tendency=e})},null,8,["value","id"]),[[a["B"],t.tendency]]),Object(a["g"])("label",{for:"mode-"+n[0]},Object(a["z"])(n),9,["for"])])})),128))])]),Object(a["g"])("div",b,[y,Object(a["G"])(Object(a["g"])("select",{name:"emotion-select","onUpdate:modelValue":e[5]||(e[5]=function(e){return t.animationMode=e})},[(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["w"])(t.animationModes,(function(t){return Object(a["p"])(),Object(a["d"])("option",{key:t,value:t},Object(a["z"])(t),9,["value"])})),128))],512),[[a["C"],t.animationMode]])]),m,Object(a["g"])("div",w,[Object(a["g"])(P,{init:"0.5",step:"0.05",label:"Speed",className:"speed",callback:t.speedCallback},null,8,["callback"])]),Object(a["g"])("div",O,[Object(a["g"])(P,{init:"0.5",step:"0.05",label:"Entropy",className:"entropy",callback:t.entropyCallback},null,8,["callback"])]),j,Object(a["g"])("div",k,[Object(a["g"])("div",_,[Object(a["g"])("i",{id:"pauseButton",onClick:e[6]||(e[6]=function(e){return t.pause()}),class:"fas fa-pause-circle lg light"})]),Object(a["g"])("div",x,[Object(a["g"])("i",{id:"playButton",onClick:e[7]||(e[7]=function(e){return t.play()}),class:"fas fa-play-circle active lg light"})]),Object(a["g"])("div",M,[Object(a["g"])("i",{id:"replayButton",onClick:e[8]||(e[8]=function(e){return t.replay()}),class:"fas fa-arrow-circle-left lg light"})])]),A,Object(a["g"])("button",{type:"button",class:"button",onClick:e[9]||(e[9]=function(){return t.getGif&&t.getGif.apply(t,arguments)})},[C,S])])]),Object(a["g"])("div",E,[(Object(a["p"])(),Object(a["d"])("svg",{id:"emordle-svg",height:t.styleScheme.height*t.zoomLevel,width:t.styleScheme.width,viewBox:"".concat(0," ",-t.styleScheme.height*(1-t.zoomLevel)/2," ").concat(t.styleScheme.width," ").concat(t.styleScheme.height),preserveAspectRatio:"xMidYMid meet"},null,8,["height","width","viewBox"])),Object(a["g"])("canvas",{id:"emordle-canvas",height:t.styleScheme.height*t.zoomLevel,width:t.styleScheme.width},null,8,["height","width"]),Object(a["g"])("div",F,[(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["w"])(t.groups,(function(e,n){return Object(a["p"])(),Object(a["d"])("div",{key:e,class:"group-config group_config_".concat(n)},[Object(a["g"])(I,{group:e,font:t.font,groupIndex:n},null,8,["group","font","groupIndex"])],2)})),128))])])])])}n("4de4"),n("4160"),n("a15b"),n("d81d"),n("fb6a"),n("b0c0"),n("d3b7"),n("ac1f"),n("25f0"),n("3ca3"),n("1276"),n("159b"),n("ddb0"),n("2b3d");var R=n("d4ec"),$=n("bee2"),P=n("262e"),I=n("2caf"),L=n("9ab4"),D=n("ce1f"),B=n("1b40"),T=n("3433"),H=Object(a["H"])("data-v-06031fd4");Object(a["t"])("data-v-06031fd4");var U={class:"groupConfig"},G={class:"word-group-div"},z={class:"color-set"},V={class:"group-color"},K={class:"sliders"},W={class:"slider-wrapper"},q={class:"slider-wrapper"},Y={class:"keyframes"};Object(a["q"])();var X=H((function(t,e,n,o,i,r){var s=Object(a["x"])("Slider"),c=Object(a["x"])("KeyframeList");return Object(a["p"])(),Object(a["d"])("div",U,[Object(a["g"])("div",G,[(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["w"])(t.wordContent,(function(t){return Object(a["p"])(),Object(a["d"])("span",{key:t,class:"word-content"},Object(a["z"])(t),1)})),128))]),Object(a["g"])("div",z,[Object(a["g"])("div",V,[(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["w"])(t.colorScheme,(function(e,n){return Object(a["p"])(),Object(a["d"])("div",{key:e,id:"color_".concat(t.groupIndex,"_").concat(n),class:"color-block"},null,8,["id"])})),128))])]),Object(a["g"])("div",K,[Object(a["g"])("div",W,[Object(a["g"])(s,{max:"8000",min:"1000",init:"5000",step:"500",label:"Speed",className:"duration",callback:t.durationCallback},null,8,["callback"])]),Object(a["g"])("div",q,[Object(a["g"])(s,{max:"8000",min:"1000",init:"5000",step:"500",label:"Delay",className:"delay",callback:t.delayCallback},null,8,["callback"])]),Object(a["g"])("div",Y,[Object(a["g"])(c,{keyframes:t.keyframes,groupIndex:t.groupIndex},null,8,["keyframes","groupIndex"])])])])})),J={class:"keyframe-configs"},Z=Object(a["g"])("span",null,"×",-1),Q=Object(a["g"])("span",null,"→",-1),tt=Object(a["g"])("span",null,"↓",-1),et=Object(a["g"])("span",null,"↻",-1),nt=Object(a["f"])(" ");function at(t,e,n,o,i,r){return Object(a["p"])(),Object(a["d"])("div",J,[(Object(a["p"])(),Object(a["d"])("svg",{class:"stage-overview stage_overview_".concat(t.groupIndex)},null,2)),(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["w"])(t.keyframes,(function(t){return Object(a["p"])(),Object(a["d"])("div",{key:t,class:"keyframe-config"},[Z,Object(a["g"])("span",null,Object(a["z"])(t.scale),1),Q,Object(a["g"])("span",null,Object(a["z"])(t.xoff),1),tt,Object(a["g"])("span",null,Object(a["z"])(t.yoff),1),et,Object(a["g"])("span",null,Object(a["z"])("".concat(t.rotate,"°")),1),Object(a["g"])("span",null,[nt,Object(a["g"])("button",{class:"color-btn",style:{"background-color":t.color}},null,4)])])})),128))])}n("a9e3");var ot=n("5698"),it=n("548a"),rt=.08,st=function(t){Object(P["a"])(n,t);var e=Object(I["a"])(n);function n(){var t;return Object(R["a"])(this,n),t=e.apply(this,arguments),t.keyframes=[],t.groupIndex=0,t}return Object($["a"])(n,[{key:"created",value:function(){}},{key:"mounted",value:function(){for(var t=ot["c"](".stage-overview").node(),e=t.getBoundingClientRect().width,n=t.getBoundingClientRect().height,a=it["a"]().range([0,e*(1-2*rt)]).domain([0,100]),o=(a.invert,e*(1-2*rt)/this.keyframes.length*.9),i=1;i<this.keyframes.length;i++)o=Math.min(.9*(this.keyframes[i].stage-this.keyframes[i-1].stage),o);var r=ot["c"](".stage_overview_".concat(this.groupIndex)),s=r.append("g").attr("transform","translate(".concat(e*rt,", 0)")).selectAll("circle").data(this.keyframes).enter().append("g").attr("transform",(function(t){return"translate(".concat(a(t.stage),", 0)")})).classed("stage-hint",!0);s.append("rect").classed("overlay-rect",!0).attr("x",-o/2).attr("y",0).attr("width",o).attr("height",n).on("mouseover",(function(t,e){ot["c"](this.parentNode).select("text").classed("active",!0)})).on("mouseout",(function(t,e){ot["c"](this.parentNode).select("text").classed("active",!1)})),s.append("circle").classed("stage-point",!0).attr("cx",0).attr("cy",n/2).attr("r",3),s.append("text").classed("annotation",!0).attr("y",n/4).text((function(t){return"".concat(Number(t.stage/100).toPrecision(4).substring(1,4))}))}}]),n}(D["b"]);Object(L["a"])([Object(B["a"])({})],st.prototype,"keyframes",void 0),Object(L["a"])([Object(B["a"])({})],st.prototype,"groupIndex",void 0);n("f934");st.render=at;var ct=st,lt=n("7789"),ut=n("eae0"),ht=n.n(ut),pt=lt["d"],ft=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pt,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".color-picker";ht.a.create({el:n,theme:"nano",swatches:e,default:t,components:{preview:!0,opacity:!0,hue:!0,interaction:{hex:!0,rgba:!0,hsla:!0,hsva:!0,cmyk:!0,input:!0,clear:!0,save:!0}}})},dt=n("0b42"),gt=n("f80d"),vt=function(t){Object(P["a"])(n,t);var e=Object(I["a"])(n);function n(){var t;return Object(R["a"])(this,n),t=e.apply(this,arguments),t.group=new gt["a"]({}),t.font=new dt["a"],t.groupIndex=0,t.colorScheme=lt["b"],t.delay=0,t.duration=2e3,t}return Object($["a"])(n,[{key:"created",value:function(){}},{key:"mounted",value:function(){}},{key:"groupChanged",value:function(t){var e=this;console.log(t,"nonono");var n=this.colorScheme;this.colorScheme.forEach((function(t,a){ft(t,n,"#color_".concat(e.groupIndex,"_").concat(a))}))}},{key:"wghtCallback",value:function(t){this.font.setValWithRatio("weight",t)}},{key:"italCallback",value:function(t){this.font.setValWithRatio("italic",t)}},{key:"widhCallback",value:function(t){this.font.setValWithRatio("width",t)}},{key:"durationCallback",value:function(t){this.duration=t}},{key:"delayCallback",value:function(t){this.delay=t}},{key:"wordContent",get:function(){return this.group?this.group.words.map((function(t){return t.text||""})):[]}},{key:"keyframes",get:function(){return this.group?this.group.keyFrames:[]}}]),n}(D["b"]);Object(L["a"])([Object(B["a"])({})],vt.prototype,"group",void 0),Object(L["a"])([Object(B["a"])({})],vt.prototype,"font",void 0),Object(L["a"])([Object(B["a"])({})],vt.prototype,"groupIndex",void 0),Object(L["a"])([Object(B["b"])("group")],vt.prototype,"groupChanged",null),vt=Object(L["a"])([Object(D["a"])({components:{Slider:T["a"],KeyframeList:ct}})],vt);var bt=vt;n("ffad");bt.render=X,bt.__scopeId="data-v-06031fd4";var yt=bt,mt=n("b133"),wt=n("c347"),Ot=function(t){Object(P["a"])(n,t);var e=Object(I["a"])(n);function n(){var t;return Object(R["a"])(this,n),t=e.apply(this,arguments),t.wordleData=null,t.collection=[],t.fileReader=new FileReader,t.zoomLevel=.8,t.uploadFilename="",t.font=new dt["a"],t.duration=5e3,t.speed=.5,t.entropy=.5,t.customColor="#000000",t.animator=null,t.extent=.5,t.tendencies=[mt["b"].positive,mt["b"].negative],t.tendency=mt["b"].positive,t.animationModes=[mt["d"].split,mt["d"].dance,mt["d"].wave,mt["d"].swing],t.animationMode=mt["d"].swing,t.plotHandler=void 0,t}return Object($["a"])(n,[{key:"mounted",value:function(){var t=this;this.fileReader.addEventListener("load",this.parseFile,!1);var e=["ingredients","thx","colored_ingredients"],n=e.map((function(t){return ot["b"]("./dataset/layout/layout_".concat(t,".json"))}));Promise.all(n).then((function(n){t.collection=n.map((function(t,n){return{tag:e[n],data:t}})),t.wordleData=t.collection[0],ot["c"]("#dataset").selectAll("option").property("selected","false").filter((function(e){return e["data-tag"]==t.collection[0].tag})).property("selected",!0)}))}},{key:"wordleDataChanged",value:function(){if(this.wordleData){var t=this.wordleData.data.map((function(t){return Object.assign({},t)}));"color"in t[0]||(t=kt(t)),this.font.update({name:t[0].font}),this.plotHandler=new wt["a"]("emordle-canvas","emordle-svg",this.styleScheme,!0),this.animator&&this.animator.stop(),this.animator=new gt["c"]({data:t,duration:this.duration,plotHandler:this.plotHandler,mode:this.animationMode}),this.animator.play()}}},{key:"aniModeChanged",value:function(){this.wordleData&&(this.animator.update("mode",this.animationMode),this.animator.reset(),this.animator.play())}},{key:"speedCallback",value:function(t){var e;if(this.wordleData){var n=parseFloat(t);this.speed=n,this.animator.speed=n,null===(e=this.animator)||void 0===e||e.reset(),this.animator.play()}}},{key:"entropyCallback",value:function(t){if(this.wordleData){var e=parseFloat(t);this.entropy=e,this.animator.entropy=e,this.animator.reset(),this.animator.play()}}},{key:"handleUpload",value:function(t){var e=this,n=t.target.files[0];n&&(this.fileReader.readAsText(n),this.uploadFilename=n.name.split(".").slice(0,-1).join("."),this.collection.forEach((function(t){t.tag==e.uploadFilename&&(e.uploadFilename+=Math.random().toString()+Math.random.toString())})))}},{key:"showGroup",value:function(){var t=".group-configs",e=!ot["c"](t).classed("active");ot["c"](t).classed("active",e),console.log(e)}},{key:"pause",value:function(){var t="#pauseButton",e=!ot["c"](t).classed("active");ot["c"](t).classed("active",e),ot["c"]("#playButton").classed("active",!e),this.animator&&this.animator.stop()}},{key:"play",value:function(){var t="#playButton",e=!ot["c"](t).classed("active");ot["c"](t).classed("active",e),ot["c"]("#pauseButton").classed("active",!e),this.animator&&this.animator.stop()}},{key:"replay",value:function(){this.animator&&this.animator.play()}},{key:"parseFile",value:function(){var t=this.fileReader.result;if(t&&"string"===typeof t){console.log(this.fileReader);var e=JSON.parse(t),n={data:e,tag:this.uploadFilename};this.collection.push(n),ot["c"]("#dataset").property("value",n),this.wordleData=n}}},{key:"downloadGif",value:function(){this.animator&&this.animator.createGif().play({gifFlag:!0})}},{key:"downloadJson",value:function(){if(this.wordleData){var t=document.createElement("a");t.href=URL.createObjectURL(new Blob([JSON.stringify(this.wordleData.data)],{type:"text/json"})),t.download="layout_".concat(this.wordleData.tag,".json"),t.click(),t.remove()}}},{key:"openFile",value:function(){document.getElementById("wordleUpload").click()}},{key:"groups",get:function(){return this.animator?this.animator.groupManagers:[]}},{key:"styleScheme",get:function(){return{fontStyle:"regular",fontWeight:"400",fontFamily:this.font.name,height:520,width:780,font:this.font}}}]),n}(D["b"]);Object(L["a"])([Object(B["b"])("wordleData")],Ot.prototype,"wordleDataChanged",null),Object(L["a"])([Object(B["b"])("animationMode")],Ot.prototype,"aniModeChanged",null),Ot=Object(L["a"])([Object(D["a"])({components:{Slider:T["a"],GroupPanel:yt}})],Ot);var jt=Ot,kt=function(t){return t.forEach((function(t,e){t.color="black"})),t};n("8b2e");jt.render=N;e["default"]=jt},"1b40":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return s}));n("7a23");var a=n("ce1f");var o="undefined"!==typeof Reflect&&"undefined"!==typeof Reflect.getMetadata;function i(t,e,n){if(o&&!Array.isArray(t)&&"function"!==typeof t&&!t.hasOwnProperty("type")&&"undefined"===typeof t.type){var a=Reflect.getMetadata("design:type",e,n);a!==Object&&(t.type=a)}}function r(t){return void 0===t&&(t={}),function(e,n){i(t,e,n),Object(a["c"])((function(e,n){(e.props||(e.props={}))[n]=t}))(e,n)}}function s(t,e){void 0===e&&(e={});var n=e.deep,o=void 0!==n&&n,i=e.immediate,r=void 0!==i&&i;return Object(a["c"])((function(e,n){"object"!==typeof e.watch&&(e.watch=Object.create(null));var a=e.watch;"object"!==typeof a[t]||Array.isArray(a[t])?"undefined"===typeof a[t]&&(a[t]=[]):a[t]=[a[t]],a[t].push({handler:n,deep:o,immediate:r})}))}},2724:function(t,e,n){},"32c7":function(t,e,n){},3433:function(t,e,n){"use strict";var a=n("7a23"),o=Object(a["H"])("data-v-78773d8c");Object(a["t"])("data-v-78773d8c");var i={class:"slider-container"},r={class:"config-tag slider-tag"},s={key:0};Object(a["q"])();var c=o((function(t,e,n,o,c,l){return Object(a["p"])(),Object(a["d"])("div",i,[Object(a["g"])("div",r,[Object(a["g"])("span",null,Object(a["z"])(t.label),1),t.showValue?(Object(a["p"])(),Object(a["d"])("span",s,"    "+Object(a["z"])(t.value),1)):Object(a["e"])("",!0)]),Object(a["G"])(Object(a["g"])("input",{type:"range",class:t.rangeClass,min:t.min,max:t.max,step:t.step,"onUpdate:modelValue":e[1]||(e[1]=function(e){return t.value=e})},null,10,["min","max","step"]),[[a["D"],t.value]])])})),l=n("d4ec"),u=n("bee2"),h=n("262e"),p=n("2caf"),f=n("9ab4"),d=n("1b40"),g=n("ce1f"),v=function(t){Object(h["a"])(n,t);var e=Object(p["a"])(n);function n(){var t;return Object(l["a"])(this,n),t=e.apply(this,arguments),t.min=0,t.max=1,t.step=.1,t.callback=function(t){},t.label="",t.className="slider",t.init=0,t.showValue=!1,t.value=0,t.range=1,t}return Object(u["a"])(n,[{key:"created",value:function(){this.value=this.init}},{key:"valueChanged",value:function(t){this.callback(t)}},{key:"rangeClass",get:function(){return this.className+" slider"}}]),n}(g["b"]);Object(f["a"])([Object(d["a"])({default:0})],v.prototype,"min",void 0),Object(f["a"])([Object(d["a"])({default:1})],v.prototype,"max",void 0),Object(f["a"])([Object(d["a"])({default:.1})],v.prototype,"step",void 0),Object(f["a"])([Object(d["a"])({default:function(t){}})],v.prototype,"callback",void 0),Object(f["a"])([Object(d["a"])({default:""})],v.prototype,"label",void 0),Object(f["a"])([Object(d["a"])({default:"slider"})],v.prototype,"className",void 0),Object(f["a"])([Object(d["a"])({default:0})],v.prototype,"init",void 0),Object(f["a"])([Object(d["a"])({default:!1})],v.prototype,"showValue",void 0),Object(f["a"])([Object(d["b"])("value")],v.prototype,"valueChanged",null);n("fc89");v.render=c,v.__scopeId="data-v-78773d8c";e["a"]=v},"408a":function(t,e,n){var a=n("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=a(t))throw TypeError("Incorrect invocation");return+t}},"548a":function(t,e,n){"use strict";n.d(e,"a",(function(){return at}));var a=Math.sqrt(50),o=Math.sqrt(10),i=Math.sqrt(2),r=function(t,e,n){var a,o,i,r,c=-1;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((a=e<t)&&(o=t,t=e,e=o),0===(r=s(t,e,n))||!isFinite(r))return[];if(r>0){t=Math.ceil(t/r),e=Math.floor(e/r),i=new Array(o=Math.ceil(e-t+1));while(++c<o)i[c]=(t+c)*r}else{r=-r,t=Math.ceil(t*r),e=Math.floor(e*r),i=new Array(o=Math.ceil(e-t+1));while(++c<o)i[c]=(t+c)/r}return a&&i.reverse(),i};function s(t,e,n){var r=(e-t)/Math.max(0,n),s=Math.floor(Math.log(r)/Math.LN10),c=r/Math.pow(10,s);return s>=0?(c>=a?10:c>=o?5:c>=i?2:1)*Math.pow(10,s):-Math.pow(10,-s)/(c>=a?10:c>=o?5:c>=i?2:1)}function c(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),s=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),c=r/s;return c>=a?s*=10:c>=o?s*=5:c>=i&&(s*=2),e<t?-s:s}var l=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},u=function(t){let e=t,n=t;function a(t,e,a,o){null==a&&(a=0),null==o&&(o=t.length);while(a<o){const i=a+o>>>1;n(t[i],e)<0?a=i+1:o=i}return a}function o(t,e,a,o){null==a&&(a=0),null==o&&(o=t.length);while(a<o){const i=a+o>>>1;n(t[i],e)>0?o=i:a=i+1}return a}function i(t,n,o,i){null==o&&(o=0),null==i&&(i=t.length);const r=a(t,n,o,i-1);return r>o&&e(t[r-1],n)>-e(t[r],n)?r-1:r}return 1===t.length&&(e=(e,n)=>t(e)-n,n=h(t)),{left:a,center:i,right:o}};function h(t){return(e,n)=>l(t(e),n)}var p=function(t){return null===t?NaN:+t};const f=u(l),d=f.right;f.left,u(p).center;var g=d,v=n("ea1d"),b=n("e317"),y=function(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}};function m(t){return function(){return t}}function w(t){return+t}var O=[0,1];function j(t){return t}function k(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:m(isNaN(e)?NaN:.5)}function _(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}function x(t,e,n){var a=t[0],o=t[1],i=e[0],r=e[1];return o<a?(a=k(o,a),i=n(r,i)):(a=k(a,o),i=n(i,r)),function(t){return i(a(t))}}function M(t,e,n){var a=Math.min(t.length,e.length)-1,o=new Array(a),i=new Array(a),r=-1;t[a]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());while(++r<a)o[r]=k(t[r],t[r+1]),i[r]=n(e[r],e[r+1]);return function(e){var n=g(t,e,1,a)-1;return i[n](o[n](e))}}function A(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function C(){var t,e,n,a,o,i,r=O,s=O,c=v["a"],l=j;function u(){var t=Math.min(r.length,s.length);return l!==j&&(l=_(r[0],r[t-1])),a=t>2?M:x,o=i=null,h}function h(e){return isNaN(e=+e)?n:(o||(o=a(r.map(t),s,c)))(t(l(e)))}return h.invert=function(n){return l(e((i||(i=a(s,r.map(t),b["a"])))(n)))},h.domain=function(t){return arguments.length?(r=Array.from(t,w),u()):r.slice()},h.range=function(t){return arguments.length?(s=Array.from(t),u()):s.slice()},h.rangeRound=function(t){return s=Array.from(t),c=y,u()},h.clamp=function(t){return arguments.length?(l=!!t||j,u()):l!==j},h.interpolate=function(t){return arguments.length?(c=t,u()):c},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,a){return t=n,e=a,u()}}function S(){return C()(j,j)}function E(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}var F=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function N(t){if(!(e=F.exec(t)))throw new Error("invalid format: "+t);var e;return new R({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function R(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}N.prototype=R.prototype,R.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var $=function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)};function P(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,a=t.slice(0,n);return[a.length>1?a[0]+a.slice(2):a,+t.slice(n+1)]}var I,L,D,B,T=function(t){return t=P(Math.abs(t)),t?t[1]:NaN},H=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(T(e)/3)))-T(Math.abs(t)))},U=function(t,e){return function(n,a){var o=n.length,i=[],r=0,s=t[0],c=0;while(o>0&&s>0){if(c+s+1>a&&(s=Math.max(1,a-c)),i.push(n.substring(o-=s,o+s)),(c+=s+1)>a)break;s=t[r=(r+1)%t.length]}return i.reverse().join(e)}},G=function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}},z=function(t){t:for(var e,n=t.length,a=1,o=-1;a<n;++a)switch(t[a]){case".":o=e=a;break;case"0":0===o&&(o=a),e=a;break;default:if(!+t[a])break t;o>0&&(o=0);break}return o>0?t.slice(0,o)+t.slice(e+1):t},V=function(t,e){var n=P(t,e);if(!n)return t+"";var a=n[0],o=n[1],i=o-(I=3*Math.max(-8,Math.min(8,Math.floor(o/3))))+1,r=a.length;return i===r?a:i>r?a+new Array(i-r+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+P(t,Math.max(0,e+i-1))[0]},K=function(t,e){var n=P(t,e);if(!n)return t+"";var a=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+a:a.length>o+1?a.slice(0,o+1)+"."+a.slice(o+1):a+new Array(o-a.length+2).join("0")},W={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:$,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>K(100*t,e),r:K,s:V,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)},q=function(t){return t},Y=Array.prototype.map,X=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],J=function(t){var e=void 0===t.grouping||void 0===t.thousands?q:U(Y.call(t.grouping,Number),t.thousands+""),n=void 0===t.currency?"":t.currency[0]+"",a=void 0===t.currency?"":t.currency[1]+"",o=void 0===t.decimal?".":t.decimal+"",i=void 0===t.numerals?q:G(Y.call(t.numerals,String)),r=void 0===t.percent?"%":t.percent+"",s=void 0===t.minus?"−":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function l(t){t=N(t);var l=t.fill,u=t.align,h=t.sign,p=t.symbol,f=t.zero,d=t.width,g=t.comma,v=t.precision,b=t.trim,y=t.type;"n"===y?(g=!0,y="g"):W[y]||(void 0===v&&(v=12),b=!0,y="g"),(f||"0"===l&&"="===u)&&(f=!0,l="0",u="=");var m="$"===p?n:"#"===p&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",w="$"===p?a:/[%p]/.test(y)?r:"",O=W[y],j=/[defgprs%]/.test(y);function k(t){var n,a,r,p=m,k=w;if("c"===y)k=O(t)+k,t="";else{t=+t;var _=t<0||1/t<0;if(t=isNaN(t)?c:O(Math.abs(t),v),b&&(t=z(t)),_&&0===+t&&"+"!==h&&(_=!1),p=(_?"("===h?h:s:"-"===h||"("===h?"":h)+p,k=("s"===y?X[8+I/3]:"")+k+(_&&"("===h?")":""),j){n=-1,a=t.length;while(++n<a)if(r=t.charCodeAt(n),48>r||r>57){k=(46===r?o+t.slice(n+1):t.slice(n))+k,t=t.slice(0,n);break}}}g&&!f&&(t=e(t,1/0));var x=p.length+t.length+k.length,M=x<d?new Array(d-x+1).join(l):"";switch(g&&f&&(t=e(M+t,M.length?d-k.length:1/0),M=""),u){case"<":t=p+t+k+M;break;case"=":t=p+M+t+k;break;case"^":t=M.slice(0,x=M.length>>1)+p+t+k+M.slice(x);break;default:t=M+p+t+k;break}return i(t)}return v=void 0===v?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),k.toString=function(){return t+""},k}function u(t,e){var n=l((t=N(t),t.type="f",t)),a=3*Math.max(-8,Math.min(8,Math.floor(T(e)/3))),o=Math.pow(10,-a),i=X[8+a/3];return function(t){return n(o*t)+i}}return{format:l,formatPrefix:u}};function Z(t){return L=J(t),D=L.format,B=L.formatPrefix,L}Z({thousands:",",grouping:[3],currency:["$",""]});var Q=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,T(e)-T(t))+1},tt=function(t){return Math.max(0,-T(Math.abs(t)))};function et(t,e,n,a){var o,i=c(t,e,n);switch(a=N(null==a?",f":a),a.type){case"s":var r=Math.max(Math.abs(t),Math.abs(e));return null!=a.precision||isNaN(o=H(i,r))||(a.precision=o),B(a,r);case"":case"e":case"g":case"p":case"r":null!=a.precision||isNaN(o=Q(i,Math.max(Math.abs(t),Math.abs(e))))||(a.precision=o-("e"===a.type));break;case"f":case"%":null!=a.precision||isNaN(o=tt(i))||(a.precision=o-2*("%"===a.type));break}return D(a)}function nt(t){var e=t.domain;return t.ticks=function(t){var n=e();return r(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var a=e();return et(a[0],a[a.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var a,o,i=e(),r=0,c=i.length-1,l=i[r],u=i[c],h=10;u<l&&(o=l,l=u,u=o,o=r,r=c,c=o);while(h-- >0){if(o=s(l,u,n),o===a)return i[r]=l,i[c]=u,e(i);if(o>0)l=Math.floor(l/o)*o,u=Math.ceil(u/o)*o;else{if(!(o<0))break;l=Math.ceil(l*o)/o,u=Math.floor(u*o)/o}a=o}return t},t}function at(){var t=S();return t.copy=function(){return A(t,at())},E.apply(t,arguments),nt(t)}},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var a=n("1d80"),o=n("5899"),i="["+o+"]",r=RegExp("^"+i+i+"*"),s=RegExp(i+i+"*$"),c=function(t){return function(e){var n=String(a(e));return 1&t&&(n=n.replace(r,"")),2&t&&(n=n.replace(s,"")),n}};t.exports={start:c(1),end:c(2),trim:c(3)}},"5f94":function(t,e,n){},"7b18":function(t,e,n){},"8b2e":function(t,e,n){"use strict";n("5f94")},"9ab4":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));function a(t,e,n,a){var o,i=arguments.length,r=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,n):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)r=Reflect.decorate(t,e,n,a);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(i<3?o(r):i>3?o(e,n,r):o(e,n))||r);return i>3&&r&&Object.defineProperty(e,n,r),r}},a9e3:function(t,e,n){"use strict";var a=n("83ab"),o=n("da84"),i=n("94ca"),r=n("6eeb"),s=n("5135"),c=n("c6b6"),l=n("7156"),u=n("c04e"),h=n("d039"),p=n("7c73"),f=n("241c").f,d=n("06cf").f,g=n("9bf2").f,v=n("58a8").trim,b="Number",y=o[b],m=y.prototype,w=c(p(m))==b,O=function(t){var e,n,a,o,i,r,s,c,l=u(t,!1);if("string"==typeof l&&l.length>2)if(l=v(l),e=l.charCodeAt(0),43===e||45===e){if(n=l.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:a=2,o=49;break;case 79:case 111:a=8,o=55;break;default:return+l}for(i=l.slice(2),r=i.length,s=0;s<r;s++)if(c=i.charCodeAt(s),c<48||c>o)return NaN;return parseInt(i,a)}return+l};if(i(b,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var j,k=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof k&&(w?h((function(){m.valueOf.call(n)})):c(n)!=b)?l(new y(O(e)),n,k):O(e)},_=a?f(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),x=0;_.length>x;x++)s(y,j=_[x])&&!s(k,j)&&g(k,j,d(y,j));k.prototype=m,m.constructor=k,r(o,b,k)}},b64b:function(t,e,n){var a=n("23e7"),o=n("7b0b"),i=n("df75"),r=n("d039"),s=r((function(){i(1)}));a({target:"Object",stat:!0,forced:s},{keys:function(t){return i(o(t))}})},b65f:function(t,e,n){var a=n("23e7"),o=Math.ceil,i=Math.floor;a({target:"Math",stat:!0},{trunc:function(t){return(t>0?i:o)(t)}})},b680:function(t,e,n){"use strict";var a=n("23e7"),o=n("a691"),i=n("408a"),r=n("1148"),s=n("d039"),c=1..toFixed,l=Math.floor,u=function(t,e,n){return 0===e?n:e%2===1?u(t,e-1,n*t):u(t*t,e/2,n)},h=function(t){var e=0,n=t;while(n>=4096)e+=12,n/=4096;while(n>=2)e+=1,n/=2;return e},p=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){c.call({})}));a({target:"Number",proto:!0,forced:p},{toFixed:function(t){var e,n,a,s,c=i(this),p=o(t),f=[0,0,0,0,0,0],d="",g="0",v=function(t,e){var n=-1,a=e;while(++n<6)a+=t*f[n],f[n]=a%1e7,a=l(a/1e7)},b=function(t){var e=6,n=0;while(--e>=0)n+=f[e],f[e]=l(n/t),n=n%t*1e7},y=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==f[t]){var n=String(f[t]);e=""===e?n:e+r.call("0",7-n.length)+n}return e};if(p<0||p>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(d="-",c=-c),c>1e-21)if(e=h(c*u(2,69,1))-69,n=e<0?c*u(2,-e,1):c/u(2,e,1),n*=4503599627370496,e=52-e,e>0){v(0,n),a=p;while(a>=7)v(1e7,0),a-=7;v(u(10,a,1),0),a=e-1;while(a>=23)b(1<<23),a-=23;b(1<<a),v(1,1),b(2),g=y()}else v(0,n),v(1<<-e,0),g=y()+r.call("0",p);return p>0?(s=g.length,g=d+(s<=p?"0."+r.call("0",p-s)+g:g.slice(0,s-p)+"."+g.slice(s-p))):g=d+g,g}})},dbb4:function(t,e,n){var a=n("23e7"),o=n("83ab"),i=n("56ef"),r=n("fc6a"),s=n("06cf"),c=n("8418");a({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(t){var e,n,a=r(t),o=s.f,l=i(a),u={},h=0;while(l.length>h)n=o(a,e=l[h++]),void 0!==n&&c(u,e,n);return u}})},e439:function(t,e,n){var a=n("23e7"),o=n("d039"),i=n("fc6a"),r=n("06cf").f,s=n("83ab"),c=o((function(){r(1)})),l=!s||c;a({target:"Object",stat:!0,forced:l,sham:!s},{getOwnPropertyDescriptor:function(t,e){return r(i(t),e)}})},eae0:function(t,e,n){
/*! Pickr 1.8.0 MIT | https://github.com/Simonwep/pickr */
!function(e,n){t.exports=n()}(window,(function(){return function(t){var e={};function n(a){if(e[a])return e[a].exports;var o=e[a]={i:a,l:!1,exports:{}};return t[a].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(a,o,function(e){return t[e]}.bind(null,o));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);var a={};function o(t,e,n,a,o={}){e instanceof HTMLCollection||e instanceof NodeList?e=Array.from(e):Array.isArray(e)||(e=[e]),Array.isArray(n)||(n=[n]);for(const i of e)for(const e of n)i[t](e,a,{capture:!1,...o});return Array.prototype.slice.call(arguments,1)}n.r(a),n.d(a,"on",(function(){return i})),n.d(a,"off",(function(){return r})),n.d(a,"createElementFromString",(function(){return s})),n.d(a,"createFromTemplate",(function(){return c})),n.d(a,"eventPath",(function(){return l})),n.d(a,"resolveElement",(function(){return u})),n.d(a,"adjustableInputNumbers",(function(){return h}));const i=o.bind(null,"addEventListener"),r=o.bind(null,"removeEventListener");function s(t){const e=document.createElement("div");return e.innerHTML=t.trim(),e.firstElementChild}function c(t){const e=(t,e)=>{const n=t.getAttribute(e);return t.removeAttribute(e),n},n=(t,a={})=>{const o=e(t,":obj"),i=e(t,":ref"),r=o?a[o]={}:a;i&&(a[i]=t);for(const s of Array.from(t.children)){const t=e(s,":arr"),a=n(s,t?{}:r);t&&(r[t]||(r[t]=[])).push(Object.keys(a).length?a:s)}return a};return n(s(t))}function l(t){let e=t.path||t.composedPath&&t.composedPath();if(e)return e;let n=t.target.parentElement;for(e=[t.target,n];n=n.parentElement;)e.push(n);return e.push(document,window),e}function u(t){return t instanceof Element?t:"string"==typeof t?t.split(/>>/g).reduce((t,e,n,a)=>(t=t.querySelector(e),n<a.length-1?t.shadowRoot:t),document):null}function h(t,e=(t=>t)){function n(n){const a=[.001,.01,.1][Number(n.shiftKey||2*n.ctrlKey)]*(n.deltaY<0?1:-1);let o=0,i=t.selectionStart;t.value=t.value.replace(/[\d.]+/g,(t,n)=>n<=i&&n+t.length>=i?(i=n,e(Number(t),a,o)):(o++,t)),t.focus(),t.setSelectionRange(i,i),n.preventDefault(),t.dispatchEvent(new Event("input"))}i(t,"focus",()=>i(window,"wheel",n,{passive:!1})),i(t,"blur",()=>r(window,"wheel",n))}const{min:p,max:f,floor:d,round:g}=Math;function v(t,e,n){e/=100,n/=100;const a=d(t=t/360*6),o=t-a,i=n*(1-e),r=n*(1-o*e),s=n*(1-(1-o)*e),c=a%6;return[255*[n,r,i,i,s,n][c],255*[s,n,n,r,i,i][c],255*[i,i,s,n,n,r][c]]}function b(t,e,n){const a=(2-(e/=100))*(n/=100)/2;return 0!==a&&(e=1===a?0:a<.5?e*n/(2*a):e*n/(2-2*a)),[t,100*e,100*a]}function y(t,e,n){const a=p(t/=255,e/=255,n/=255),o=f(t,e,n),i=o-a;let r,s;if(0===i)r=s=0;else{s=i/o;const a=((o-t)/6+i/2)/i,c=((o-e)/6+i/2)/i,l=((o-n)/6+i/2)/i;t===o?r=l-c:e===o?r=1/3+a-l:n===o&&(r=2/3+c-a),r<0?r+=1:r>1&&(r-=1)}return[360*r,100*s,100*o]}function m(t,e,n,a){return e/=100,n/=100,[...y(255*(1-p(1,(t/=100)*(1-(a/=100))+a)),255*(1-p(1,e*(1-a)+a)),255*(1-p(1,n*(1-a)+a)))]}function w(t,e,n){e/=100;const a=2*(e*=(n/=100)<.5?n:1-n)/(n+e)*100,o=100*(n+e);return[t,isNaN(a)?0:a,o]}function O(t){return y(...t.match(/.{2}/g).map(t=>parseInt(t,16)))}function j(t){t=t.match(/^[a-zA-Z]+$/)?function(t){if("black"===t.toLowerCase())return"#000";const e=document.createElement("canvas").getContext("2d");return e.fillStyle=t,"#000"===e.fillStyle?null:e.fillStyle}(t):t;const e={cmyk:/^cmyk[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)/i,rgba:/^((rgba)|rgb)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]*?([\d.]+|$)/i,hsla:/^((hsla)|hsl)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]*?([\d.]+|$)/i,hsva:/^((hsva)|hsv)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]*?([\d.]+|$)/i,hexa:/^#?(([\dA-Fa-f]{3,4})|([\dA-Fa-f]{6})|([\dA-Fa-f]{8}))$/i},n=t=>t.map(t=>/^(|\d+)\.\d+|\d+$/.test(t)?Number(t):void 0);let a;t:for(const o in e){if(!(a=e[o].exec(t)))continue;const i=t=>!!a[2]==("number"==typeof t);switch(o){case"cmyk":{const[,t,e,i,r]=n(a);if(t>100||e>100||i>100||r>100)break t;return{values:m(t,e,i,r),type:o}}case"rgba":{const[,,,t,e,r,s]=n(a);if(t>255||e>255||r>255||s<0||s>1||!i(s))break t;return{values:[...y(t,e,r),s],a:s,type:o}}case"hexa":{let[,t]=a;4!==t.length&&3!==t.length||(t=t.split("").map(t=>t+t).join(""));const e=t.substring(0,6);let n=t.substring(6);return n=n?parseInt(n,16)/255:void 0,{values:[...O(e),n],a:n,type:o}}case"hsla":{const[,,,t,e,r,s]=n(a);if(t>360||e>100||r>100||s<0||s>1||!i(s))break t;return{values:[...w(t,e,r),s],a:s,type:o}}case"hsva":{const[,,,t,e,r,s]=n(a);if(t>360||e>100||r>100||s<0||s>1||!i(s))break t;return{values:[t,e,r,s],a:s,type:o}}}}return{values:null,type:null}}function k(t=0,e=0,n=0,a=1){const o=(t,e)=>(n=-1)=>e(~n?t.map(t=>Number(t.toFixed(n))):t),i={h:t,s:e,v:n,a:a,toHSVA(){const t=[i.h,i.s,i.v,i.a];return t.toString=o(t,t=>`hsva(${t[0]}, ${t[1]}%, ${t[2]}%, ${i.a})`),t},toHSLA(){const t=[...b(i.h,i.s,i.v),i.a];return t.toString=o(t,t=>`hsla(${t[0]}, ${t[1]}%, ${t[2]}%, ${i.a})`),t},toRGBA(){const t=[...v(i.h,i.s,i.v),i.a];return t.toString=o(t,t=>`rgba(${t[0]}, ${t[1]}, ${t[2]}, ${i.a})`),t},toCMYK(){const t=function(t,e,n){const a=v(t,e,n),o=a[0]/255,i=a[1]/255,r=a[2]/255,s=p(1-o,1-i,1-r);return[100*(1===s?0:(1-o-s)/(1-s)),100*(1===s?0:(1-i-s)/(1-s)),100*(1===s?0:(1-r-s)/(1-s)),100*s]}(i.h,i.s,i.v);return t.toString=o(t,t=>`cmyk(${t[0]}%, ${t[1]}%, ${t[2]}%, ${t[3]}%)`),t},toHEXA(){const t=function(t,e,n){return v(t,e,n).map(t=>g(t).toString(16).padStart(2,"0"))}(i.h,i.s,i.v),e=i.a>=1?"":Number((255*i.a).toFixed(0)).toString(16).toUpperCase().padStart(2,"0");return e&&t.push(e),t.toString=()=>"#"+t.join("").toUpperCase(),t},clone:()=>k(i.h,i.s,i.v,i.a)};return i}const _=t=>Math.max(Math.min(t,1),0);function x(t){const e={options:Object.assign({lock:null,onchange:()=>0,onstop:()=>0},t),_keyboard(t){const{options:n}=e,{type:a,key:o}=t;if(document.activeElement===n.wrapper){const{lock:n}=e.options,i="ArrowUp"===o,r="ArrowRight"===o,s="ArrowDown"===o,c="ArrowLeft"===o;if("keydown"===a&&(i||r||s||c)){let a=0,o=0;"v"===n?a=i||r?1:-1:"h"===n?a=i||r?-1:1:(o=i?-1:s?1:0,a=c?-1:r?1:0),e.update(_(e.cache.x+.01*a),_(e.cache.y+.01*o)),t.preventDefault()}else o.startsWith("Arrow")&&(e.options.onstop(),t.preventDefault())}},_tapstart(t){i(document,["mouseup","touchend","touchcancel"],e._tapstop),i(document,["mousemove","touchmove"],e._tapmove),t.cancelable&&t.preventDefault(),e._tapmove(t)},_tapmove(t){const{options:n,cache:a}=e,{lock:o,element:i,wrapper:r}=n,s=r.getBoundingClientRect();let c=0,l=0;if(t){const e=t&&t.touches&&t.touches[0];c=t?(e||t).clientX:0,l=t?(e||t).clientY:0,c<s.left?c=s.left:c>s.left+s.width&&(c=s.left+s.width),l<s.top?l=s.top:l>s.top+s.height&&(l=s.top+s.height),c-=s.left,l-=s.top}else a&&(c=a.x*s.width,l=a.y*s.height);"h"!==o&&(i.style.left=`calc(${c/s.width*100}% - ${i.offsetWidth/2}px)`),"v"!==o&&(i.style.top=`calc(${l/s.height*100}% - ${i.offsetHeight/2}px)`),e.cache={x:c/s.width,y:l/s.height};const u=_(c/s.width),h=_(l/s.height);switch(o){case"v":return n.onchange(u);case"h":return n.onchange(h);default:return n.onchange(u,h)}},_tapstop(){e.options.onstop(),r(document,["mouseup","touchend","touchcancel"],e._tapstop),r(document,["mousemove","touchmove"],e._tapmove)},trigger(){e._tapmove()},update(t=0,n=0){const{left:a,top:o,width:i,height:r}=e.options.wrapper.getBoundingClientRect();"h"===e.options.lock&&(n=t),e._tapmove({clientX:a+i*t,clientY:o+r*n})},destroy(){const{options:t,_tapstart:n,_keyboard:a}=e;r(document,["keydown","keyup"],a),r([t.wrapper,t.element],"mousedown",n),r([t.wrapper,t.element],"touchstart",n,{passive:!1})}},{options:n,_tapstart:a,_keyboard:o}=e;return i([n.wrapper,n.element],"mousedown",a),i([n.wrapper,n.element],"touchstart",a,{passive:!1}),i(document,["keydown","keyup"],o),e}function M(t={}){t=Object.assign({onchange:()=>0,className:"",elements:[]},t);const e=i(t.elements,"click",e=>{t.elements.forEach(n=>n.classList[e.target===n?"add":"remove"](t.className)),t.onchange(e),e.stopPropagation()});return{destroy:()=>r(...e)}}
/*! NanoPop 2.1.0 MIT | https://github.com/Simonwep/nanopop */const A={variantFlipOrder:{start:"sme",middle:"mse",end:"ems"},positionFlipOrder:{top:"tbrl",right:"rltb",bottom:"btrl",left:"lrbt"},position:"bottom",margin:8},C=(t,e,n)=>{const a="object"!=typeof t||t instanceof HTMLElement?{reference:t,popper:e,...n}:t;return{update(t=a){const{reference:e,popper:n}=Object.assign(a,t);if(!n||!e)throw new Error("Popper- or reference-element missing.");return((t,e,n)=>{const{container:a,margin:o,position:i,variantFlipOrder:r,positionFlipOrder:s}={container:document.documentElement.getBoundingClientRect(),...A,...n},{left:c,top:l}=e.style;e.style.left="0",e.style.top="0";const u=t.getBoundingClientRect(),h=e.getBoundingClientRect(),p={t:u.top-h.height-o,b:u.bottom+o,r:u.right+o,l:u.left-h.width-o},f={vs:u.left,vm:u.left+u.width/2+-h.width/2,ve:u.left+u.width-h.width,hs:u.top,hm:u.bottom-u.height/2-h.height/2,he:u.bottom-h.height},[d,g="middle"]=i.split("-"),v=s[d],b=r[g],{top:y,left:m,bottom:w,right:O}=a;for(const j of v){const t="t"===j||"b"===j,n=p[j],[a,o]=t?["top","left"]:["left","top"],[i,r]=t?[h.height,h.width]:[h.width,h.height],[s,c]=t?[w,O]:[O,w],[l,u]=t?[y,m]:[m,y];if(!(n<l||n+i>s))for(const p of b){const i=f[(t?"v":"h")+p];if(!(i<u||i+r>c))return e.style[o]=i-h[o]+"px",e.style[a]=n-h[a]+"px",j+p}}return e.style.left=c,e.style.top=l,null})(e,n,a)}}};function S(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class E{constructor(t){S(this,"_initializingActive",!0),S(this,"_recalc",!0),S(this,"_nanopop",null),S(this,"_root",null),S(this,"_color",k()),S(this,"_lastColor",k()),S(this,"_swatchColors",[]),S(this,"_setupAnimationFrame",null),S(this,"_eventListener",{init:[],save:[],hide:[],show:[],clear:[],change:[],changestop:[],cancel:[],swatchselect:[]}),this.options=t=Object.assign({...E.DEFAULT_OPTIONS},t);const{swatches:e,components:n,theme:a,sliders:o,lockOpacity:i,padding:r}=t;["nano","monolith"].includes(a)&&!o&&(t.sliders="h"),n.interaction||(n.interaction={});const{preview:s,opacity:c,hue:l,palette:u}=n;n.opacity=!i&&c,n.palette=u||s||c||l,this._preBuild(),this._buildComponents(),this._bindEvents(),this._finalBuild(),e&&e.length&&e.forEach(t=>this.addSwatch(t));const{button:h,app:p}=this._root;this._nanopop=C(h,p,{margin:r}),h.setAttribute("role","button"),h.setAttribute("aria-label",this._t("btn:toggle"));const f=this;this._setupAnimationFrame=requestAnimationFrame((function e(){if(!p.offsetWidth)return requestAnimationFrame(e);f.setColor(t.default),f._rePositioningPicker(),t.defaultRepresentation&&(f._representation=t.defaultRepresentation,f.setColorRepresentation(f._representation)),t.showAlways&&f.show(),f._initializingActive=!1,f._emit("init")}))}_preBuild(){const{options:t}=this;for(const e of["el","container"])t[e]=u(t[e]);this._root=(t=>{const{components:e,useAsButton:n,inline:a,appClass:o,theme:i,lockOpacity:r}=t.options,s=t=>t?"":'style="display:none" hidden',l=e=>t._t(e),u=c(`\n      <div :ref="root" class="pickr">\n\n        ${n?"":'<button type="button" :ref="button" class="pcr-button"></button>'}\n\n        <div :ref="app" class="pcr-app ${o||""}" data-theme="${i}" ${a?'style="position: unset"':""} aria-label="${l("ui:dialog")}" role="window">\n          <div class="pcr-selection" ${s(e.palette)}>\n            <div :obj="preview" class="pcr-color-preview" ${s(e.preview)}>\n              <button type="button" :ref="lastColor" class="pcr-last-color" aria-label="${l("btn:last-color")}"></button>\n              <div :ref="currentColor" class="pcr-current-color"></div>\n            </div>\n\n            <div :obj="palette" class="pcr-color-palette">\n              <div :ref="picker" class="pcr-picker"></div>\n              <div :ref="palette" class="pcr-palette" tabindex="0" aria-label="${l("aria:palette")}" role="listbox"></div>\n            </div>\n\n            <div :obj="hue" class="pcr-color-chooser" ${s(e.hue)}>\n              <div :ref="picker" class="pcr-picker"></div>\n              <div :ref="slider" class="pcr-hue pcr-slider" tabindex="0" aria-label="${l("aria:hue")}" role="slider"></div>\n            </div>\n\n            <div :obj="opacity" class="pcr-color-opacity" ${s(e.opacity)}>\n              <div :ref="picker" class="pcr-picker"></div>\n              <div :ref="slider" class="pcr-opacity pcr-slider" tabindex="0" aria-label="${l("aria:opacity")}" role="slider"></div>\n            </div>\n          </div>\n\n          <div class="pcr-swatches ${e.palette?"":"pcr-last"}" :ref="swatches"></div>\n\n          <div :obj="interaction" class="pcr-interaction" ${s(Object.keys(e.interaction).length)}>\n            <input :ref="result" class="pcr-result" type="text" spellcheck="false" ${s(e.interaction.input)} aria-label="${l("aria:input")}">\n\n            <input :arr="options" class="pcr-type" data-type="HEXA" value="${r?"HEX":"HEXA"}" type="button" ${s(e.interaction.hex)}>\n            <input :arr="options" class="pcr-type" data-type="RGBA" value="${r?"RGB":"RGBA"}" type="button" ${s(e.interaction.rgba)}>\n            <input :arr="options" class="pcr-type" data-type="HSLA" value="${r?"HSL":"HSLA"}" type="button" ${s(e.interaction.hsla)}>\n            <input :arr="options" class="pcr-type" data-type="HSVA" value="${r?"HSV":"HSVA"}" type="button" ${s(e.interaction.hsva)}>\n            <input :arr="options" class="pcr-type" data-type="CMYK" value="CMYK" type="button" ${s(e.interaction.cmyk)}>\n\n            <input :ref="save" class="pcr-save" value="${l("btn:save")}" type="button" ${s(e.interaction.save)} aria-label="${l("aria:btn:save")}">\n            <input :ref="cancel" class="pcr-cancel" value="${l("btn:cancel")}" type="button" ${s(e.interaction.cancel)} aria-label="${l("aria:btn:cancel")}">\n            <input :ref="clear" class="pcr-clear" value="${l("btn:clear")}" type="button" ${s(e.interaction.clear)} aria-label="${l("aria:btn:clear")}">\n          </div>\n        </div>\n      </div>\n    `),h=u.interaction;return h.options.find(t=>!t.hidden&&!t.classList.add("active")),h.type=()=>h.options.find(t=>t.classList.contains("active")),u})(this),t.useAsButton&&(this._root.button=t.el),t.container.appendChild(this._root.root)}_finalBuild(){const t=this.options,e=this._root;if(t.container.removeChild(e.root),t.inline){const n=t.el.parentElement;t.el.nextSibling?n.insertBefore(e.app,t.el.nextSibling):n.appendChild(e.app)}else t.container.appendChild(e.app);t.useAsButton?t.inline&&t.el.remove():t.el.parentNode.replaceChild(e.root,t.el),t.disabled&&this.disable(),t.comparison||(e.button.style.transition="none",t.useAsButton||(e.preview.lastColor.style.transition="none")),this.hide()}_buildComponents(){const t=this,e=this.options.components,n=(t.options.sliders||"v").repeat(2),[a,o]=n.match(/^[vh]+$/g)?n:[],i=()=>this._color||(this._color=this._lastColor.clone()),r={palette:x({element:t._root.palette.picker,wrapper:t._root.palette.palette,onstop:()=>t._emit("changestop","slider",t),onchange(n,a){if(!e.palette)return;const o=i(),{_root:r,options:s}=t,{lastColor:c,currentColor:l}=r.preview;t._recalc&&(o.s=100*n,o.v=100-100*a,o.v<0&&(o.v=0),t._updateOutput("slider"));const u=o.toRGBA().toString(0);this.element.style.background=u,this.wrapper.style.background=`\n                        linear-gradient(to top, rgba(0, 0, 0, ${o.a}), transparent),\n                        linear-gradient(to left, hsla(${o.h}, 100%, 50%, ${o.a}), rgba(255, 255, 255, ${o.a}))\n                    `,s.comparison?s.useAsButton||t._lastColor||(c.style.color=u):(r.button.style.color=u,r.button.classList.remove("clear"));const h=o.toHEXA().toString();for(const{el:e,color:i}of t._swatchColors)e.classList[h===i.toHEXA().toString()?"add":"remove"]("pcr-active");l.style.color=u}}),hue:x({lock:"v"===o?"h":"v",element:t._root.hue.picker,wrapper:t._root.hue.slider,onstop:()=>t._emit("changestop","slider",t),onchange(n){if(!e.hue||!e.palette)return;const a=i();t._recalc&&(a.h=360*n),this.element.style.backgroundColor=`hsl(${a.h}, 100%, 50%)`,r.palette.trigger()}}),opacity:x({lock:"v"===a?"h":"v",element:t._root.opacity.picker,wrapper:t._root.opacity.slider,onstop:()=>t._emit("changestop","slider",t),onchange(n){if(!e.opacity||!e.palette)return;const a=i();t._recalc&&(a.a=Math.round(100*n)/100),this.element.style.background=`rgba(0, 0, 0, ${a.a})`,r.palette.trigger()}}),selectable:M({elements:t._root.interaction.options,className:"active",onchange(e){t._representation=e.target.getAttribute("data-type").toUpperCase(),t._recalc&&t._updateOutput("swatch")}})};this._components=r}_bindEvents(){const{_root:t,options:e}=this,n=[i(t.interaction.clear,"click",()=>this._clearColor()),i([t.interaction.cancel,t.preview.lastColor],"click",()=>{this._emit("cancel"),this.setHSVA(...(this._lastColor||this._color).toHSVA(),!0)}),i(t.interaction.save,"click",()=>{!this.applyColor()&&!e.showAlways&&this.hide()}),i(t.interaction.result,["keyup","input"],t=>{this.setColor(t.target.value,!0)&&!this._initializingActive&&(this._emit("change",this._color,"input",this),this._emit("changestop","input",this)),t.stopImmediatePropagation()}),i(t.interaction.result,["focus","blur"],t=>{this._recalc="blur"===t.type,this._recalc&&this._updateOutput(null)}),i([t.palette.palette,t.palette.picker,t.hue.slider,t.hue.picker,t.opacity.slider,t.opacity.picker],["mousedown","touchstart"],()=>this._recalc=!0,{passive:!0})];if(!e.showAlways){const a=e.closeWithKey;n.push(i(t.button,"click",()=>this.isOpen()?this.hide():this.show()),i(document,"keyup",t=>this.isOpen()&&(t.key===a||t.code===a)&&this.hide()),i(document,["touchstart","mousedown"],e=>{this.isOpen()&&!l(e).some(e=>e===t.app||e===t.button)&&this.hide()},{capture:!0}))}if(e.adjustableNumbers){const e={rgba:[255,255,255,1],hsva:[360,100,100,1],hsla:[360,100,100,1],cmyk:[100,100,100,100]};h(t.interaction.result,(t,n,a)=>{const o=e[this.getColorRepresentation().toLowerCase()];if(o){const e=o[a],i=t+(e>=100?1e3*n:n);return i<=0?0:Number((i<e?i:e).toPrecision(3))}return t})}if(e.autoReposition&&!e.inline){let t=null;const a=this;n.push(i(window,["scroll","resize"],()=>{a.isOpen()&&(e.closeOnScroll&&a.hide(),null===t?(t=setTimeout(()=>t=null,100),requestAnimationFrame((function e(){a._rePositioningPicker(),null!==t&&requestAnimationFrame(e)}))):(clearTimeout(t),t=setTimeout(()=>t=null,100)))},{capture:!0}))}this._eventBindings=n}_rePositioningPicker(){const{options:t}=this;if(!t.inline&&!this._nanopop.update({container:document.body.getBoundingClientRect(),position:t.position})){const t=this._root.app,e=t.getBoundingClientRect();t.style.top=(window.innerHeight-e.height)/2+"px",t.style.left=(window.innerWidth-e.width)/2+"px"}}_updateOutput(t){const{_root:e,_color:n,options:a}=this;if(e.interaction.type()){const t="to"+e.interaction.type().getAttribute("data-type");e.interaction.result.value="function"==typeof n[t]?n[t]().toString(a.outputPrecision):""}!this._initializingActive&&this._recalc&&this._emit("change",n,t,this)}_clearColor(t=!1){const{_root:e,options:n}=this;n.useAsButton||(e.button.style.color="rgba(0, 0, 0, 0.15)"),e.button.classList.add("clear"),n.showAlways||this.hide(),this._lastColor=null,this._initializingActive||t||(this._emit("save",null),this._emit("clear"))}_parseLocalColor(t){const{values:e,type:n,a:a}=j(t),{lockOpacity:o}=this.options,i=void 0!==a&&1!==a;return e&&3===e.length&&(e[3]=void 0),{values:!e||o&&i?null:e,type:n}}_t(t){return this.options.i18n[t]||E.I18N_DEFAULTS[t]}_emit(t,...e){this._eventListener[t].forEach(t=>t(...e,this))}on(t,e){return this._eventListener[t].push(e),this}off(t,e){const n=this._eventListener[t]||[],a=n.indexOf(e);return~a&&n.splice(a,1),this}addSwatch(t){const{values:e}=this._parseLocalColor(t);if(e){const{_swatchColors:t,_root:n}=this,a=k(...e),o=s(`<button type="button" style="color: ${a.toRGBA().toString(0)}" aria-label="${this._t("btn:swatch")}"/>`);return n.swatches.appendChild(o),t.push({el:o,color:a}),this._eventBindings.push(i(o,"click",()=>{this.setHSVA(...a.toHSVA(),!0),this._emit("swatchselect",a),this._emit("change",a,"swatch",this)})),!0}return!1}removeSwatch(t){const e=this._swatchColors[t];if(e){const{el:n}=e;return this._root.swatches.removeChild(n),this._swatchColors.splice(t,1),!0}return!1}applyColor(t=!1){const{preview:e,button:n}=this._root,a=this._color.toRGBA().toString(0);return e.lastColor.style.color=a,this.options.useAsButton||(n.style.color=a),n.classList.remove("clear"),this._lastColor=this._color.clone(),this._initializingActive||t||this._emit("save",this._color),this}destroy(){cancelAnimationFrame(this._setupAnimationFrame),this._eventBindings.forEach(t=>r(...t)),Object.keys(this._components).forEach(t=>this._components[t].destroy())}destroyAndRemove(){this.destroy();const{root:t,app:e}=this._root;t.parentElement&&t.parentElement.removeChild(t),e.parentElement.removeChild(e),Object.keys(this).forEach(t=>this[t]=null)}hide(){return this._root.app.classList.remove("visible"),this._emit("hide"),this}show(){return this.options.disabled||(this._root.app.classList.add("visible"),this._rePositioningPicker(),this._emit("show",this._color)),this}isOpen(){return this._root.app.classList.contains("visible")}setHSVA(t=360,e=0,n=0,a=1,o=!1){const i=this._recalc;if(this._recalc=!1,t<0||t>360||e<0||e>100||n<0||n>100||a<0||a>1)return!1;this._color=k(t,e,n,a);const{hue:r,opacity:s,palette:c}=this._components;return r.update(t/360),s.update(a),c.update(e/100,1-n/100),o||this.applyColor(),i&&this._updateOutput(),this._recalc=i,!0}setColor(t,e=!1){if(null===t)return this._clearColor(e),!0;const{values:n,type:a}=this._parseLocalColor(t);if(n){const t=a.toUpperCase(),{options:o}=this._root.interaction,i=o.find(e=>e.getAttribute("data-type")===t);if(i&&!i.hidden)for(const e of o)e.classList[e===i?"add":"remove"]("active");return!!this.setHSVA(...n,e)&&this.setColorRepresentation(t)}return!1}setColorRepresentation(t){return t=t.toUpperCase(),!!this._root.interaction.options.find(e=>e.getAttribute("data-type").startsWith(t)&&!e.click())}getColorRepresentation(){return this._representation}getColor(){return this._color}getSelectedColor(){return this._lastColor}getRoot(){return this._root}disable(){return this.hide(),this.options.disabled=!0,this._root.button.classList.add("disabled"),this}enable(){return this.options.disabled=!1,this._root.button.classList.remove("disabled"),this}}S(E,"utils",a),S(E,"version","1.8.0"),S(E,"I18N_DEFAULTS",{"ui:dialog":"color picker dialog","btn:toggle":"toggle color picker dialog","btn:swatch":"color swatch","btn:last-color":"use previous color","btn:save":"Save","btn:cancel":"Cancel","btn:clear":"Clear","aria:btn:save":"save and close","aria:btn:cancel":"cancel and close","aria:btn:clear":"clear and close","aria:input":"color input field","aria:palette":"color selection area","aria:hue":"hue selection slider","aria:opacity":"selection slider"}),S(E,"DEFAULT_OPTIONS",{appClass:null,theme:"classic",useAsButton:!1,padding:8,disabled:!1,comparison:!0,closeOnScroll:!1,outputPrecision:0,lockOpacity:!1,autoReposition:!0,container:"body",components:{interaction:{}},i18n:{},swatches:null,inline:!1,sliders:null,default:"#42445a",defaultRepresentation:null,position:"bottom-middle",adjustableNumbers:!0,showAlways:!1,closeWithKey:"Escape"}),S(E,"create",t=>new E(t)),e.default=E}]).default}))},f80d:function(t,e,n){"use strict";n.d(e,"c",(function(){return Ft})),n.d(e,"b",(function(){return St})),n.d(e,"a",(function(){return Et}));n("99af"),n("cb29"),n("4160"),n("d81d"),n("fb6a"),n("4ec9"),n("d3b7"),n("ac1f"),n("3ca3"),n("1276"),n("159b"),n("ddb0"),n("2b3d");var a=n("bee2"),o=n("d4ec"),i=n("74f4"),r=n("e991");function s(t){return((t*=2)<=1?Object(r["a"])(1-t):2-Object(r["a"])(t-1))/2}var c=n("63ad"),l=n("166a");const u=Math.PI/180,h=180/Math.PI,p=18,f=.96422,d=1,g=.82521,v=4/29,b=6/29,y=3*b*b,m=b*b*b;function w(t){if(t instanceof j)return new j(t.l,t.a,t.b,t.opacity);if(t instanceof S)return E(t);t instanceof l["b"]||(t=Object(l["e"])(t));var e,n,a=M(t.r),o=M(t.g),i=M(t.b),r=k((.2225045*a+.7168786*o+.0606169*i)/d);return a===o&&o===i?e=n=r:(e=k((.4360747*a+.3850649*o+.1430804*i)/f),n=k((.0139322*a+.0971045*o+.7141733*i)/g)),new j(116*r-16,500*(e-r),200*(r-n),t.opacity)}function O(t,e,n,a){return 1===arguments.length?w(t):new j(t,e,n,null==a?1:a)}function j(t,e,n,a){this.l=+t,this.a=+e,this.b=+n,this.opacity=+a}function k(t){return t>m?Math.pow(t,1/3):t/y+v}function _(t){return t>b?t*t*t:y*(t-v)}function x(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function M(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function A(t){if(t instanceof S)return new S(t.h,t.c,t.l,t.opacity);if(t instanceof j||(t=w(t)),0===t.a&&0===t.b)return new S(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*h;return new S(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function C(t,e,n,a){return 1===arguments.length?A(t):new S(t,e,n,null==a?1:a)}function S(t,e,n,a){this.h=+t,this.c=+e,this.l=+n,this.opacity=+a}function E(t){if(isNaN(t.h))return new j(t.l,0,0,t.opacity);var e=t.h*u;return new j(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Object(c["a"])(j,O,Object(c["b"])(l["a"],{brighter:function(t){return new j(this.l+p*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new j(this.l-p*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=f*_(e),t=d*_(t),n=g*_(n),new l["b"](x(3.1338561*e-1.6168667*t-.4906146*n),x(-.9787684*e+1.9161415*t+.033454*n),x(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),Object(c["a"])(S,C,Object(c["b"])(l["a"],{brighter:function(t){return new S(this.h,this.c,this.l+p*(null==t?1:t),this.opacity)},darker:function(t){return new S(this.h,this.c,this.l-p*(null==t?1:t),this.opacity)},rgb:function(){return E(this).rgb()}}));var F=n("b055");function N(t){return function(e,n){var a=t((e=C(e)).h,(n=C(n)).h),o=Object(F["a"])(e.c,n.c),i=Object(F["a"])(e.l,n.l),r=Object(F["a"])(e.opacity,n.opacity);return function(t){return e.h=a(t),e.c=o(t),e.l=i(t),e.opacity=r(t),e+""}}}var R=N(F["c"]),$=(N(F["a"]),n("1998")),P=n("7a42"),I=n("0b42"),L=n("7789"),D=function(){var t=[],e=L["a"];return e.forEach((function(n,a){t.push(new St({color:n,stage:Math.ceil(100*a/(e.length-1))}))})),t},B=function(){return[new St({xoff:0,yoff:0,stage:0}),new St({xoff:.5,yoff:.5,stage:5}),new St({xoff:0,yoff:0,stage:10}),new St({xoff:-.5,yoff:0,stage:15}),new St({xoff:0,yoff:0,stage:20}),new St({xoff:.5,yoff:-.5,stage:25}),new St({xoff:1,yoff:0,stage:100})]},T=function(){return[new St({xoff:1,yoff:0,rotate:5,stage:0}),new St({xoff:1,yoff:0,rotate:5,stage:10}),new St({xoff:0,yoff:0,rotate:-5,stage:20}),new St({xoff:-1,yoff:1,rotate:5,stage:30}),new St({xoff:-1,yoff:0,rotate:-5,stage:40}),new St({xoff:0,yoff:0,rotate:-5,stage:50}),new St({xoff:-1,yoff:-1,rotate:5,stage:60}),new St({xoff:0,yoff:0,rotate:-5,stage:100})]},H=n("b133"),U=(n("b65f"),n("a4d3"),n("4de4"),n("e439"),n("dbb4"),n("b64b"),n("ade3"));function G(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function z(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?G(Object(n),!0).forEach((function(e){Object(U["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var V=1,K=new I["a"],W=K.italicRange,q=K.weightRange,Y=W[1]-W[0],X=q[1]-q[0],J=(W[1]+W[0])/2,Z=(q[1]+q[0])/2,Q=function(){function t(){Object(o["a"])(this,t)}return Object(a["a"])(t,[{key:"getKeyFrames",value:function(t,e,n,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=[];return i=t==H["d"].dance?this.getDiscoKeyFrames(e,n,a):t==H["d"].split?this.getSplitKeyframes(e,n,a,o):t==H["d"].swing?this.getSwingingKeyFrames(e,n,a):[D()],i}},{key:"getSwingingKeyFrames",value:function(t,e,n){for(var a=[],o=Math.floor(.9*t),i=Math.max(1,n*o),r=function(t){var o=[],i=Y*(.5*n+.1*Math.random()+.4),r=X*(.5*n+.1*Math.random()+.4),s=[J-i,J+i],c=[Z-.2*r,Z+r],l=new I["a"];l.update({italic:J,weight:Z});var u=new I["a"];u.update({italic:s[0],weight:c[0]});var h=new I["a"];h.update({italic:s[1],weight:c[1]});var p=new I["a"];p.update({italic:J,weight:c[1]});var f=new I["a"];f.update({italic:s[0],weight:c[0]});for(var d=[],g=[new St({font:h}),new St({font:h}),new St({font:p,xoff:-1}),new St({font:f,xoff:-4}),new St({font:p,yoff:Math.random()>.5?-2:2}),new St({font:h}),new St({font:h})],v=0;v<Math.max(1,Math.floor(3*Math.random()));v++)for(var b=0;b<g.length;b++)Math.random()>.2&&d.push(g[b]);var y=10*e,m=d.length,w=m*y-1;0==y&&o.push.apply(o,[new St({stage:0}),new St({stage:100})]);for(var O=function(t){d.forEach((function(e,n){var a=Math.ceil(100/w*(n+t*m));o.push(z(z({},e),{},{stage:a}))}))},j=0;j<y;j++)O(j);a.push(o)},s=0;s<i;s++)r(s);return a}},{key:"getSplitKeyframes",value:function(t,e,n,a){for(var o=[],i=Math.floor(.9*t),r=Math.max(V,Math.floor(n*i)),s=function(t){var i=[],s=a+2*t*Math.PI/r,c=4*Math.random()+2+18*n,l=Math.floor(10*e),u=(new St({xoff:3*c/5*Math.cos(s+Math.PI/7),yoff:3*c/5*Math.sin(s+Math.PI/7),rotate:0}),new St({xoff:4*c/5*Math.cos(s-Math.PI/8),yoff:4*c/5*Math.sin(s+Math.PI/8),rotate:0}),new St({xoff:c*Math.cos(s),yoff:c*Math.sin(s),rotate:0})),h=new St({xoff:0,yoff:0,rotate:0}),p=new St({rotate:s-Math.PI/4}),f=new St({rotate:-s+Math.PI/4}),d=[h,u,p,p,f,u,u,u,u,h],g=d.length,v=g*l-1;0==l&&i.push.apply(i,[new St({stage:0}),new St({stage:100})]);for(var b=function(t){d.forEach((function(e,n){var a=Math.ceil(100/v*(n+t*g));i.push(z(z({},e),{},{stage:a}))}))},y=0;y<l;y++)b(y);o.push(i)},c=0;c<r;c++)s(c);return o}},{key:"getDiscoKeyFrames",value:function(t,e,n){for(var a=[],o=10,i=Math.min(t,Math.trunc((o-V)*n+V)),r=function(t){var o=[],i=2*Math.round(Math.random())-1,r=new St({xoff:i*(3*n)}),s=new St({xoff:0,yoff:0}),c=2*Math.random(),l=new St({yoff:-c*(e+n+1)}),u=[r,s,r,l],h=10*e,p=u.length,f=p*h-1;0==h&&o.push.apply(o,[new St({stage:0}),new St({stage:100})]);for(var d=function(t){u.forEach((function(e,n){var a=Math.ceil(100/f*(n+t*p));o.push(z(z({},e),{},{stage:a}))}))},g=0;g<h;g++)d(g);a.push(o)},s=0;s<i;s++)r(s);return a}}]),t}(),tt=n("2abf"),et=(n("13d5"),n("a9e3"),n("b680"),n("cfc3"),n("84c3"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("3835")),nt=n("b85c"),at=n("a788"),ot=n("5664"),it=n.n(ot),rt=n("ede8"),st="https://cdnjs.cloudflare.com/ajax/libs/ink/3.1.10/fonts/Roboto/roboto-regular-webfont.ttf",ct=null,lt=80;function ut(t,e){var n=t.x-e.x,a=t.y-e.y;return Math.sqrt(n*n+a*a)}function ht(t,e,n){return{x:(1-n)*t.x+n*e.x,y:(1-n)*t.y+n*e.y}}function pt(t,e){return t.x*e.y-t.y*e.x}var ft,dt,gt=10,vt=3,bt=1e-6,yt=function(){function t(){Object(o["a"])(this,t),this.points=[],this.children=[],this.area=0}return Object(a["a"])(t,[{key:"moveTo",value:function(t){this.points.push(t)}},{key:"lineTo",value:function(t){this.points.push(t)}},{key:"close",value:function(){var t=this,e=this.points[this.points.length-1];this.points.forEach((function(n){t.area+=.5*pt(e,n),e=n}))}},{key:"conicTo",value:function(t,e){for(var n=this.points[this.points.length-1],a=ut(n,e)+ut(e,t),o=Math.max(2,Math.min(gt,a/vt)),i=1;i<=o;++i){var r=i/o;this.points.push(ht(ht(n,e,r),ht(e,t,r),r))}}},{key:"cubicTo",value:function(t,e,n){for(var a=this.points[this.points.length-1],o=ut(a,e)+ut(e,n)+ut(n,t),i=Math.max(2,Math.min(gt,o/vt)),r=1;r<=i;++r){var s=r/i,c=ht(ht(a,e,s),ht(e,n,s),s),l=ht(ht(e,n,s),ht(n,t,s),s);this.points.push(ht(c,l,s))}}},{key:"inside",value:function(t){var e=0,n=this.points[this.points.length-1];return this.points.forEach((function(a){var o=n.y<a.y?n:a,i=n.y<a.y?a:n;o.y<t.y+bt&&i.y>t.y+bt&&(i.x-o.x)*(t.y-o.y)>(t.x-o.x)*(i.y-o.y)&&(e+=1),n=a})),e%2!==0}}]),t}();function mt(t){ft.uniform1f(ct,t/lt),ft.drawElements(ft.TRIANGLES,dt.length,ft.UNSIGNED_SHORT,0),requestAnimationFrame(mt)}var wt=function(t){for(var e=[],n=0;n<t.length;++n){for(var a=null,o=n-1;o>=0;--o)if(t[o].inside(t[n].points[0])&&t[n].area*t[o].area<0){a=t[o];break}a?a.children.push(t[n]):e.push(t[n])}return e},Ot=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:12,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Hello World",i=t.getPath(o,e,n,a),r=[];return i.commands.forEach((function(t){var e=t.type,n=t.x,a=t.y,o=t.x1,i=t.y1,s=t.x2,c=t.y2;switch(e){case"M":r.push(new yt),r[r.length-1].moveTo({x:n,y:a});break;case"L":r[r.length-1].moveTo({x:n,y:a});break;case"C":r[r.length-1].cubicTo({x:n,y:a},{x:o,y:i},{x:s,y:c});break;case"Q":r[r.length-1].conicTo({x:n,y:a},{x:o,y:i});break;case"Z":r[r.length-1].close();break}})),r.sort((function(t,e){return Math.abs(e.area)-Math.abs(t.area)})),r},jt=function(t,e){var n=e.reduce((function(t,e){return t+e.points.length}),0),a=new Float32Array(2*n),o=0;dt=[];var i=function t(e){var n=[],i=[];e.points.forEach((function(t){var e=t.x,a=t.y;return n.push(e,a)})),e.children.forEach((function(e){e.children.forEach(t),i.push(n.length/2),e.points.forEach((function(t){var e=t.x,a=t.y;return n.push(e,a)}))})),a.set(n,2*o),it()(n,i).forEach((function(t){return dt.push(t+o)})),o+=n.length/2};return t.forEach(i),[a,dt]},kt=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_t,o=document.getElementById("emordle-canvas"),i=(o.width,o.height,[]),r=Object(nt["a"])(n);try{for(r.s();!(e=r.n()).done;){var s=e.value,c=Ot(t,s.x-s.width/2,s.y,s.size,s.text);i=i.concat(c)}}catch(d){r.e(d)}finally{r.f()}var l=wt(i),u=jt(l,i),h=Object(et["a"])(u,2),p=h[0],f=h[1];At(p,f,a)},_t=" pos.y += pow(sin( (pos.x) / 500.+ uTime *.02),2.) * 20.;\npos.x += sin( pos.y/ 100. + uTime *.8) * .5;\n",xt=" pos.y = pos.y;\npos.x = pos.x;\n",Mt=function(t,e){if(0==t)return xt;Math.max(1,Math.floor(10*e));var n=Number(.01+.3*t).toFixed(3),a=Number(15.1+9.9*e).toFixed(3),o=Number(10.1+359.9*(1.05-e)).toFixed(3),i=Number(50.1+150.1*(1.05-e)).toFixed(3),r=Number(.02+.58*e).toFixed(3),s="sin( pos.y / ".concat(i," + uTime * ").concat(n,") * ").concat(r),c="pow(sin( (pos.x) / ".concat(o," + uTime * ").concat(n,"), 2.) * ").concat(a),l="\n  pos.x += ".concat(s,";\n  pos.y += ").concat(c,";\n  ");return l},At=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_t,a=document.getElementById("emordle-canvas");ft=a.getContext("webgl");var o=a.width,i=a.height;ft.viewport(0,0,o,i);var r=Object(rt["b"])(ft,ft.VERTEX_SHADER,"\n      precision mediump float;\n      uniform vec2 uScale;\n      uniform vec2 uOffset;\n      uniform float uTime;\n      attribute vec2 position;\n      varying vec4 fragColor;\n      void main() {\n      vec2 pos = position;\n      ".concat(n,"\n      gl_Position = vec4(pos * uScale + uOffset, 0.0, 1.0);\n      fragColor = vec4(0., 0., 0., 1.);// vec4(sin(uTime*.5)*.5+.5, cos(uTime*.2)*.5+.5, 0., 1. ); // colorful\n    }")),s=Object(rt["b"])(ft,ft.FRAGMENT_SHADER,"precision mediump float;\n        uniform vec4 uColor;\n        uniform vec2 u_resolution;\n        varying vec4 fragColor;\n        void main() {\n        gl_FragColor = uColor;\n        vec2 st = gl_FragCoord.xy / u_resolution;\n        gl_FragColor = fragColor;\n        }"),c=Object(rt["a"])(ft,r,s);ft.bindAttribLocation(c,0,"position");var l=["uScale","uOffset","uColor","uTime","u_resolution","fragColor"].map((function(t){return ft.getUniformLocation(c,t)})),u=Object(et["a"])(l,6),h=u[0],p=u[1],f=u[2],d=u[3],g=u[4],v=u[5];ct=d,ft.useProgram(c),ft.uniform1f(d,0),ft.uniform2fv(h,[2/o,-2/i]),ft.uniform2fv(p,[0,0]),ft.uniform4fv(f,[0,0,0,1]),ft.uniform4fv(v,[0,0,0,1]),ft.uniform2f(g,ft.canvas.width,ft.canvas.height),ft.clearColor(1,1,1,1),ft.clear(ft.COLOR_BUFFER_BIT);var b=ft.createBuffer();ft.bindBuffer(ft.ARRAY_BUFFER,b),ft.bufferData(ft.ARRAY_BUFFER,t,ft.STATIC_DRAW);var y=ft.createBuffer(),m=new Uint16Array(e);ft.bindBuffer(ft.ELEMENT_ARRAY_BUFFER,y),ft.bufferData(ft.ELEMENT_ARRAY_BUFFER,m,ft.STATIC_DRAW),ft.enableVertexAttribArray(0),ft.vertexAttribPointer(0,2,ft.FLOAT,!0,8,0),ft.drawElements(ft.TRIANGLES,e.length,ft.UNSIGNED_SHORT,0),ft.flush(),mt(Date.now())},Ct=function(t){var e=t.words,n=void 0===e?[]:e,a=t.fontUrl,o=void 0===a?st:a,i=t.speed,r=void 0===i?.5:i,s=t.entropy,c=void 0===s?.5:s;at["a"].load(o,(function(t,e){if(t)console.log(o),alert("Font could not be loaded: "+t);else if(e){var a=Mt(r,c);kt(e,n,a)}}))},St=function t(e){Object(o["a"])(this,t),this.x=0,this.y=0,this.xoff=0,this.yoff=0,this.rotate=0,this.scale=1,this.opacity=1,this.color="black",this.stage=0,this.duration=10,this.font=new I["a"],Object.assign(this,e)},Et=function(){function t(e){Object(o["a"])(this,t),this.order=0,this.delay=0,this.duration=2e3,this.ease=function(t){return t},this.words=[],this.origin=[],this.keyFrames=[],this.frameCounter=0,this.font=new I["a"],Object.assign(this,e)}return Object(a["a"])(t,[{key:"updateWord",value:function(t,e,n,a){var o=this;this.font.setValWithRatio("width",1);R(t.color,e.color)(n);this.font.update({italic:(e.font.italic-t.font.italic)*this.ease(n),weight:(e.font.weight-t.font.weight)*this.ease(n)});var i=this.font.getCss();this.words.forEach((function(a){var r=(e.xoff-t.xoff)*o.ease(n),s=(e.yoff-t.yoff)*o.ease(n),c=(e.scale-t.scale)*o.ease(n),l=(e.rotate-t.rotate)*o.ease(n);a.x=a.x+r,a.y=a.y+s,a.rotate=l,a.size=a.trues*(1+c),a.fontString=i}))}},{key:"setFrameCounter",value:function(t){this.frameCounter=t}},{key:"reset",value:function(){this.words=this.origin.map((function(t){return Object.assign({},t)})),this.frameCounter=0}}]),t}(),Ft=function(){function t(e){var n=this;Object(o["a"])(this,t),this.data=[],this.words=new Array,this.duration=3e4,this.groupManagers=[],this.mode=H["d"].dance,this.extent=.5,this.speed=.5,this.entropy=.5,this.wordMap=new Map,Object.assign(this,e),this.data.forEach((function(t,e){n.wordMap.set(t.text,e),n.words.push(new tt["b"](t,n.plotHandler.width,n.plotHandler.height))}))}return Object(a["a"])(t,[{key:"createManagers",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.groupManagers=new Array(t);for(var n=0;n<t;++n)this.groupManagers[n]=new Et(e)}},{key:"assignKeyFrame",value:function(t){this.groupManagers.forEach((function(e,n){e.keyFrames=t[n]}))}},{key:"divideGroup",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=0==n.length?this.groupManagers.length:n.length,o=Math.ceil(this.words.length/a),i=[];if(t!==H["c"].xy)t===H["c"].random?i=$t(this.words):t===H["c"].x?i=this.words.sort((function(t,e){return t.x-e.x})):t==H["c"].y&&(i=this.words.sort((function(t,e){return t.y-e.y}))),this.groupManagers.forEach((function(t,e){var n=o*e,a=n+o,r=i.slice(n,a);t.origin=r.map((function(t){return Object.assign({},t)})),t.words=r.map((function(t){return Object.assign({},t)}))}));else{var r=this.words.map((function(t){return[t.x,t.y]})),s=0==n.length?"kmeans":n,c=Object(P["a"])(r,a,s),l=Pt(a,0);c.indexes.forEach((function(t,n){l[t].push(e.words[n])})),this.groupManagers.forEach((function(t,e){var n=l[e];t.origin=n.map((function(t){return Object.assign({},t)})),t.words=n.map((function(t){return Object.assign({},t)}))}))}}},{key:"reset",value:function(){this.groupManagers.forEach((function(t){t.words=t.origin.map((function(t){return Object.assign({},t)})),t.frameCounter=0}))}},{key:"update",value:function(t,e){"duration"===t&&(this.duration=e),"mode"===t&&(this.mode=e)}},{key:"play",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.gifFlag,n=void 0!==e&&e,a=t.replay,o=void 0!==a&&a,i=this.mode,r=i!==H["d"].wave;this.reset(),i===H["d"].wave&&this.playWaving({gifFlag:n,replay:o}),i===H["d"].swing&&this.playSwinging({gifFlag:n,replay:o}),i===H["d"].dance&&this.playDancing({gifFlag:n,replay:o}),i===H["d"].split&&this.playSplitting({gifFlag:n,replay:o}),this.plotHandler.svg.style("display",r?"":"none"),this.plotHandler.canvas.style.display=r?"none":""}},{key:"playWaving",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=(t.gifFlag,t.replay,this.data.map((function(t){return Object.assign({},t)}))),n=e[0].font;Ct({words:e,entropy:this.entropy,speed:this.speed,fontUrl:"./font/".concat(n,".ttf")})}},{key:"playSwinging",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.gifFlag,n=void 0!==e&&e,a=t.replay,o=void 0!==a&&a;if(o)this.reset();else{var i;null===(i=this.plotHandler)||void 0===i||i.plotOnSvg(this.data);var r=new Q,s=this.words.length,c=r.getKeyFrames(H["d"].swing,s,this.speed,this.entropy),l=c.length,u=this.entropy>.5?H["c"].random:H["c"].y;this.createManagers(l),this.assignKeyFrame(c),this.divideGroup(u)}this.startPlay(n,o)}},{key:"playSplitting",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.gifFlag,n=void 0!==e&&e,a=t.replay,o=void 0!==a&&a;if(o)this.reset();else{var i;null===(i=this.plotHandler)||void 0===i||i.plotOnSvg(this.data);for(var r=new Q,c=this.words.length,l=[],u=this.plotHandler.width/4,h=this.plotHandler.height/4,p=Math.random()*Math.PI/4,f=r.getKeyFrames(H["d"].split,c,this.speed,this.entropy,p),d=f.length,g=0;g<d;g++){var v=2*g*Math.PI/d+p,b=u*Math.cos(v),y=h*Math.sin(v);l.push([b,y])}this.createManagers(d,{ease:s}),this.assignKeyFrame(f),this.divideGroup(H["c"].xy,l)}this.startPlay(n,o)}},{key:"playDancing",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.gifFlag,n=void 0!==e&&e,a=t.replay,o=void 0!==a&&a;if(o)this.reset();else{var i;null===(i=this.plotHandler)||void 0===i||i.plotOnSvg(this.data);var r=new Q,s=this.words.length,c=r.getKeyFrames(H["d"].dance,s,this.extent,this.speed,this.entropy),l=c.length,u=Nt();this.createManagers(l),this.assignKeyFrame(c),this.divideGroup(u)}this.startPlay(n,o)}},{key:"startPlay",value:function(){var t,e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=this.groupManagers;null===(t=this.timer)||void 0===t||t.stop(),this.timer=i["c"]((function(t){if(t<e.duration){var o,i,r=new Array(e.words.length);if(a.forEach((function(n,a){var o=n.frameCounter,i=n.keyFrames,s=i[o],c=i[o+1],l=c.stage/100*e.duration;t>=l&&n.setFrameCounter(o+1);var u=s.stage/100*e.duration,h=(t-u)/(l-u),p=t/n.duration;n.updateWord(s,c,h,p),n.words.forEach((function(t,n){r[e.wordMap.get(t.text)]=t}))})),null===(o=e.plotHandler)||void 0===o||o.updateOnSvg(r),n)e.gif.addFrame(null===(i=e.plotHandler)||void 0===i?void 0:i.canvas,{copy:!0,delay:e.duration/256})}else{var s;null===(s=e.timer)||void 0===s||s.stop(),n&&e.gif.render(),e.play({gifFlag:n,replay:!0})}}),10)}},{key:"getTotalWords",value:function(){var t=[];return this.groupManagers.forEach((function(e,n){t=t.concat(e.words)})),t}},{key:"stop",value:function(){var t;null===(t=this.timer)||void 0===t||t.stop()}},{key:"createGif",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;this.gif=new $({quality:t});var e=Rt();return this.gif.on("finished",(function(t){var n=document.createElement("a");n.setAttribute("target","_blank"),n.setAttribute("href",URL.createObjectURL(t)),n.setAttribute("download","animation.gif"),n.addEventListener("click",(function(){this.remove()})),n.click();var a=document.createElement("a");a.setAttribute("target","_blank"),a.setAttribute("href","data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e))),a.setAttribute("download","param.json"),a.addEventListener("click",(function(){this.remove()})),a.click()})),this}},{key:"assignWords",value:function(t,e,n){for(var a=0;a<t;a++){var o=e*a,i=o+e;this.groupManagers[a].words=n.slice(o,i)}}}]),t}();function Nt(){return H["c"].x}function Rt(){return[B(),D(),T()]}var $t=function(t){var e,n,a=t.length;while(0!=a)n=Math.floor(Math.random()*a),a-=1,e=t[a],t[a]=t[n],t[n]=e;return t},Pt=function(t,e){for(var n=[],a=0;a<t;a++)if(0!==e)n.push(new Array(e).fill(0));else{var o=[];n.push(o)}return n}},f934:function(t,e,n){"use strict";n("2724")},fc89:function(t,e,n){"use strict";n("32c7")},ffad:function(t,e,n){"use strict";n("7b18")}}]);
//# sourceMappingURL=chunk-4200b04b.9438bc8f.js.map