(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-218ffa35"],{1714:function(t,e,n){"use strict";n.r(e),n.d(e,"dispatch",(function(){return u}));var r={value:function(){}};function a(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new i(r)}function i(t){this._=t}function o(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function c(t,e){for(var n,r=0,a=t.length;r<a;++r)if((n=t[r]).name===e)return n.value}function s(t,e,n){for(var a=0,i=t.length;a<i;++a)if(t[a].name===e){t[a]=r,t=t.slice(0,a).concat(t.slice(a+1));break}return null!=n&&t.push({name:e,value:n}),t}i.prototype=a.prototype={constructor:i,on:function(t,e){var n,r=this._,a=o(t+"",r),i=-1,u=a.length;if(!(arguments.length<2)){if(null!=e&&"function"!==typeof e)throw new Error("invalid callback: "+e);while(++i<u)if(n=(t=a[i]).type)r[n]=s(r[n],t.name,e);else if(null==e)for(n in r)r[n]=s(r[n],t.name,null);return this}while(++i<u)if((n=(t=a[i]).type)&&(n=c(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new i(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,a=new Array(n),i=0;i<n;++i)a[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],i=0,n=r.length;i<n;++i)r[i].value.apply(e,a)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],a=0,i=r.length;a<i;++a)r[a].value.apply(e,n)}};var u=a},"408a":function(t,e,n){var r=n("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=r(t))throw TypeError("Incorrect invocation");return+t}},"4a83":function(t,e,n){var r=n("1714").dispatch,a=Math.PI/180,i=64,o=2048;function c(t){return t.text}function s(){return"serif"}function u(){return"normal"}function l(t){return Math.sqrt(t.value)}function h(){return 30*(~~(6*Math.random())-3)}function f(){return 1}function d(t,e,n,r){if(!e.sprite){var c=t.context,s=t.ratio;c.clearRect(0,0,(i<<5)/s,o/s);var u=0,l=0,h=0,f=n.length;--r;while(++r<f){e=n[r],c.save(),c.font=e.style+" "+e.weight+" "+~~((e.size+1)/s)+"px "+e.font;var d=c.measureText(e.text+"m").width*s,g=e.size<<1;if(e.rotate){var v=Math.sin(e.rotate*a),p=Math.cos(e.rotate*a),y=d*p,m=d*v,w=g*p,b=g*v;d=Math.max(Math.abs(y+b),Math.abs(y-b))+31>>5<<5,g=~~Math.max(Math.abs(m+w),Math.abs(m-w))}else d=d+31>>5<<5;if(g>h&&(h=g),u+d>=i<<5&&(u=0,l+=h,h=0),l+g>=o)break;c.translate((u+(d>>1))/s,(l+(g>>1))/s),e.rotate&&c.rotate(e.rotate*a),c.fillText(e.text,0,0),e.padding&&(c.lineWidth=2*e.padding,c.strokeText(e.text,0,0)),c.restore(),e.width=d,e.height=g,e.xoff=u,e.yoff=l,e.x1=d>>1,e.y1=g>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,u+=d}var M=c.getImageData(0,0,(i<<5)/s,o/s).data,x=[];while(--r>=0)if(e=n[r],e.hasText){d=e.width;for(var k=d>>5,O=(g=e.y1-e.y0,0);O<g*k;O++)x[O]=0;if(u=e.xoff,null==u)return;l=e.yoff;for(var E=0,F=-1,j=0;j<g;j++){for(O=0;O<d;O++){var S=k*j+(O>>5),N=M[(l+j)*(i<<5)+(u+O)<<2]?1<<31-O%32:0;x[S]|=N,E|=N}E?F=j:(e.y0++,g--,j--,l++)}e.y1=e.y0+F,e.sprite=x.slice(0,(e.y1-e.y0)*k)}}}function g(t,e,n){n>>=5;for(var r,a=t.sprite,i=t.width>>5,o=t.x-(i<<4),c=127&o,s=32-c,u=t.y1-t.y0,l=(t.y+t.y0)*n+(o>>5),h=0;h<u;h++){r=0;for(var f=0;f<=i;f++)if((r<<s|(f<i?(r=a[h*i+f])>>>c:0))&e[l+f])return!0;l+=n}return!1}function v(t,e){var n=t[0],r=t[1];e.x+e.x0<n.x&&(n.x=e.x+e.x0),e.y+e.y0<n.y&&(n.y=e.y+e.y0),e.x+e.x1>r.x&&(r.x=e.x+e.x1),e.y+e.y1>r.y&&(r.y=e.y+e.y1)}function p(t,e){return t.x+t.x1>e[0].x&&t.x+t.x0<e[1].x&&t.y+t.y1>e[0].y&&t.y+t.y0<e[1].y}function y(t){var e=t[0]/t[1];return function(t){return[e*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function m(t){var e=4,n=e*t[0]/t[1],r=0,a=0;return function(t){var i=t<0?-1:1;switch(Math.sqrt(1+4*i*t)-i&3){case 0:r+=n;break;case 1:a+=e;break;case 2:r-=n;break;default:a-=e;break}return[r,a]}}function w(t){var e=[],n=-1;while(++n<t)e[n]=0;return e}function b(){return document.createElement("canvas")}function M(t){return"function"===typeof t?t:function(){return t}}t.exports=function(){var t=[256,256],e=c,n=s,a=l,m=u,k=u,O=h,E=f,F=y,j=[],S=1/0,N=r("word","end"),A=null,I=Math.random,T={},C=b;function R(t){t.width=t.height=1;var e=Math.sqrt(t.getContext("2d").getImageData(0,0,1,1).data.length>>2);t.width=(i<<5)/e,t.height=o/e;var n=t.getContext("2d");return n.fillStyle=n.strokeStyle="red",n.textAlign="center",{context:n,ratio:e}}function _(e,n,r){t[0],t[1];var a,i,o,c=n.x,s=n.y,u=Math.sqrt(t[0]*t[0]+t[1]*t[1]),l=F(t),h=I()<.5?1:-1,f=-h;while(a=l(f+=h)){if(i=~~a[0],o=~~a[1],Math.min(Math.abs(i),Math.abs(o))>=u)break;if(n.x=c+i,n.y=s+o,!(n.x+n.x0<0||n.y+n.y0<0||n.x+n.x1>t[0]||n.y+n.y1>t[1])&&(!r||!g(n,e,t[0]))&&(!r||p(n,r))){for(var d,v=n.sprite,y=n.width>>5,m=t[0]>>5,w=n.x-(y<<4),b=127&w,M=32-b,x=n.y1-n.y0,k=(n.y+n.y0)*m+(w>>5),O=0;O<x;O++){d=0;for(var E=0;E<=y;E++)e[k+E]|=d<<M|(E<y?(d=v[O*y+E])>>>b:0);k+=m}return delete n.sprite,!0}}return!1}return T.canvas=function(t){return arguments.length?(C=M(t),T):C},T.start=function(){var r=R(C()),i=w((t[0]>>5)*t[1]),o=null,c=j.length,s=-1,u=[],l=j.map((function(t,r){return t.text=e.call(this,t,r),t.font=n.call(this,t,r),t.style=m.call(this,t,r),t.weight=k.call(this,t,r),t.rotate=O.call(this,t,r),t.size=~~a.call(this,t,r),t.padding=E.call(this,t,r),t})).sort((function(t,e){return e.size-t.size}));return A&&clearInterval(A),A=setInterval(h,0),h(),T;function h(){var e=Date.now();while(Date.now()-e<S&&++s<c&&A){var n=l[s];n.x=t[0]*(I()+.5)>>1,n.y=t[1]*(I()+.5)>>1,d(r,n,l,s),n.hasText&&_(i,n,o)&&(u.push(n),N.call("word",T,n),o?v(o,n):o=[{x:n.x+n.x0,y:n.y+n.y0},{x:n.x+n.x1,y:n.y+n.y1}],n.x-=t[0]>>1,n.y-=t[1]>>1)}s>=c&&(T.stop(),N.call("end",T,u,o))}},T.stop=function(){return A&&(clearInterval(A),A=null),T},T.timeInterval=function(t){return arguments.length?(S=null==t?1/0:t,T):S},T.words=function(t){return arguments.length?(j=t,T):j},T.size=function(e){return arguments.length?(t=[+e[0],+e[1]],T):t},T.font=function(t){return arguments.length?(n=M(t),T):n},T.fontStyle=function(t){return arguments.length?(m=M(t),T):m},T.fontWeight=function(t){return arguments.length?(k=M(t),T):k},T.rotate=function(t){return arguments.length?(O=M(t),T):O},T.text=function(t){return arguments.length?(e=M(t),T):e},T.spiral=function(t){return arguments.length?(F=x[t]||t,T):F},T.fontSize=function(t){return arguments.length?(a=M(t),T):a},T.padding=function(t){return arguments.length?(E=M(t),T):E},T.random=function(t){return arguments.length?(I=t,T):I},T.on=function(){var t=N.on.apply(N,arguments);return t===N?T:t},T};var x={archimedean:y,rectangular:m}},"548a":function(t,e,n){"use strict";n.d(e,"a",(function(){return rt}));var r=Math.sqrt(50),a=Math.sqrt(10),i=Math.sqrt(2),o=function(t,e,n){var r,a,i,o,s=-1;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(a=t,t=e,e=a),0===(o=c(t,e,n))||!isFinite(o))return[];if(o>0){t=Math.ceil(t/o),e=Math.floor(e/o),i=new Array(a=Math.ceil(e-t+1));while(++s<a)i[s]=(t+s)*o}else{o=-o,t=Math.ceil(t*o),e=Math.floor(e*o),i=new Array(a=Math.ceil(e-t+1));while(++s<a)i[s]=(t+s)/o}return r&&i.reverse(),i};function c(t,e,n){var o=(e-t)/Math.max(0,n),c=Math.floor(Math.log(o)/Math.LN10),s=o/Math.pow(10,c);return c>=0?(s>=r?10:s>=a?5:s>=i?2:1)*Math.pow(10,c):-Math.pow(10,-c)/(s>=r?10:s>=a?5:s>=i?2:1)}function s(t,e,n){var o=Math.abs(e-t)/Math.max(0,n),c=Math.pow(10,Math.floor(Math.log(o)/Math.LN10)),s=o/c;return s>=r?c*=10:s>=a?c*=5:s>=i&&(c*=2),e<t?-c:c}var u=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},l=function(t){let e=t,n=t;function r(t,e,r,a){null==r&&(r=0),null==a&&(a=t.length);while(r<a){const i=r+a>>>1;n(t[i],e)<0?r=i+1:a=i}return r}function a(t,e,r,a){null==r&&(r=0),null==a&&(a=t.length);while(r<a){const i=r+a>>>1;n(t[i],e)>0?a=i:r=i+1}return r}function i(t,n,a,i){null==a&&(a=0),null==i&&(i=t.length);const o=r(t,n,a,i-1);return o>a&&e(t[o-1],n)>-e(t[o],n)?o-1:o}return 1===t.length&&(e=(e,n)=>t(e)-n,n=h(t)),{left:r,center:i,right:a}};function h(t){return(e,n)=>u(t(e),n)}var f=function(t){return null===t?NaN:+t};const d=l(u),g=d.right;d.left,l(f).center;var v=g,p=n("ea1d"),y=n("e317"),m=function(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}};function w(t){return function(){return t}}function b(t){return+t}var M=[0,1];function x(t){return t}function k(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:w(isNaN(e)?NaN:.5)}function O(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}function E(t,e,n){var r=t[0],a=t[1],i=e[0],o=e[1];return a<r?(r=k(a,r),i=n(o,i)):(r=k(r,a),i=n(i,o)),function(t){return i(r(t))}}function F(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),i=new Array(r),o=-1;t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());while(++o<r)a[o]=k(t[o],t[o+1]),i[o]=n(e[o],e[o+1]);return function(e){var n=v(t,e,1,r)-1;return i[n](a[n](e))}}function j(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function S(){var t,e,n,r,a,i,o=M,c=M,s=p["a"],u=x;function l(){var t=Math.min(o.length,c.length);return u!==x&&(u=O(o[0],o[t-1])),r=t>2?F:E,a=i=null,h}function h(e){return isNaN(e=+e)?n:(a||(a=r(o.map(t),c,s)))(t(u(e)))}return h.invert=function(n){return u(e((i||(i=r(c,o.map(t),y["a"])))(n)))},h.domain=function(t){return arguments.length?(o=Array.from(t,b),l()):o.slice()},h.range=function(t){return arguments.length?(c=Array.from(t),l()):c.slice()},h.rangeRound=function(t){return c=Array.from(t),s=m,l()},h.clamp=function(t){return arguments.length?(u=!!t||x,l()):u!==x},h.interpolate=function(t){return arguments.length?(s=t,l()):s},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,l()}}function N(){return S()(x,x)}function A(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}var I=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function T(t){if(!(e=I.exec(t)))throw new Error("invalid format: "+t);var e;return new C({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function C(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}T.prototype=C.prototype,C.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var R=function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)};function _(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}var P,D,H,W,L=function(t){return t=_(Math.abs(t)),t?t[1]:NaN},z=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(L(e)/3)))-L(Math.abs(t)))},B=function(t,e){return function(n,r){var a=n.length,i=[],o=0,c=t[0],s=0;while(a>0&&c>0){if(s+c+1>r&&(c=Math.max(1,r-s)),i.push(n.substring(a-=c,a+c)),(s+=c+1)>r)break;c=t[o=(o+1)%t.length]}return i.reverse().join(e)}},U=function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}},G=function(t){t:for(var e,n=t.length,r=1,a=-1;r<n;++r)switch(t[r]){case".":a=e=r;break;case"0":0===a&&(a=r),e=r;break;default:if(!+t[r])break t;a>0&&(a=0);break}return a>0?t.slice(0,a)+t.slice(e+1):t},q=function(t,e){var n=_(t,e);if(!n)return t+"";var r=n[0],a=n[1],i=a-(P=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+_(t,Math.max(0,e+i-1))[0]},K=function(t,e){var n=_(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")},V={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:R,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>K(100*t,e),r:K,s:q,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)},Y=function(t){return t},X=Array.prototype.map,$=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],J=function(t){var e=void 0===t.grouping||void 0===t.thousands?Y:B(X.call(t.grouping,Number),t.thousands+""),n=void 0===t.currency?"":t.currency[0]+"",r=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",i=void 0===t.numerals?Y:U(X.call(t.numerals,String)),o=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"−":t.minus+"",s=void 0===t.nan?"NaN":t.nan+"";function u(t){t=T(t);var u=t.fill,l=t.align,h=t.sign,f=t.symbol,d=t.zero,g=t.width,v=t.comma,p=t.precision,y=t.trim,m=t.type;"n"===m?(v=!0,m="g"):V[m]||(void 0===p&&(p=12),y=!0,m="g"),(d||"0"===u&&"="===l)&&(d=!0,u="0",l="=");var w="$"===f?n:"#"===f&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",b="$"===f?r:/[%p]/.test(m)?o:"",M=V[m],x=/[defgprs%]/.test(m);function k(t){var n,r,o,f=w,k=b;if("c"===m)k=M(t)+k,t="";else{t=+t;var O=t<0||1/t<0;if(t=isNaN(t)?s:M(Math.abs(t),p),y&&(t=G(t)),O&&0===+t&&"+"!==h&&(O=!1),f=(O?"("===h?h:c:"-"===h||"("===h?"":h)+f,k=("s"===m?$[8+P/3]:"")+k+(O&&"("===h?")":""),x){n=-1,r=t.length;while(++n<r)if(o=t.charCodeAt(n),48>o||o>57){k=(46===o?a+t.slice(n+1):t.slice(n))+k,t=t.slice(0,n);break}}}v&&!d&&(t=e(t,1/0));var E=f.length+t.length+k.length,F=E<g?new Array(g-E+1).join(u):"";switch(v&&d&&(t=e(F+t,F.length?g-k.length:1/0),F=""),l){case"<":t=f+t+k+F;break;case"=":t=f+F+t+k;break;case"^":t=F.slice(0,E=F.length>>1)+f+t+k+F.slice(E);break;default:t=F+f+t+k;break}return i(t)}return p=void 0===p?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p)),k.toString=function(){return t+""},k}function l(t,e){var n=u((t=T(t),t.type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(L(e)/3))),a=Math.pow(10,-r),i=$[8+r/3];return function(t){return n(a*t)+i}}return{format:u,formatPrefix:l}};function Z(t){return D=J(t),H=D.format,W=D.formatPrefix,D}Z({thousands:",",grouping:[3],currency:["$",""]});var Q=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,L(e)-L(t))+1},tt=function(t){return Math.max(0,-L(Math.abs(t)))};function et(t,e,n,r){var a,i=s(t,e,n);switch(r=T(null==r?",f":r),r.type){case"s":var o=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(a=z(i,o))||(r.precision=a),W(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(a=Q(i,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=a-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(a=tt(i))||(r.precision=a-2*("%"===r.type));break}return H(r)}function nt(t){var e=t.domain;return t.ticks=function(t){var n=e();return o(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return et(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,a,i=e(),o=0,s=i.length-1,u=i[o],l=i[s],h=10;l<u&&(a=u,u=l,l=a,a=o,o=s,s=a);while(h-- >0){if(a=c(u,l,n),a===r)return i[o]=u,i[s]=l,e(i);if(a>0)u=Math.floor(u/a)*a,l=Math.ceil(l/a)*a;else{if(!(a<0))break;u=Math.ceil(u*a)/a,l=Math.floor(l*a)/a}r=a}return t},t}function rt(){var t=N();return t.copy=function(){return j(t,rt())},A.apply(t,arguments),nt(t)}},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var r=n("1d80"),a=n("5899"),i="["+a+"]",o=RegExp("^"+i+i+"*"),c=RegExp(i+i+"*$"),s=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(o,"")),2&t&&(n=n.replace(c,"")),n}};t.exports={start:s(1),end:s(2),trim:s(3)}},"91e8":function(t,e,n){},a9e3:function(t,e,n){"use strict";var r=n("83ab"),a=n("da84"),i=n("94ca"),o=n("6eeb"),c=n("5135"),s=n("c6b6"),u=n("7156"),l=n("c04e"),h=n("d039"),f=n("7c73"),d=n("241c").f,g=n("06cf").f,v=n("9bf2").f,p=n("58a8").trim,y="Number",m=a[y],w=m.prototype,b=s(f(w))==y,M=function(t){var e,n,r,a,i,o,c,s,u=l(t,!1);if("string"==typeof u&&u.length>2)if(u=p(u),e=u.charCodeAt(0),43===e||45===e){if(n=u.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:r=2,a=49;break;case 79:case 111:r=8,a=55;break;default:return+u}for(i=u.slice(2),o=i.length,c=0;c<o;c++)if(s=i.charCodeAt(c),s<48||s>a)return NaN;return parseInt(i,r)}return+u};if(i(y,!m(" 0o1")||!m("0b1")||m("+0x1"))){for(var x,k=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof k&&(b?h((function(){w.valueOf.call(n)})):s(n)!=y)?u(new m(M(e)),n,k):M(e)},O=r?d(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),E=0;O.length>E;E++)c(m,x=O[E])&&!c(k,x)&&v(k,x,g(m,x));k.prototype=w,w.constructor=k,o(a,y,k)}},b64b:function(t,e,n){var r=n("23e7"),a=n("7b0b"),i=n("df75"),o=n("d039"),c=o((function(){i(1)}));r({target:"Object",stat:!0,forced:c},{keys:function(t){return i(a(t))}})},b65f:function(t,e,n){var r=n("23e7"),a=Math.ceil,i=Math.floor;r({target:"Math",stat:!0},{trunc:function(t){return(t>0?i:a)(t)}})},b680:function(t,e,n){"use strict";var r=n("23e7"),a=n("a691"),i=n("408a"),o=n("1148"),c=n("d039"),s=1..toFixed,u=Math.floor,l=function(t,e,n){return 0===e?n:e%2===1?l(t,e-1,n*t):l(t*t,e/2,n)},h=function(t){var e=0,n=t;while(n>=4096)e+=12,n/=4096;while(n>=2)e+=1,n/=2;return e},f=s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!c((function(){s.call({})}));r({target:"Number",proto:!0,forced:f},{toFixed:function(t){var e,n,r,c,s=i(this),f=a(t),d=[0,0,0,0,0,0],g="",v="0",p=function(t,e){var n=-1,r=e;while(++n<6)r+=t*d[n],d[n]=r%1e7,r=u(r/1e7)},y=function(t){var e=6,n=0;while(--e>=0)n+=d[e],d[e]=u(n/t),n=n%t*1e7},m=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==d[t]){var n=String(d[t]);e=""===e?n:e+o.call("0",7-n.length)+n}return e};if(f<0||f>20)throw RangeError("Incorrect fraction digits");if(s!=s)return"NaN";if(s<=-1e21||s>=1e21)return String(s);if(s<0&&(g="-",s=-s),s>1e-21)if(e=h(s*l(2,69,1))-69,n=e<0?s*l(2,-e,1):s/l(2,e,1),n*=4503599627370496,e=52-e,e>0){p(0,n),r=f;while(r>=7)p(1e7,0),r-=7;p(l(10,r,1),0),r=e-1;while(r>=23)y(1<<23),r-=23;y(1<<r),p(1,1),y(2),v=m()}else p(0,n),p(1<<-e,0),v=m()+o.call("0",f);return f>0?(c=v.length,v=g+(c<=f?"0."+o.call("0",f-c)+v:v.slice(0,c-f)+"."+v.slice(c-f))):v=g+v,v}})},b860:function(t,e,n){"use strict";n.r(e);n("99af");var r=n("7a23"),a=Object(r["I"])("data-v-62e83a68");Object(r["u"])("data-v-62e83a68");var i=Object(r["h"])("canvas",{id:"emotional-wordle-canvas"},null,-1);Object(r["r"])();var o=a((function(t,e,n,a,o,c){return Object(r["q"])(),Object(r["d"])("div",null,[(Object(r["q"])(),Object(r["d"])("svg",{id:"emotional-wordle-edit-svg",height:t.styleScheme.height,width:t.styleScheme.width,viewBox:"0 0 ".concat(t.styleScheme.width," ").concat(t.styleScheme.height),preserveAspectRatio:"xMidYMid meet"},null,8,["height","width","viewBox"])),Object(r["h"])("div",{class:"canvas-container",style:{height:t.styleScheme.height+"px","text-align":"center"}},[i],4)])})),c=n("d4ec"),s=n("bee2"),u=n("262e"),l=n("2caf"),h=n("ce1f"),f=n("c54e"),d=n("b133"),g=n("7789"),v=n("9d6a"),p=function(t){Object(u["a"])(n,t);var e=Object(l["a"])(n);function n(){var t;return Object(c["a"])(this,n),t=e.apply(this,arguments),t.wordleData=[],t.collection=[],t.fileReader=new FileReader,t.uploadFilename="",t.animationModes=[d["d"].bubble,d["d"].colorful,d["d"].chill,d["d"].glisten,d["d"].electric],t.animationMode=d["d"].bubble,t.fontFamily="NotoSans",t.fontStyle="normal",t.fontWeight="normal",t.colorSchemes=["red","black","Viridis","Plasma","rainbow"],t.colorScheme="red",t.easeTypes=["Cubic","ElasticIn","ElasticOut","BounceIn","BounceOut","BounceInOut"],t.easeType="ElasticIn",t.strokeWidth="2px",t.rotation=0,t.duration=1e4,t.customColor="#000000",t.presetColors=g["d"],t}return Object(s["a"])(n,[{key:"mounted",value:function(){var t=this,e="./dataset/layout/layout_xmas.json";v["a"](e).then((function(e){var n,r;t.wordleData=e,t.cloudManager=new f["a"](t.wordleData,t.styleScheme,t.animationMode,"emotional-wordle-svg","emotional-wordle-canvas",t.bgAnimator,!0,!1,t.duration),null===(n=t.cloudManager.animator)||void 0===n||n.createGif(),null===(r=t.cloudManager.animator)||void 0===r||r.play()}),(function(t){console.log(t)}))}},{key:"styleScheme",get:function(){return{colorScheme:this.colorScheme,fontStyle:this.fontStyle,fontWeight:this.fontWeight,fontFamily:this.fontFamily,strokeWidth:this.strokeWidth,rotation:this.rotation,height:520,width:800}}}]),n}(h["b"]);n("cbae");p.render=o,p.__scopeId="data-v-62e83a68";e["default"]=p},c54e:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));n("4160"),n("159b");var r=n("d4ec"),a=n("bee2"),i=n("4a83"),o=n.n(i),c=n("548a"),s=n("c347"),u=n("f80d"),l=n("b133"),h=function(){function t(e,n){arguments.length>2&&void 0!==arguments[2]||l["d"].bubble;var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"emotional-wordle-svg",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emotional-wordle-canvas",o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],c=!(arguments.length>7&&void 0!==arguments[7])||arguments[7],h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:2e3;Object(r["a"])(this,t),this.canvasHandler=new s["a"](i,a,n,o);var g=this;o?g.animator=new u["c"]({data:d(e),plotHandler:g.canvasHandler,duration:h}):c&&f(e,n).on("end",(function(t){var e=t;g.canvasHandler.plotOnSvgWithConfig(e)}))}return Object(a["a"])(t,[{key:"play",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e3;if(this.animator)return this.animator.update("duration",t),this.animator.stop(),this.animator.play(),this}},{key:"stop",value:function(){return this.animator.stop(),this}},{key:"updateMode",value:function(t){this.animator.update("mode",t)}}]),t}(),f=function(t,e){var n=e.width,r=e.height,a=c["a"]().domain([0,75]).range([10,120]);return o()().size([n,r]).timeInterval(200).words(t).rotate(e.rotation).fontSize((function(t,e){var n=t;return a(n.frequency)})).font(e.fontFamily).fontStyle(e.fontStyle).fontWeight(e.fontWeight).text((function(t,e){return t.text||""})).spiral(e.spiralType).start()};function d(t){return t.forEach((function(t,e){t.color="black"})),t}},cbae:function(t,e,n){"use strict";n("91e8")},dbb4:function(t,e,n){var r=n("23e7"),a=n("83ab"),i=n("56ef"),o=n("fc6a"),c=n("06cf"),s=n("8418");r({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(t){var e,n,r=o(t),a=c.f,u=i(r),l={},h=0;while(u.length>h)n=a(r,e=u[h++]),void 0!==n&&s(l,e,n);return l}})},e439:function(t,e,n){var r=n("23e7"),a=n("d039"),i=n("fc6a"),o=n("06cf").f,c=n("83ab"),s=a((function(){o(1)})),u=!c||s;r({target:"Object",stat:!0,forced:u,sham:!c},{getOwnPropertyDescriptor:function(t,e){return o(i(t),e)}})},f80d:function(t,e,n){"use strict";n.d(e,"c",(function(){return Nt})),n.d(e,"b",(function(){return jt})),n.d(e,"a",(function(){return St}));n("99af"),n("cb29"),n("4160"),n("d81d"),n("fb6a"),n("4ec9"),n("d3b7"),n("ac1f"),n("3ca3"),n("1276"),n("159b"),n("ddb0"),n("2b3d");var r=n("bee2"),a=n("d4ec"),i=n("74f4"),o=n("e991");function c(t){return((t*=2)<=1?Object(o["a"])(1-t):2-Object(o["a"])(t-1))/2}var s=n("63ad"),u=n("166a");const l=Math.PI/180,h=180/Math.PI,f=18,d=.96422,g=1,v=.82521,p=4/29,y=6/29,m=3*y*y,w=y*y*y;function b(t){if(t instanceof x)return new x(t.l,t.a,t.b,t.opacity);if(t instanceof N)return A(t);t instanceof u["b"]||(t=Object(u["e"])(t));var e,n,r=F(t.r),a=F(t.g),i=F(t.b),o=k((.2225045*r+.7168786*a+.0606169*i)/g);return r===a&&a===i?e=n=o:(e=k((.4360747*r+.3850649*a+.1430804*i)/d),n=k((.0139322*r+.0971045*a+.7141733*i)/v)),new x(116*o-16,500*(e-o),200*(o-n),t.opacity)}function M(t,e,n,r){return 1===arguments.length?b(t):new x(t,e,n,null==r?1:r)}function x(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function k(t){return t>w?Math.pow(t,1/3):t/m+p}function O(t){return t>y?t*t*t:m*(t-p)}function E(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function F(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function j(t){if(t instanceof N)return new N(t.h,t.c,t.l,t.opacity);if(t instanceof x||(t=b(t)),0===t.a&&0===t.b)return new N(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*h;return new N(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function S(t,e,n,r){return 1===arguments.length?j(t):new N(t,e,n,null==r?1:r)}function N(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function A(t){if(isNaN(t.h))return new x(t.l,0,0,t.opacity);var e=t.h*l;return new x(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Object(s["a"])(x,M,Object(s["b"])(u["a"],{brighter:function(t){return new x(this.l+f*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new x(this.l-f*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=d*O(e),t=g*O(t),n=v*O(n),new u["b"](E(3.1338561*e-1.6168667*t-.4906146*n),E(-.9787684*e+1.9161415*t+.033454*n),E(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),Object(s["a"])(N,S,Object(s["b"])(u["a"],{brighter:function(t){return new N(this.h,this.c,this.l+f*(null==t?1:t),this.opacity)},darker:function(t){return new N(this.h,this.c,this.l-f*(null==t?1:t),this.opacity)},rgb:function(){return A(this).rgb()}}));var I=n("b055");function T(t){return function(e,n){var r=t((e=S(e)).h,(n=S(n)).h),a=Object(I["a"])(e.c,n.c),i=Object(I["a"])(e.l,n.l),o=Object(I["a"])(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=a(t),e.l=i(t),e.opacity=o(t),e+""}}}var C=T(I["c"]),R=(T(I["a"]),n("1998")),_=n("7a42"),P=n("0b42"),D=n("7789"),H=function(){var t=[],e=D["a"];return e.forEach((function(n,r){t.push(new jt({color:n,stage:Math.ceil(100*r/(e.length-1))}))})),t},W=n("b133"),L=(n("b65f"),n("a4d3"),n("4de4"),n("e439"),n("dbb4"),n("b64b"),n("ade3"));function z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function B(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?z(Object(n),!0).forEach((function(e){Object(L["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var U=1,G=new P["a"],q=G.italicRange,K=G.weightRange,V=q[1]-q[0],Y=K[1]-K[0],X=(q[1]+q[0])/2,$=(K[1]+K[0])/2,J=function(){function t(){Object(a["a"])(this,t)}return Object(r["a"])(t,[{key:"getKeyFrames",value:function(t,e,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=[];return i=t==W["d"].dance?this.getDiscoKeyFrames(e,n,r):t==W["d"].split?this.getSplitKeyframes(e,n,r,a):t==W["d"].swing?this.getSwingingKeyFrames(e,n,r):[H()],i}},{key:"getSwingingKeyFrames",value:function(t,e,n){for(var r=[],a=Math.floor(.9*t),i=Math.max(1,n*a),o=function(t){var a=[],i=V*(.5*n+.1*Math.random()+.4),o=Y*(.5*n+.1*Math.random()+.4),c=[X-i,X+i],s=[$-.2*o,$+o],u=new P["a"];u.update({italic:X,weight:$});var l=new P["a"];l.update({italic:c[0],weight:s[0]});var h=new P["a"];h.update({italic:c[1],weight:s[1]});var f=new P["a"];f.update({italic:X,weight:s[1]});var d=new P["a"];d.update({italic:c[0],weight:s[0]});for(var g=[],v=[new jt({font:h}),new jt({font:h}),new jt({font:f,xoff:-1}),new jt({font:d,xoff:-4}),new jt({font:f,yoff:Math.random()>.5?-2:2}),new jt({font:h}),new jt({font:h})],p=0;p<Math.max(1,Math.floor(3*Math.random()));p++)for(var y=0;y<v.length;y++)Math.random()>.2&&g.push(v[y]);var m=10*e,w=g.length,b=w*m-1;0==m&&a.push.apply(a,[new jt({stage:0}),new jt({stage:100})]);for(var M=function(t){g.forEach((function(e,n){var r=Math.ceil(100/b*(n+t*w));a.push(B(B({},e),{},{stage:r}))}))},x=0;x<m;x++)M(x);r.push(a)},c=0;c<i;c++)o(c);return r}},{key:"getSplitKeyframes",value:function(t,e,n,r){for(var a=[],i=Math.floor(.9*t),o=Math.max(U,Math.floor(n*i)),c=function(t){var i=[],c=r+2*t*Math.PI/o,s=4*Math.random()+2+18*n,u=Math.floor(10*e),l=(new jt({xoff:3*s/5*Math.cos(c+Math.PI/7),yoff:3*s/5*Math.sin(c+Math.PI/7),rotate:0}),new jt({xoff:4*s/5*Math.cos(c-Math.PI/8),yoff:4*s/5*Math.sin(c+Math.PI/8),rotate:0}),new jt({xoff:s*Math.cos(c),yoff:s*Math.sin(c),rotate:0})),h=new jt({xoff:0,yoff:0,rotate:0}),f=new jt({rotate:c-Math.PI/4}),d=new jt({rotate:-c+Math.PI/4}),g=[h,l,f,f,d,l,l,l,l,h],v=g.length,p=v*u-1;0==u&&i.push.apply(i,[new jt({stage:0}),new jt({stage:100})]);for(var y=function(t){g.forEach((function(e,n){var r=Math.ceil(100/p*(n+t*v));i.push(B(B({},e),{},{stage:r}))}))},m=0;m<u;m++)y(m);a.push(i)},s=0;s<o;s++)c(s);return a}},{key:"getDiscoKeyFrames",value:function(t,e,n){for(var r=[],a=10,i=Math.min(t,Math.trunc((a-U)*n+U)),o=function(t){var a=[],i=2*Math.round(Math.random())-1,o=new jt({xoff:i*(3*n)}),c=new jt({xoff:0,yoff:0}),s=2*Math.random(),u=new jt({yoff:-s*(e+n+1)}),l=[o,c,o,u],h=10*e,f=l.length,d=f*h-1;0==h&&a.push.apply(a,[new jt({stage:0}),new jt({stage:100})]);for(var g=function(t){l.forEach((function(e,n){var r=Math.ceil(100/d*(n+t*f));a.push(B(B({},e),{},{stage:r}))}))},v=0;v<h;v++)g(v);r.push(a)},c=0;c<i;c++)o(c);return r}}]),t}(),Z=n("2abf"),Q=(n("13d5"),n("a9e3"),n("b680"),n("cfc3"),n("84c3"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("3835")),tt=n("b85c"),et=n("a788"),nt=n("5664"),rt=n.n(nt),at=n("ede8"),it="https://cdnjs.cloudflare.com/ajax/libs/ink/3.1.10/fonts/Roboto/roboto-regular-webfont.ttf",ot=null,ct=80;function st(t,e){var n=t.x-e.x,r=t.y-e.y;return Math.sqrt(n*n+r*r)}function ut(t,e,n){return{x:(1-n)*t.x+n*e.x,y:(1-n)*t.y+n*e.y}}function lt(t,e){return t.x*e.y-t.y*e.x}var ht,ft,dt=10,gt=3,vt=1e-6,pt=function(){function t(){Object(a["a"])(this,t),this.points=[],this.children=[],this.area=0}return Object(r["a"])(t,[{key:"moveTo",value:function(t){this.points.push(t)}},{key:"lineTo",value:function(t){this.points.push(t)}},{key:"close",value:function(){var t=this,e=this.points[this.points.length-1];this.points.forEach((function(n){t.area+=.5*lt(e,n),e=n}))}},{key:"conicTo",value:function(t,e){for(var n=this.points[this.points.length-1],r=st(n,e)+st(e,t),a=Math.max(2,Math.min(dt,r/gt)),i=1;i<=a;++i){var o=i/a;this.points.push(ut(ut(n,e,o),ut(e,t,o),o))}}},{key:"cubicTo",value:function(t,e,n){for(var r=this.points[this.points.length-1],a=st(r,e)+st(e,n)+st(n,t),i=Math.max(2,Math.min(dt,a/gt)),o=1;o<=i;++o){var c=o/i,s=ut(ut(r,e,c),ut(e,n,c),c),u=ut(ut(e,n,c),ut(n,t,c),c);this.points.push(ut(s,u,c))}}},{key:"inside",value:function(t){var e=0,n=this.points[this.points.length-1];return this.points.forEach((function(r){var a=n.y<r.y?n:r,i=n.y<r.y?r:n;a.y<t.y+vt&&i.y>t.y+vt&&(i.x-a.x)*(t.y-a.y)>(t.x-a.x)*(i.y-a.y)&&(e+=1),n=r})),e%2!==0}}]),t}();function yt(t){ht.uniform1f(ot,t/ct),ht.drawElements(ht.TRIANGLES,ft.length,ht.UNSIGNED_SHORT,0),requestAnimationFrame(yt)}var mt=function(t){for(var e=[],n=0;n<t.length;++n){for(var r=null,a=n-1;a>=0;--a)if(t[a].inside(t[n].points[0])&&t[n].area*t[a].area<0){r=t[a];break}r?r.children.push(t[n]):e.push(t[n])}return e},wt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:12,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Hello World",i=t.getPath(a,e,n,r),o=[];return i.commands.forEach((function(t){var e=t.type,n=t.x,r=t.y,a=t.x1,i=t.y1,c=t.x2,s=t.y2;switch(e){case"M":o.push(new pt),o[o.length-1].moveTo({x:n,y:r});break;case"L":o[o.length-1].moveTo({x:n,y:r});break;case"C":o[o.length-1].cubicTo({x:n,y:r},{x:a,y:i},{x:c,y:s});break;case"Q":o[o.length-1].conicTo({x:n,y:r},{x:a,y:i});break;case"Z":o[o.length-1].close();break}})),o.sort((function(t,e){return Math.abs(e.area)-Math.abs(t.area)})),o},bt=function(t,e){var n=e.reduce((function(t,e){return t+e.points.length}),0),r=new Float32Array(2*n),a=0;ft=[];var i=function t(e){var n=[],i=[];e.points.forEach((function(t){var e=t.x,r=t.y;return n.push(e,r)})),e.children.forEach((function(e){e.children.forEach(t),i.push(n.length/2),e.points.forEach((function(t){var e=t.x,r=t.y;return n.push(e,r)}))})),r.set(n,2*a),rt()(n,i).forEach((function(t){return ft.push(t+a)})),a+=n.length/2};return t.forEach(i),[r,ft]},Mt=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xt,a=document.getElementById("emordle-canvas"),i=(a.width,a.height,[]),o=Object(tt["a"])(n);try{for(o.s();!(e=o.n()).done;){var c=e.value,s=wt(t,c.x-c.width/2,c.y,c.size,c.text);i=i.concat(s)}}catch(g){o.e(g)}finally{o.f()}var u=mt(i),l=bt(u,i),h=Object(Q["a"])(l,2),f=h[0],d=h[1];Et(f,d,r)},xt=" pos.y += pow(sin( (pos.x) / 500.+ uTime *.02),2.) * 20.;\npos.x += sin( pos.y/ 100. + uTime *.8) * .5;\n",kt=" pos.y = pos.y;\npos.x = pos.x;\n",Ot=function(t,e){if(0==t)return kt;Math.max(1,Math.floor(10*e));var n=Number(.01+.3*t).toFixed(3),r=Number(15.1+9.9*e).toFixed(3),a=Number(10.1+359.9*(1.05-e)).toFixed(3),i=Number(50.1+150.1*(1.05-e)).toFixed(3),o=Number(.02+.58*e).toFixed(3),c="sin( pos.y / ".concat(i," + uTime * ").concat(n,") * ").concat(o),s="pow(sin( (pos.x) / ".concat(a," + uTime * ").concat(n,"), 2.) * ").concat(r),u="\n  pos.x += ".concat(c,";\n  pos.y += ").concat(s,";\n  ");return u},Et=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xt,r=document.getElementById("emordle-canvas");ht=r.getContext("webgl",{preserveDrawingBuffer:!0});var a=r.width,i=r.height;ht.viewport(0,0,a,i);var o=Object(at["b"])(ht,ht.VERTEX_SHADER,"\n      precision mediump float;\n      uniform vec2 uScale;\n      uniform vec2 uOffset;\n      uniform float uTime;\n      attribute vec2 position;\n      varying vec4 fragColor;\n      void main() {\n      vec2 pos = position;\n      ".concat(n,"\n      gl_Position = vec4(pos * uScale + uOffset, 0.0, 1.0);\n      fragColor = vec4(sin(uTime*.05)*.55+.6, 0.05, cos(uTime*.15)*.25+.35, 1. ); // colorful\n    }")),c=Object(at["b"])(ht,ht.FRAGMENT_SHADER,"precision mediump float;\n        uniform vec4 uColor;\n        uniform vec2 u_resolution;\n        varying vec4 fragColor;\n        void main() {\n        gl_FragColor = uColor;\n        vec2 st = gl_FragCoord.xy / u_resolution;\n        gl_FragColor = fragColor;\n        }"),s=Object(at["a"])(ht,o,c);ht.bindAttribLocation(s,0,"position");var u=["uScale","uOffset","uColor","uTime","u_resolution","fragColor"].map((function(t){return ht.getUniformLocation(s,t)})),l=Object(Q["a"])(u,6),h=l[0],f=l[1],d=l[2],g=l[3],v=l[4],p=l[5];ot=g,ht.useProgram(s),ht.uniform1f(g,0),ht.uniform2fv(h,[2/a,-2/i]),ht.uniform2fv(f,[0,0]),ht.uniform4fv(d,[0,0,0,1]),ht.uniform4fv(p,[0,0,0,1]),ht.uniform2f(v,ht.canvas.width,ht.canvas.height),ht.clearColor(0,1,1,1),ht.clear(ht.COLOR_BUFFER_BIT);var y=ht.createBuffer();ht.bindBuffer(ht.ARRAY_BUFFER,y),ht.bufferData(ht.ARRAY_BUFFER,t,ht.STATIC_DRAW);var m=ht.createBuffer(),w=new Uint16Array(e);ht.bindBuffer(ht.ELEMENT_ARRAY_BUFFER,m),ht.bufferData(ht.ELEMENT_ARRAY_BUFFER,w,ht.STATIC_DRAW),ht.enableVertexAttribArray(0),ht.vertexAttribPointer(0,2,ht.FLOAT,!0,8,0),ht.drawElements(ht.TRIANGLES,e.length,ht.UNSIGNED_SHORT,0),ht.flush(),yt(Date.now())},Ft=function(t){var e=t.words,n=void 0===e?[]:e,r=t.fontUrl,a=void 0===r?it:r,i=t.speed,o=void 0===i?.5:i,c=t.entropy,s=void 0===c?.5:c;et["a"].load(a,(function(t,e){if(t)console.log(a),alert("Font could not be loaded: "+t);else if(e){var r=Ot(o,s);Mt(e,n,r)}}))},jt=function t(e){Object(a["a"])(this,t),this.x=0,this.y=0,this.xoff=0,this.yoff=0,this.rotate=0,this.scale=1,this.opacity=1,this.color="black",this.stage=0,this.duration=10,this.font=new P["a"],Object.assign(this,e)},St=function(){function t(e){Object(a["a"])(this,t),this.order=0,this.delay=0,this.duration=2e3,this.ease=function(t){return t},this.words=[],this.origin=[],this.keyFrames=[],this.frameCounter=0,this.font=new P["a"],Object.assign(this,e)}return Object(r["a"])(t,[{key:"updateWord",value:function(t,e,n,r){var a=this;this.font.setValWithRatio("width",1);C(t.color,e.color)(n);this.font.update({italic:(e.font.italic-t.font.italic)*this.ease(n),weight:(e.font.weight-t.font.weight)*this.ease(n)});var i=this.font.getCss();this.words.forEach((function(r){var o=(e.xoff-t.xoff)*a.ease(n),c=(e.yoff-t.yoff)*a.ease(n),s=(e.scale-t.scale)*a.ease(n),u=(e.rotate-t.rotate)*a.ease(n);r.x=r.x+o,r.y=r.y+c,r.rotate=u,r.size=r.trues*(1+s),r.fontString=i}))}},{key:"setFrameCounter",value:function(t){this.frameCounter=t}},{key:"reset",value:function(){this.words=this.origin.map((function(t){return Object.assign({},t)})),this.frameCounter=0}}]),t}(),Nt=function(){function t(e){var n=this;Object(a["a"])(this,t),this.data=[],this.words=new Array,this.duration=1e3,this.groupManagers=[],this.mode=W["d"].dance,this.extent=.5,this.speed=.5,this.entropy=.5,this.wordMap=new Map,this.keyFrames=[],Object.assign(this,e),this.data.forEach((function(t,e){n.wordMap.set(t.text,e),n.words.push(new Z["b"](t,n.plotHandler.width,n.plotHandler.height))}))}return Object(r["a"])(t,[{key:"createManagers",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.groupManagers=new Array(t);for(var n=0;n<t;++n)this.groupManagers[n]=new St(e)}},{key:"assignKeyFrame",value:function(t){this.groupManagers.forEach((function(e,n){e.keyFrames=t[n]}))}},{key:"divideGroup",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=0==n.length?this.groupManagers.length:n.length,a=Math.ceil(this.words.length/r),i=[];if(t!==W["c"].xy)t===W["c"].random?i=It(this.words):t===W["c"].x?i=this.words.sort((function(t,e){return t.x-e.x})):t==W["c"].y&&(i=this.words.sort((function(t,e){return t.y-e.y}))),this.groupManagers.forEach((function(t,e){var n=a*e,r=n+a,o=i.slice(n,r);t.origin=o.map((function(t){return Object.assign({},t)})),t.words=o.map((function(t){return Object.assign({},t)}))}));else{var o=this.words.map((function(t){return[t.x,t.y]})),c=0==n.length?"kmeans":n,s=Object(_["a"])(o,r,c),u=Tt(r,0);s.indexes.forEach((function(t,n){u[t].push(e.words[n])})),this.groupManagers.forEach((function(t,e){var n=u[e];t.origin=n.map((function(t){return Object.assign({},t)})),t.words=n.map((function(t){return Object.assign({},t)}))}))}}},{key:"reset",value:function(){this.groupManagers.forEach((function(t){t.words=t.origin.map((function(t){return Object.assign({},t)})),t.frameCounter=0}))}},{key:"update",value:function(t,e){"duration"===t&&(this.duration=e),"mode"===t&&(this.mode=e)}},{key:"play",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.gifFlag,n=void 0!==e&&e,r=t.replay,a=void 0!==r&&r,i=this.mode,o=i!==W["d"].wave;this.reset(),i===W["d"].wave&&this.playWaving({gifFlag:n,replay:a}),i===W["d"].swing&&this.playSwinging({gifFlag:n,replay:a}),i===W["d"].dance&&this.playDancing({gifFlag:n,replay:a}),i===W["d"].split&&this.playSplitting({gifFlag:n,replay:a}),this.plotHandler.svg.style("display",o?"":"none"),this.plotHandler.canvas.style.display=o?"none":""}},{key:"playWaving",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.gifFlag,n=void 0!==e&&e,r=(t.replay,this.data.map((function(t){return Object.assign({},t)}))),a=r[0].font;Ft({words:r,entropy:this.entropy,speed:this.speed,fontUrl:"./font/".concat(a,".ttf"),gif:this.gif,gifFlag:n})}},{key:"playSwinging",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.gifFlag,n=void 0!==e&&e,r=t.replay,a=void 0!==r&&r;if(a)this.reset();else{var i;null===(i=this.plotHandler)||void 0===i||i.plotOnSvg(this.data);var o=new J,c=this.words.length,s=o.getKeyFrames(W["d"].swing,c,this.speed,this.entropy);this.keyFrames=s;var u=s.length,l=this.entropy>.5?W["c"].random:W["c"].y;this.createManagers(u),this.assignKeyFrame(s),this.divideGroup(l)}this.startPlay(n,a)}},{key:"playSplitting",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.gifFlag,n=void 0!==e&&e,r=t.replay,a=void 0!==r&&r;if(a)this.reset();else{var i;null===(i=this.plotHandler)||void 0===i||i.plotOnSvg(this.data);var o=new J,s=this.words.length,u=[],l=this.plotHandler.width/4,h=this.plotHandler.height/4,f=Math.random()*Math.PI/4,d=o.getKeyFrames(W["d"].split,s,this.speed,this.entropy,f);this.keyFrames=d;for(var g=d.length,v=0;v<g;v++){var p=2*v*Math.PI/g+f,y=l*Math.cos(p),m=h*Math.sin(p);u.push([y,m])}this.createManagers(g,{ease:c}),this.assignKeyFrame(d),this.divideGroup(W["c"].xy,u)}this.startPlay(n,a)}},{key:"playDancing",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.gifFlag,n=void 0!==e&&e,r=t.replay,a=void 0!==r&&r;if(a)this.reset();else{var i;null===(i=this.plotHandler)||void 0===i||i.plotOnSvg(this.data);var o=new J,c=this.words.length,s=o.getKeyFrames(W["d"].dance,c,this.extent,this.speed,this.entropy);this.keyFrames=s;var u=s.length,l=At();this.createManagers(u),this.assignKeyFrame(s),this.divideGroup(l)}this.startPlay(n,a)}},{key:"startPlay",value:function(){var t,e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.groupManagers;null===(t=this.timer)||void 0===t||t.stop(),this.timer=i["c"]((function(t){if(t<e.duration){var a,i=new Array(e.words.length);if(r.forEach((function(n,r){var a=n.frameCounter,o=n.keyFrames,c=o[a],s=o[a+1],u=s.stage/100*e.duration;t>=u&&n.setFrameCounter(a+1);var l=c.stage/100*e.duration,h=(t-l)/(u-l),f=t/n.duration;n.updateWord(c,s,h,f),n.words.forEach((function(t,n){i[e.wordMap.get(t.text)]=t}))})),null===(a=e.plotHandler)||void 0===a||a.updateOnSvg(i),n){var o=e.svgToCanvas();e.gif.addFrame(o,{delay:10})}}else{var c;null===(c=e.timer)||void 0===c||c.stop(),n&&(console.log("rendering"),e.gif.render()),e.play({gifFlag:!1,replay:!0})}}),10)}},{key:"svgToCanvas",value:function(){var t=document.querySelector("#emordle-svg"),e=(new XMLSerializer).serializeToString(t),n=document.createElement("canvas");n.width=this.plotHandler.width,n.height=this.plotHandler.height;var r=n.getContext("2d"),a=document.createElement("img");return a.setAttribute("src","data:image/svg+xml;base64,"+btoa(e)),a.onload=function(){r.clearRect(0,0,n.width,n.height),r.fillStyle="rgba(255, 255, 255, 1)",r.globalCompositeOperation="source-over",r.fillRect(0,0,n.width,n.height),null===r||void 0===r||r.drawImage(a,0,0,n.width,n.height)},n}},{key:"getTotalWords",value:function(){var t=[];return this.groupManagers.forEach((function(e,n){t=t.concat(e.words)})),t}},{key:"stop",value:function(){var t;null===(t=this.timer)||void 0===t||t.stop()}},{key:"createWaveGif",value:function(){var t=this,e=i["c"]((function(n){if(console.log(n),n<t.duration){var r=document.querySelector("#emordle-canvas"),a=document.createElement("canvas");a.width=t.plotHandler.width,a.height=t.plotHandler.height;var i=a.getContext("2d"),o=document.createElement("img"),c=r.toDataURL();o.setAttribute("src",c),o.onload=function(){i.clearRect(0,0,r.width,r.height),i.fillStyle="rgba(255, 255, 255, 1)",i.globalCompositeOperation="source-over",i.fillRect(0,0,r.width,r.height),null===i||void 0===i||i.drawImage(o,0,0,r.width,r.height),document.body.appendChild(o)},t.gif.addFrame(a,{delay:10})}else console.log(n),console.log("rendering"),e.stop(),t.gif.render()}))}},{key:"createGif",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;this.gif=new R({quality:t});var e=this.keyFrames;return this.mode==W["d"].wave?this.createWaveGif():this.play({gifFlag:!0}),this.gif.on("finished",(function(t){console.log(Date.now(),"finished");var n=document.createElement("a");n.setAttribute("target","_blank"),n.setAttribute("href",URL.createObjectURL(t)),n.setAttribute("download","animation.gif"),n.addEventListener("click",(function(){this.remove()})),n.click();var r=document.createElement("a");r.setAttribute("target","_blank"),r.setAttribute("href","data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e))),r.setAttribute("download","param.json"),r.addEventListener("click",(function(){this.remove()})),r.click()})),this}},{key:"assignWords",value:function(t,e,n){for(var r=0;r<t;r++){var a=e*r,i=a+e;this.groupManagers[r].words=n.slice(a,i)}}}]),t}();function At(){return W["c"].x}var It=function(t){var e,n,r=t.length;while(0!=r)n=Math.floor(Math.random()*r),r-=1,e=t[r],t[r]=t[n],t[n]=e;return t},Tt=function(t,e){for(var n=[],r=0;r<t;r++)if(0!==e)n.push(new Array(e).fill(0));else{var a=[];n.push(a)}return n}}}]);
//# sourceMappingURL=chunk-218ffa35.6d2cd65e.js.map