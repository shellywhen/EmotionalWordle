{"version":3,"sources":["webpack:///./node_modules/vue-property-decorator/lib/helpers/metadata.js","webpack:///./node_modules/vue-property-decorator/lib/decorators/Prop.js","webpack:///./node_modules/vue-property-decorator/lib/decorators/Watch.js","webpack:///./src/components/ui/Slider.vue","webpack:///./src/components/ui/Slider.vue?f40d","webpack:///./src/components/ui/Slider.vue?be56","webpack:///./node_modules/core-js/internals/this-number-value.js","webpack:///./node_modules/d3-array/src/ticks.js","webpack:///./node_modules/d3-array/src/ascending.js","webpack:///./node_modules/d3-array/src/bisector.js","webpack:///./node_modules/d3-array/src/number.js","webpack:///./node_modules/d3-array/src/bisect.js","webpack:///./node_modules/d3-interpolate/src/round.js","webpack:///./node_modules/d3-scale/src/constant.js","webpack:///./node_modules/d3-scale/src/number.js","webpack:///./node_modules/d3-scale/src/continuous.js","webpack:///./node_modules/d3-scale/src/init.js","webpack:///./node_modules/d3-format/src/formatSpecifier.js","webpack:///./node_modules/d3-format/src/formatDecimal.js","webpack:///./node_modules/d3-format/src/exponent.js","webpack:///./node_modules/d3-format/src/formatPrefixAuto.js","webpack:///./node_modules/d3-format/src/defaultLocale.js","webpack:///./node_modules/d3-format/src/precisionPrefix.js","webpack:///./node_modules/d3-format/src/formatGroup.js","webpack:///./node_modules/d3-format/src/formatNumerals.js","webpack:///./node_modules/d3-format/src/formatTrim.js","webpack:///./node_modules/d3-format/src/formatRounded.js","webpack:///./node_modules/d3-format/src/formatTypes.js","webpack:///./node_modules/d3-format/src/identity.js","webpack:///./node_modules/d3-format/src/locale.js","webpack:///./node_modules/d3-format/src/precisionRound.js","webpack:///./node_modules/d3-format/src/precisionFixed.js","webpack:///./node_modules/d3-scale/src/tickFormat.js","webpack:///./node_modules/d3-scale/src/linear.js","webpack:///./node_modules/core-js/internals/whitespaces.js","webpack:///./node_modules/core-js/internals/string-trim.js","webpack:///./src/views/Emordle.vue","webpack:///./src/components/GroupPanel.vue","webpack:///./src/components/KeyframeList.vue","webpack:///./src/components/KeyframeList.vue?17b3","webpack:///./src/components/KeyframeList.vue?685e","webpack:///./src/assets/color-picker.ts","webpack:///./src/components/GroupPanel.vue?1bf8","webpack:///./src/components/GroupPanel.vue?7d72","webpack:///./src/views/Emordle.vue?2a12","webpack:///./src/views/Emordle.vue?5037","webpack:///./node_modules/tslib/tslib.es6.js","webpack:///./src/views/Emordle.vue?8c2a","webpack:///./node_modules/core-js/modules/es.number.constructor.js","webpack:///./node_modules/core-js/modules/es.object.keys.js","webpack:///./node_modules/core-js/modules/es.math.trunc.js","webpack:///./node_modules/core-js/modules/es.number.to-fixed.js","webpack:///./node_modules/core-js/modules/es.array.includes.js","webpack:///./node_modules/core-js/modules/es.object.get-own-property-descriptors.js","webpack:///./node_modules/core-js/modules/es.object.get-own-property-descriptor.js","webpack:///./node_modules/@simonwep/pickr/dist/pickr.min.js","webpack:///./node_modules/d3-ease/src/exp.js","webpack:///./node_modules/d3-color/src/math.js","webpack:///./node_modules/d3-color/src/lab.js","webpack:///./node_modules/d3-interpolate/src/hcl.js","webpack:///./src/assets/manual.ts","webpack:///./node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack:///./src/assets/keyframe-handler.ts","webpack:///./src/assets/jump.ts","webpack:///./src/assets/animator.ts","webpack:///./src/components/KeyframeList.vue?ca55","webpack:///./src/components/ui/Slider.vue?dd88","webpack:///./src/components/GroupPanel.vue?c7cb"],"names":["reflectMetadataIsSupported","Reflect","getMetadata","applyMetadata","options","target","key","Array","isArray","hasOwnProperty","type","Object","Prop","componentOptions","k","props","Watch","path","_a","deep","_b","immediate","handler","watch","create","push","class","label","showValue","value","rangeClass","min","max","step","callback","a","className","init","range","this","val","default","render","__scopeId","classof","module","exports","TypeError","e10","Math","sqrt","e5","e2","reverse","n","ticks","i","stop","start","count","tickIncrement","isFinite","ceil","floor","power","log","LN10","error","pow","tickStep","step0","abs","step1","b","NaN","f","delta","compare","left","x","lo","hi","length","mid","right","center","d","ascendingComparator","ascending","ascendingBisect","bisector","bisectRight","number","bisect","t","round","constants","unit","identity","normalize","isNaN","clamper","bimap","domain","interpolate","d0","d1","r0","r1","polymap","j","r","slice","copy","source","clamp","unknown","transformer","transform","untransform","piecewise","output","input","rescale","scale","map","invert","y","_","arguments","from","rangeRound","u","continuous","initRange","re","formatSpecifier","specifier","match","exec","Error","FormatSpecifier","fill","align","sign","symbol","zero","width","comma","precision","trim","undefined","prototype","toString","toLocaleString","replace","formatDecimalParts","p","toExponential","indexOf","coefficient","prefixExponent","g","grouping","substring","join","thousands","numerals","out","i1","s","i0","exponent","toFixed","formatDecimal","toPrecision","formatRounded","formatPrefixAuto","toUpperCase","prefixes","group","locale","formatGroup","call","Number","currencyPrefix","currency","currencySuffix","decimal","formatNumerals","String","percent","minus","nan","newFormat","formatTypes","prefix","test","toLowerCase","suffix","formatType","maybeSuffix","format","c","valuePrefix","valueSuffix","valueNegative","formatTrim","charCodeAt","Infinity","padding","formatPrefix","e","defaultLocale","definition","tickFormat","precisionPrefix","precisionRound","precisionFixed","linearish","nice","prestep","maxIter","linear","apply","requireObjectCoercible","whitespaces","whitespace","ltrim","RegExp","rtrim","createMethod","TYPE","$this","string","end","for","id","openFile","name","accept","handleUpload","$event","wordleData","collection","item","tag","animationMode","animationModes","speedCallback","entropyCallback","play","downloadGif","disabled","height","styleScheme","zoomLevel","viewBox","preserveAspectRatio","groups","index","font","groupIndex","wordContent","colorScheme","durationCallback","delayCallback","keyframes","kf","xoff","yoff","rotate","style","color","xPadding","svgEle","d3","node","svgWidth","getBoundingClientRect","svgHeight","gap","stage","svg","containers","append","attr","selectAll","data","enter","classed","on","parentNode","select","text","swatches","defaultColor","colorList","identifier","el","theme","components","preview","opacity","hue","interaction","hex","rgba","hsla","hsva","cmyk","clear","save","delay","duration","console","colors","forEach","idx","v","setValWithRatio","words","keyFrames","Slider","KeyframeList","fileReader","FileReader","uploadFilename","speed","entropy","customColor","animator","extent","tendencies","positive","negative","tendency","split","dance","wave","swing","plotHandler","addEventListener","parseFile","fileNames","tasks","Promise","all","then","dataList","property","filter","assign","assignColor","update","mode","reset","pv","parseFloat","event","file","files","readAsText","dataset","random","ele","state","replay","lines","result","headers","strings","numbers","booleans","obj","currentline","header","dt","includes","res","csvToJson","createGif","document","createElement","href","URL","createObjectURL","Blob","JSON","stringify","download","click","remove","getElementById","groupManagers","fontStyle","fontWeight","fontFamily","GroupPanel","word","__decorate","decorators","desc","getOwnPropertyDescriptor","decorate","defineProperty","DESCRIPTORS","global","isForced","redefine","has","inheritIfRequired","toPrimitive","fails","getOwnPropertyNames","NUMBER","NativeNumber","NumberPrototype","BROKEN_CLASSOF","toNumber","argument","first","third","radix","maxCode","digits","code","it","parseInt","NumberWrapper","dummy","valueOf","keys","constructor","$","toObject","nativeKeys","FAILS_ON_PRIMITIVES","stat","forced","trunc","toInteger","thisNumberValue","repeat","nativeToFixed","acc","x2","FORCED","proto","fractionDigits","z","fractDigits","multiply","c2","divide","dataToString","RangeError","$includes","addToUnscopables","arrayMethodUsesToLength","USES_TO_LENGTH","ACCESSORS","1","ownKeys","toIndexedObject","getOwnPropertyDescriptorModule","createProperty","sham","getOwnPropertyDescriptors","object","descriptor","O","nativeGetOwnPropertyDescriptor","window","o","l","m","enumerable","get","Symbol","toStringTag","__esModule","bind","HTMLCollection","NodeList","capture","innerHTML","firstElementChild","getAttribute","removeAttribute","children","composedPath","parentElement","Element","reduce","querySelector","shadowRoot","shiftKey","ctrlKey","deltaY","selectionStart","focus","setSelectionRange","preventDefault","dispatchEvent","Event","passive","h","w","A","getContext","fillStyle","hexa","values","C","padStart","clone","lock","onchange","onstop","activeElement","wrapper","cache","startsWith","_tapstop","_tapmove","cancelable","element","touches","clientX","clientY","top","offsetWidth","offsetHeight","_tapstart","_keyboard","S","elements","classList","stopPropagation","destroy","variantFlipOrder","middle","positionFlipOrder","bottom","position","margin","E","HTMLElement","reference","popper","container","documentElement","vs","vm","ve","hs","hm","he","L","configurable","writable","hide","show","change","changestop","cancel","swatchselect","DEFAULT_OPTIONS","sliders","lockOpacity","palette","_preBuild","_buildComponents","_bindEvents","_finalBuild","addSwatch","button","app","_root","_nanopop","setAttribute","_t","_setupAnimationFrame","requestAnimationFrame","setColor","_rePositioningPicker","defaultRepresentation","_representation","setColorRepresentation","showAlways","_initializingActive","_emit","useAsButton","inline","appClass","find","hidden","add","contains","appendChild","root","removeChild","nextSibling","insertBefore","replaceChild","disable","comparison","transition","lastColor","_color","_lastColor","picker","currentColor","_recalc","_updateOutput","toRGBA","background","toHEXA","_swatchColors","slider","backgroundColor","trigger","selectable","_components","_clearColor","setHSVA","toHSVA","applyColor","stopImmediatePropagation","closeWithKey","isOpen","some","adjustableNumbers","getColorRepresentation","autoReposition","closeOnScroll","setTimeout","clearTimeout","_eventBindings","body","innerHeight","innerWidth","outputPrecision","i18n","I18N_DEFAULTS","_eventListener","splice","_parseLocalColor","cancelAnimationFrame","expInOut","radians","PI","degrees","K","Xn","Yn","Zn","t0","t1","t2","t3","labConvert","Lab","Hcl","hcl2lab","rgb2lrgb","xyz2lab","lab","lab2xyz","lrgb2rgb","hclConvert","atan2","hcl","cos","sin","define","brighter","darker","rgb","enumerableOnly","getOwnPropertySymbols","symbols","sym","_objectSpread2","defineProperties","minNumGroup","sampleFont","sampleItalic","italicRange","sampleWeight","weightRange","sampleItalicInterval","sampleWeightInterval","sampleItalicMid","sampleWeightMid","wordLength","alpha","getDiscoKeyFrames","getSplitKeyframes","getSwingingKeyFrames","maxNumGroup","numGroup","groupKeyFrames","italicDelta","weightDelta","fontMid","italic","weight","fontStart","fontEnd","fontWideMid","fontWideStart","animation","backupFrames","fid","iter","al","tl","move","groupKf","theta","dis","_move","_center","_rotate","_neg_rotate","randXD","randY","jump","FONTURL","time","pace","distance","p1","p2","dx","dy","lerp","cross","gl","MAX_BEZIER_STEPS","BEZIER_STEP_SIZE","EPSILON","points","area","cur","next","p0","dist","steps","tick","uniform1f","drawElements","TRIANGLES","UNSIGNED_SHORT","getRoots","polys","parent","inside","getPolys","getPath","commands","x1","y1","y2","moveTo","cubicTo","conicTo","close","sort","totalPoints","sum","vertexData","Float32Array","vertexCount","process","poly","coords","holes","child","set","statement","defaultvs","canvas","polyAll","size","concat","indices","staticvs","vsGenerator","timeGran","yAmplitude","yExtent","xExtent","xAmplitude","xPosStr","yPosStr","preserveDrawingBuffer","viewport","VERTEX_SHADER","ps","FRAGMENT_SHADER","prog","bindAttribLocation","getUniformLocation","uScale","uOffset","uColor","uTime","u_resolutionLoc","fragColor","useProgram","uniform2fv","uniform4fv","uniform2f","clearColor","COLOR_BUFFER_BIT","vertBuffer","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","indxBuffer","indexData","Uint16Array","ELEMENT_ARRAY_BUFFER","enableVertexAttribArray","vertexAttribPointer","FLOAT","flush","Date","now","fontUrl","load","err","fontMeta","alert","configs","order","ease","origin","frameCounter","ckf","nkf","frameAt","phase","fontString","getCss","trues","fc","wordMap","Map","numGroups","field","gm","centers","numWordsPerGroup","assignedWords","xy","startIdx","endIdx","positions","alias","kmeans","wordBags","getMatrix","indexes","gifFlag","svgFlag","playWaving","playSwinging","playDancing","playSplitting","display","gif","plotOnSvg","keyFrameHandler","getKeyFrames","divideMode","createManagers","assignKeyFrame","divideGroup","startPlay","getDivideMode","gms","timer","elapsed","totalWords","cfa","setFrameCounter","fs","updateWord","updateOnSvg","gifCanvas","svgToCanvas","addFrame","xml","XMLSerializer","serializeToString","ctx","img","btoa","onload","clearRect","globalCompositeOperation","fillRect","drawImage","cvs","imgData","toDataURL","quality","param","createWaveGif","blob","wlink","plink","encodeURIComponent","groupNum","wordsCopy","array","tempVal","randIdx","currIdx","row","col","matrix","slot"],"mappings":"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","file":"js/chunk-a3a21914.d7591405.js","sourcesContent":["/** @see {@link https://github.com/vuejs/vue-class-component/blob/master/src/reflect.ts} */\nvar reflectMetadataIsSupported = typeof Reflect !== 'undefined' && typeof Reflect.getMetadata !== 'undefined';\nexport function applyMetadata(options, target, key) {\n    if (reflectMetadataIsSupported) {\n        if (!Array.isArray(options) &&\n            typeof options !== 'function' &&\n            !options.hasOwnProperty('type') &&\n            typeof options.type === 'undefined') {\n            var type = Reflect.getMetadata('design:type', target, key);\n            if (type !== Object) {\n                options.type = type;\n            }\n        }\n    }\n}\n","import { createDecorator } from 'vue-class-component';\nimport { applyMetadata } from '../helpers/metadata';\n/**\n * decorator of a prop\n * @param  options the options for the prop\n * @return PropertyDecorator | void\n */\nexport function Prop(options) {\n    if (options === void 0) { options = {}; }\n    return function (target, key) {\n        applyMetadata(options, target, key);\n        createDecorator(function (componentOptions, k) {\n            ;\n            (componentOptions.props || (componentOptions.props = {}))[k] = options;\n        })(target, key);\n    };\n}\n","import { createDecorator } from 'vue-class-component';\n/**\n * decorator of a watch function\n * @param  path the path or the expression to observe\n * @param  WatchOption\n * @return MethodDecorator\n */\nexport function Watch(path, options) {\n    if (options === void 0) { options = {}; }\n    var _a = options.deep, deep = _a === void 0 ? false : _a, _b = options.immediate, immediate = _b === void 0 ? false : _b;\n    return createDecorator(function (componentOptions, handler) {\n        if (typeof componentOptions.watch !== 'object') {\n            componentOptions.watch = Object.create(null);\n        }\n        var watch = componentOptions.watch;\n        if (typeof watch[path] === 'object' && !Array.isArray(watch[path])) {\n            watch[path] = [watch[path]];\n        }\n        else if (typeof watch[path] === 'undefined') {\n            watch[path] = [];\n        }\n        watch[path].push({ handler: handler, deep: deep, immediate: immediate });\n    });\n}\n","<template>\n  <div class=\"slider-container\">\n    <div class=\"config-tag slider-tag\">\n      <span>{{ label }}</span>\n      <span v-if=\"showValue\"> &nbsp;&nbsp; {{ value }} </span>\n    </div>\n    <input\n      type=\"range\"\n      :class=\"rangeClass\"\n      :min=\"min\"\n      :max=\"max\"\n      :step=\"step\"\n      v-model=\"value\"\n    />\n  </div>\n</template>\n\n<script lang=\"ts\">\n/* eslint-disable */\nimport { Prop, Watch } from \"vue-property-decorator\";\nimport { Vue } from \"vue-class-component\";\nimport * as d3 from \"d3\";\ntype Callback = (x: number) => void;\nexport default class Slider extends Vue {\n  @Prop({ default: 0 }) public min: number = 0;\n  @Prop({ default: 1 }) public max: number = 1;\n  @Prop({ default: 0.1 }) public step: number = 0.1;\n  @Prop({ default: (a: number) => {} }) public callback: Callback = (a: number) => {};\n  @Prop({ default: \"\" }) public label: string = \"\";\n  @Prop({ default: \"slider\" }) public className: string = \"slider\";\n  @Prop({ default: 0 }) public init: number = 0;\n  @Prop({ default: false }) public showValue: boolean = false\n  public value = 0;\n  public range = 1;\n  get rangeClass(): string {\n    return this.className + \" slider\";\n  }\n  created() {\n    this.value = this.init\n  }\n  @Watch(\"value\")\n  public valueChanged(val: number): void {\n    this.callback(val);\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n$deep-gray: #aaaeb3;\n$gray: #7a7a7a;\n$light-gray: #e2e6ea;\n$normal: #2c3e50;\n.slider-container {\n  width: 100%;\n  text-align: left;\n  margin-top: 2px;\n  .slider-tag {\n    position: relative;\n    // margin-bottom: -2vh;\n    color: black;\n    span:nth-child(2) {\n      position: absolute;\n      right: 0;\n    }\n  }\n}\n.slider {\n  -webkit-appearance: none;\n  width: 100%;\n  height: 0.8vh;\n  border-radius: 0.8vh;\n  background: $light-gray;\n  outline: none;\n  opacity: 0.7;\n  -webkit-transition: 0.2s;\n  transition: opacity 0.2s;\n}\n.slider::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  appearance: none;\n  width: 2vh;\n  height: 2vh;\n  border-radius: 50%;\n  background: $deep-gray;\n  cursor: pointer;\n  &:hover {\n      background: $gray;\n    }\n}\n.slider::-moz-range-thumb {\n  width: 2vh;\n  height: 2vh;\n  border-radius: 50%;\n  background: $deep-gray;\n  cursor: pointer;\n}\n</style>\n","\n/* eslint-disable */\nimport { Prop, Watch } from \"vue-property-decorator\";\nimport { Vue } from \"vue-class-component\";\nimport * as d3 from \"d3\";\ntype Callback = (x: number) => void;\nexport default class Slider extends Vue {\n  @Prop({ default: 0 }) public min: number = 0;\n  @Prop({ default: 1 }) public max: number = 1;\n  @Prop({ default: 0.1 }) public step: number = 0.1;\n  @Prop({ default: (a: number) => {} }) public callback: Callback = (a: number) => {};\n  @Prop({ default: \"\" }) public label: string = \"\";\n  @Prop({ default: \"slider\" }) public className: string = \"slider\";\n  @Prop({ default: 0 }) public init: number = 0;\n  @Prop({ default: false }) public showValue: boolean = false\n  public value = 0;\n  public range = 1;\n  get rangeClass(): string {\n    return this.className + \" slider\";\n  }\n  created() {\n    this.value = this.init\n  }\n  @Watch(\"value\")\n  public valueChanged(val: number): void {\n    this.callback(val);\n  }\n}\n","import { render } from \"./Slider.vue?vue&type=template&id=78773d8c&scoped=true\"\nimport script from \"./Slider.vue?vue&type=script&lang=ts\"\nexport * from \"./Slider.vue?vue&type=script&lang=ts\"\n\nimport \"./Slider.vue?vue&type=style&index=0&id=78773d8c&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-78773d8c\"\n\nexport default script","var classof = require('../internals/classof-raw');\n\n// `thisNumberValue` abstract operation\n// https://tc39.github.io/ecma262/#sec-thisnumbervalue\nmodule.exports = function (value) {\n  if (typeof value != 'number' && classof(value) != 'Number') {\n    throw TypeError('Incorrect invocation');\n  }\n  return +value;\n};\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    step = -step;\n    start = Math.ceil(start * step);\n    stop = Math.floor(stop * step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending.js\";\n\nexport default function(f) {\n  let delta = f;\n  let compare = f;\n\n  if (f.length === 1) {\n    delta = (d, x) => f(d) - x;\n    compare = ascendingComparator(f);\n  }\n\n  function left(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    while (lo < hi) {\n      const mid = (lo + hi) >>> 1;\n      if (compare(a[mid], x) < 0) lo = mid + 1;\n      else hi = mid;\n    }\n    return lo;\n  }\n\n  function right(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    while (lo < hi) {\n      const mid = (lo + hi) >>> 1;\n      if (compare(a[mid], x) > 0) hi = mid;\n      else lo = mid + 1;\n    }\n    return lo;\n  }\n\n  function center(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    const i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n\n  return {left, center, right};\n}\n\nfunction ascendingComparator(f) {\n  return (d, x) => ascending(f(d), x);\n}\n","export default function(x) {\n  return x === null ? NaN : +x;\n}\n\nexport function* numbers(values, valueof) {\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  }\n}\n","import ascending from \"./ascending.js\";\nimport bisector from \"./bisector.js\";\nimport number from \"./number.js\";\n\nconst ascendingBisect = bisector(ascending);\nexport const bisectRight = ascendingBisect.right;\nexport const bisectLeft = ascendingBisect.left;\nexport const bisectCenter = bisector(number).center;\nexport default bisectRight;\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n","export default function constants(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function number(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport constant from \"./constant.js\";\nimport number from \"./number.js\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(a, b) {\n  var t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    var n = Math.min(domain.length, range.length);\n    if (clamp !== identity) clamp = clamper(domain[0], domain[n - 1]);\n    piecewise = n > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = Array.from(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? true : identity, rescale()) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous() {\n  return transformer()(identity, identity);\n}\n","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: {\n      if (typeof domain === \"function\") this.interpolator(domain);\n      else this.range(domain);\n      break;\n    }\n    default: {\n      this.domain(domain);\n      if (typeof interpolator === \"function\") this.interpolator(interpolator);\n      else this.range(interpolator);\n      break;\n    }\n  }\n  return this;\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","export default function(x) {\n  return Math.abs(x = Math.round(x)) >= 1e21\n      ? x.toLocaleString(\"en\").replace(/,/g, \"\")\n      : x.toString(10);\n}\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimalParts(1.23) returns [\"123\", 0].\nexport function formatDecimalParts(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimalParts(Math.abs(x)), x ? x[1] : NaN;\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimalParts(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatDecimal from \"./formatDecimal.js\";\nimport formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": (x, p) => (x * 100).toFixed(p),\n  \"b\": (x) => Math.round(x).toString(2),\n  \"c\": (x) => x + \"\",\n  \"d\": formatDecimal,\n  \"e\": (x, p) => x.toExponential(p),\n  \"f\": (x, p) => x.toFixed(p),\n  \"g\": (x, p) => x.toPrecision(p),\n  \"o\": (x) => Math.round(x).toString(8),\n  \"p\": (x, p) => formatRounded(x * 100, p),\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": (x) => Math.round(x).toString(16).toUpperCase(),\n  \"x\": (x) => Math.round(x).toString(16)\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer value part that can be\n        // grouped, and fractional or exponential suffix part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function tickFormat(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport tickFormat from \"./tickFormat.js\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain();\n    var i0 = 0;\n    var i1 = d.length - 1;\n    var start = d[i0];\n    var stop = d[i1];\n    var prestep;\n    var step;\n    var maxIter = 10;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n    \n    while (maxIter-- > 0) {\n      step = tickIncrement(start, stop, count);\n      if (step === prestep) {\n        d[i0] = start\n        d[i1] = stop\n        return domain(d);\n      } else if (step > 0) {\n        start = Math.floor(start / step) * step;\n        stop = Math.ceil(stop / step) * step;\n      } else if (step < 0) {\n        start = Math.ceil(start * step) / step;\n        stop = Math.floor(stop * step) / step;\n      } else {\n        break;\n      }\n      prestep = step;\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous();\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","// a string of all valid unicode whitespaces\n// eslint-disable-next-line max-len\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","<template>\n  <div class=\"interface\">\n    <div class=\"wrapper row\">\n      <div class=\"parameters row col-2\">\n        <div>\n          <div class=\"wrapper\">\n            <span class=\"config-tag\">Dataset</span>\n            <div class=\"wrapper\">\n              <label class=\"form-label\" for=\"wordleUpload\">\n                Upload <span class=\"code\">CSV</span>\n              </label>\n              <button class=\"button\" @click=\"openFile\">\n                <i class=\"fas fa-cloud-upload-alt light\"></i>\n                <span class=\"code\">&nbsp;&nbsp;CSV</span>\n              </button>\n              <input\n                type=\"file\"\n                class=\"form-control-sm\"\n                id=\"wordleUpload\"\n                name=\"wordleUpload\"\n                accept=\"text/txt\"\n                @change=\"handleUpload($event)\"\n              />\n            </div>\n            <select name=\"dataset\" id=\"dataset\" v-model=\"wordleData\">\n              <option\n                v-for=\"item in collection\"\n                v-bind:key=\"item.tag\"\n                v-bind:value=\"item\"\n              >\n                {{ item.tag }}\n              </option>\n            </select>\n          </div>\n          <br />\n          <div class=\"wrapper\">\n            <span class=\"config-tag\">Animation Scheme</span>\n            <select name=\"emotion-select\" v-model=\"animationMode\">\n              <option\n                v-for=\"item in animationModes\"\n                v-bind:key=\"item\"\n                v-bind:value=\"item\"\n              >\n                {{ item }}\n              </option>\n            </select>\n          </div>\n          <br />\n          <div class=\"slider-wrapper\">\n            <Slider\n              init=\"0.5\"\n              step=\"0.05\"\n              label=\"Speed\"\n              className=\"speed\"\n              :callback=\"speedCallback\"\n            ></Slider>\n          </div>\n          <div class=\"slider-wrapper\">\n            <Slider\n              init=\"0.5\"\n              step=\"0.05\"\n              label=\"Entropy\"\n              className=\"entropy\"\n              :callback=\"entropyCallback\"\n            ></Slider>\n          </div>\n          <br />\n          <div class=\"wrapper-mid row\">\n            <!-- <div class=\"col-4\">\n              <i\n                id=\"pauseButton\"\n                @click=\"pause()\"\n                class=\"fas fa-pause-circle lg light\"\n              ></i>\n            </div> -->\n            <div class=\"col-12\">\n              <i\n                id=\"playButton\"\n                @click=\"play()\"\n                class=\"fas fa-play-circle active lg light\"\n              ></i>\n            </div>\n            <!-- <div class=\"col-4\">\n              <i\n                id=\"replayButton\"\n                @click=\"replay()\"\n                class=\"fas fa-arrow-circle-left lg light\"\n              ></i>\n            </div> -->\n          </div>\n          <br />\n          <button\n            type=\"button\"\n            class=\"button\"\n            @click=\"downloadGif\"\n            :disabled=\"disabled\"\n          >\n            <i class=\"fas fa-check light\"></i>\n            <span class=\"code\">&nbsp;&nbsp;Generate</span>\n          </button>\n          <!-- <button type=\"button\" class=\"button\" @click=\"showGroup\">\n            <i class=\"fas fa-search light\"></i>\n            <span class=\"code\">&nbsp;&nbsp;Config</span>\n          </button> -->\n        </div>\n      </div>\n      <div class=\"col-10\">\n        <svg\n          id=\"emordle-svg\"\n          :height=\"styleScheme.height * zoomLevel\"\n          :width=\"styleScheme.width\"\n          :viewBox=\"`${0} ${(-styleScheme.height * (1 - zoomLevel)) / 2} ${\n            styleScheme.width\n          } ${styleScheme.height + 40}`\"\n          preserveAspectRatio=\"xMidYMid meet\"\n        ></svg>\n        <canvas\n          id=\"emordle-canvas\"\n          :height=\"styleScheme.height * zoomLevel\"\n          :width=\"styleScheme.width\"\n        >\n        </canvas>\n        <div id=\"png-container\"></div>\n\n        <div class=\"group-configs\">\n          <div\n            v-for=\"(item, index) in groups\"\n            v-bind:key=\"item\"\n            v-bind:class=\"`group-config group_config_${index}`\"\n          >\n            <GroupPanel\n              :group=\"item\"\n              :font=\"font\"\n              :groupIndex=\"index\"\n            ></GroupPanel>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script lang=\"ts\">\n/* eslint-disable */\nimport { Options, Vue } from \"vue-class-component\";\nimport { Prop, Watch } from \"vue-property-decorator\";\nimport { createColorPicker } from \"@/assets/color-picker\";\nimport Slider from \"@/components/ui/Slider.vue\";\nimport GroupPanel from \"@/components/GroupPanel.vue\";\nimport {\n  Dataset,\n  Word,\n  EmotionMode,\n  Mode,\n  Style,\n  GroupManagerConfig,\n} from \"@/assets/types\";\nimport * as ColorPreset from \"@/assets/color-preset\";\nimport * as d3 from \"d3\";\nimport * as dsv from \"d3-dsv\";\nimport { FontConfig } from \"@/assets/variable-font\";\nimport { PlotHandler } from \"@/assets/plot\";\nimport { WordleAnimator } from \"@/assets/animator\";\n\n@Options({\n  components: {\n    Slider,\n    GroupPanel,\n  },\n})\nexport default class Emordle extends Vue {\n  public wordleData: Dataset | null = null;\n  public collection: Dataset[] = [];\n  public fileReader = new FileReader();\n  public zoomLevel: number = 0.8;\n  public uploadFilename: string = \"\";\n  public font = new FontConfig();\n  public duration: number = 5000;\n  public speed: number = 0.5;\n  public entropy: number = 0.5;\n  public customColor = \"#000000\";\n  public animator: null | WordleAnimator = null;\n  public extent: number = 0.5;\n  public tendencies: Array<EmotionMode> = [\n    EmotionMode.positive,\n    EmotionMode.negative,\n  ];\n  public tendency: EmotionMode = EmotionMode.positive;\n  public animationModes: Array<Mode> = [\n    Mode.split,\n    Mode.dance,\n    Mode.wave,\n    Mode.swing,\n  ];\n  public animationMode: Mode = Mode.dance;\n  public disabled: boolean = false;\n  get groups() {\n    if (!this.animator) return [] as Array<GroupManagerConfig>;\n    return this.animator.groupManagers;\n  }\n  get styleScheme() {\n    return {\n      fontStyle: \"regular\",\n      fontWeight: \"550\",\n      fontFamily: this.font.name,\n      height: 520,\n      width: 800,\n      font: this.font,\n    };\n  }\n  public plotHandler: undefined | PlotHandler = undefined;\n  mounted() {\n    // this.setDisabled();\n    this.fileReader.addEventListener(\"load\", this.parseFile, false);\n    //let fileNames = [\"2020_search\", \"xmas\", \"xmas-emoji\", \"thx\", \"Poe\", \"creep\", \"creep_emoji\", \"creep_mask\"]\n    let fileNames = [\"Poe\", \"thx\", \"2020_search\", \"xmas\", \"ingredients\"];\n    let tasks = fileNames.map((tag: string) =>\n      d3.json(`./dataset/layout/layout_${tag}.json`)\n    );\n    Promise.all(tasks).then((dataList: any) => {\n      this.collection = dataList.map((data: Word[], idx: number) => {\n        return {\n          tag: fileNames[idx],\n          data: data,\n        };\n      });\n      this.wordleData = this.collection[0];\n      d3.select(\"#dataset\")\n        .selectAll(\"option\")\n        .property(\"selected\", \"false\")\n        .filter((v: any) => v[\"data-tag\"] == this.collection[0].tag)\n        .property(\"selected\", true);\n    });\n  }\n  @Watch(\"wordleData\")\n  wordleDataChanged() {\n    if (!this.wordleData) return;\n    let copy = this.wordleData.data.map((v) => Object.assign({}, v));\n    if (!(\"color\" in copy[0])) copy = assignColor(copy);\n    this.font.update({ name: copy[0].font });\n    this.plotHandler = new PlotHandler(\n      \"emordle-canvas\",\n      \"emordle-svg\",\n      this.styleScheme,\n      true\n    );\n    if (this.animator) this.animator!.stop();\n    this.animator = new WordleAnimator({\n      data: copy,\n      duration: this.duration,\n      plotHandler: this.plotHandler,\n      mode: this.animationMode,\n    });\n    this.animator.play();\n  }\n  @Watch(\"animationMode\")\n  aniModeChanged() {\n    // this.setDisabled();\n    if (!this.wordleData) return;\n    this.animator!.update(\"mode\", this.animationMode);\n    this.animator!.reset();\n    this.animator!.play();\n  }\n  speedCallback(v: string) {\n    if (!this.wordleData) return;\n    const pv = parseFloat(v);\n    this.speed = pv;\n    this.animator!.speed = pv;\n    this.animator?.reset();\n    this.animator!.play();\n  }\n  entropyCallback(v: string) {\n    if (!this.wordleData) return;\n    const pv = parseFloat(v);\n    this.entropy = pv;\n    this.animator!.entropy = pv;\n    this.animator!.reset();\n    this.animator!.play();\n  }\n  handleUpload(event: any) {\n    let file = event.target.files[0];\n    if (!file) return;\n    this.fileReader.readAsText(file);\n    this.uploadFilename = file.name.split(\".\").slice(0, -1).join(\".\");\n    this.collection.forEach((dataset: Dataset) => {\n      if (dataset.tag == this.uploadFilename) {\n        this.uploadFilename +=\n          Math.random().toString() + Math.random.toString();\n      }\n    });\n  }\n  // setDisabled() {\n  //   this.disabled = this.animationMode == Mode.wave ? true : false;  \n  //   setTimeout(this.enabledDisabled, 2000);\n  // }\n  // enabledDisabled() {\n  //   this.disabled = true;\n  // }\n  // showGroup() {\n  //   let ele = \".group-configs\";\n  //   let state = !d3.select(ele).classed(\"active\");\n  //   d3.select(ele).classed(\"active\", state);\n  //   console.log(state);\n  // }\n  // pause() {\n  //   let ele = \"#pauseButton\";\n  //   let state = !d3.select(ele).classed(\"active\");\n  //   d3.select(ele).classed(\"active\", state);\n  //   d3.select(\"#playButton\").classed(\"active\", !state);\n  //   if (!this.animator) return;\n  //   this.animator.stop();\n  // }\n  play() {\n    let ele = \"#playButton\";\n    let state = !d3.select(ele).classed(\"active\");\n    d3.select(ele)\n      .classed(\"active\", state)\n      .classed(\"fa-play-circle\", state)\n      .classed(\"fa-pause-circle\", !state);\n    // d3.select(\"#pauseButton\").classed(\"active\", !state);\n    if (!this.animator) return;\n    if (!state) this.animator.stop();\n    else this.animator.play({ replay: true });\n  }\n  // replay() {\n  //   if (!this.animator) return;\n  //   this.animator.play();\n  // }\n\n  \n  csvToJson(data: string) {\n    let lines = data.split(\"\\n\");\n    let result = [];\n    let headers = lines[0].split(\",\");\n\n    let strings = ['text','weight', 'color','font','style','rotate'];\n    let numbers = ['frequency','size','padding','x','y','width','height','xoff','yoff','x1','y1','x0','y0'];\n    let booleans = ['hasText'];\n\n    for(let i=1;i<lines.length;i++){\n      let obj = {} as any;\n      let currentline=lines[i].split(\",\");\n\n      for(let j=0;j<headers.length;j++){\n        const header = headers[j];\n        let dt = currentline[j]  as any;\n        if(strings.includes(header)) {\n          dt = dt;\n        } else if(numbers.includes(header)) {\n          dt = Number(dt);\n        } else if(booleans.includes(header)) {\n          dt = header == \"TRUE\" ? true : false;\n        }\n        obj[headers[j]] = dt;\n      }\n      result.push(obj);\n    }\n    return result;\n  }\n\n  parseFile() {\n    let res = this.fileReader.result;\n    if (!res || typeof res !== \"string\") return;\n    // console.log(this.fileReader)\n    // let data = JSON.parse(res);\n     let data = this.csvToJson(res);\n    let dataset = {\n      data: data,\n      tag: this.uploadFilename,\n    };\n    this.collection.push(dataset);\n    d3.select(\"#dataset\").property(\"value\", dataset);\n    this.wordleData = dataset;\n  }\n  downloadGif() {\n    if (!this.animator) return;\n    this.animator.createGif();\n  }\n  downloadJson() {\n    if (!this.wordleData) return;\n    const a = document.createElement(\"a\");\n    a.href = URL.createObjectURL(\n      new Blob([JSON.stringify(this.wordleData.data)], { type: `text/json` })\n    );\n    a.download = `layout_${this.wordleData.tag}.json`;\n    a.click();\n    a.remove();\n  }\n  openFile() {\n    document.getElementById(\"wordleUpload\")!.click();\n  }\n}\nlet assignColor = function (words: Word[]) {\n  words.forEach((word: Word, idx: number) => {\n    word.color = \"black\";\n  });\n  return words;\n};\n</script>\n<style lang=\"scss\">\n@import \"@/assets/scss/_ui.scss\";\n.group-configs {\n  visibility: hidden;\n  display: none;\n  // display: flex;\n  &.active {\n    visibility: visible;\n    flex-wrap: wrap; /* | wrap-reverse;*/\n    -webkit-flex-wrap: wrap;\n  }\n  .group-config {\n    width: fit-content;\n    margin: 1vh 1vw;\n  }\n}\n</style>","/* eslint-disable */\n<template>\n  <div class=\"groupConfig\">\n    <div class=\"word-group-div\">\n      <span v-for=\"item in wordContent\" v-bind:key=\"item\" class=\"word-content\">\n        {{ item }}\n      </span>\n    </div>\n    <div class=\"color-set\">\n      <div class=\"group-color\">\n        <div\n          v-for=\"(item, index) in colorScheme\"\n          v-bind:key=\"item\"\n          :id=\"`color_${groupIndex}_${index}`\"\n          class=\"color-block\"\n        ></div>\n      </div>\n    </div>\n    <div class=\"sliders\">\n      <div class=\"slider-wrapper\">\n        <Slider\n          max=\"8000\"\n          min=\"1000\"\n          init=\"5000\"\n          step=\"500\"\n          label=\"Speed\"\n          className=\"duration\"\n          :callback=\"durationCallback\"\n        ></Slider>\n      </div>\n      <div class=\"slider-wrapper\">\n        <Slider\n          max=\"8000\"\n          min=\"1000\"\n          init=\"5000\"\n          step=\"500\"\n          label=\"Delay\"\n          className=\"delay\"\n          :callback=\"delayCallback\"\n        ></Slider>\n      </div>\n      <!-- <div class=\"slider-wrapper\">\n        <Slider\n          label=\"f: widh\"\n          className=\"widh\"\n          :callback=\"widhCallback\"\n        ></Slider>\n      </div>\n      <div class=\"slider-wrapper\">\n        <Slider\n          label=\"f: wght\"\n          className=\"wght\"\n          :callback=\"wghtCallback\"\n        ></Slider>\n      </div>\n      <div class=\"slider-wrapper\">\n        <Slider\n          label=\"f: ital\"\n          className=\"ital\"\n          :callback=\"italCallback\"\n        ></Slider>\n      </div> -->\n      <div class=\"keyframes\">\n        <KeyframeList :keyframes=\"keyframes\" :groupIndex=\"groupIndex\"></KeyframeList>\n      </div>\n    </div>\n  </div>\n</template>\n<script lang=\"ts\">\n/* eslint-disable */\nimport { Prop, Watch } from \"vue-property-decorator\";\nimport { Options, Vue } from \"vue-class-component\";\nimport Slider from \"@/components/ui/Slider.vue\";\nimport KeyframeList from \"@/components/KeyframeList.vue\";\nimport * as d3 from \"d3\";\nimport * as ColorPreset from \"@/assets/color-preset\";\nimport { createColorPicker } from \"@/assets/color-picker\";\nimport { FontConfig } from \"@/assets/variable-font\";\nimport { KeyframeConfig, GroupManagerConfig, Word } from \"@/assets/types\";\nimport { GroupManager } from \"@/assets/animator\"\n@Options({\n  components: {\n    Slider,\n    KeyframeList\n  },\n})\nexport default class GroupPanel extends Vue {\n  @Prop({}) public group: GroupManagerConfig = new GroupManager({})\n  @Prop({}) public font: FontConfig = new FontConfig()\n  @Prop({}) public groupIndex: number = 0\n  private colorScheme: Array<string> = ColorPreset.exciting\n  private delay: number = 0\n  private duration: number = 2000\n  get wordContent(): Array<string> {\n    if(!this.group) return []\n    return this.group.words.map((v: Word) => v.text || \"\")\n  }\n  get keyframes(): Array<KeyframeConfig> {\n    if(!this.group) return []\n    return this.group.keyFrames\n  }\n  created() { \n    \n  }\n  mounted() {\n    // let colors = this.colorScheme\n    //  this.colorScheme.forEach((c, idx) => {\n    //   createColorPicker(c, colors, `#color_${this.groupIndex}_${idx}`)\n    // })\n  }\n  @Watch(\"group\")\n  public groupChanged(val: GroupManagerConfig): void {\n    console.log(val, 'nonono')\n     let colors = this.colorScheme\n     this.colorScheme.forEach((c, idx) => {\n      createColorPicker(c, colors, `#color_${this.groupIndex}_${idx}`)\n    })\n  }\n  wghtCallback(v: number) {\n    this.font.setValWithRatio(\"weight\", v);\n  }\n  italCallback(v: number) {\n    this.font.setValWithRatio(\"italic\", v);\n  }\n  widhCallback(v: number) {\n    this.font.setValWithRatio(\"width\", v);\n  }\n  durationCallback(v: number) {\n    this.duration = v;\n  }\n  delayCallback(v: number) {\n    this.delay = v;\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n$deep-gray: #343a40;\n$gray: #c0c0c0;\n$light-gray: #f8f9fa;\n.group-color {\n  display: flex;\n}\n.groupConfig {\n  border: $gray solid 1px;\n  border-radius: 5px;\n  padding: 10px;\n  width: 20vw;\n  .pickr {\n    flex-wrap: wrap;\n    -webkit-flex-wrap: wrap;\n    margin-left: 2px;\n  }\n  .sliders {\n    width: 100%;\n    display: flex;\n    flex-wrap: wrap;\n    -webkit-flex-wrap: wrap;\n    align-items: center;\n    justify-content: center;\n    .slider-wrapper {\n      width: 48%;\n      margin: 0 0.3vw 0 0;\n    }\n  }\n  .word-group-div {\n    line-height: 0.8;\n    // display: none;\n    .word-content {\n      margin-left: .2em;\n      padding: 0.1em 0.1em;\n      color: $deep-gray;\n      background-color: $light-gray;\n      display: inline-block;\n      font-size: .75em;\n      font-weight: 700;\n      line-height: 1;\n      text-align: center;\n      white-space: nowrap;\n      vertical-align: baseline;\n      border-radius: .25rem;\n    }\n  }\n}\n</style>","/* eslint-disable */\n<template>\n  <div class=\"keyframe-configs\">\n    <svg :class=\"`stage-overview stage_overview_${groupIndex}`\">\n    </svg>\n      <div v-for=\"kf in keyframes\" v-bind:key=\"kf\" class=\"keyframe-config\">\n      <span></span>\n      <span> {{ kf.scale }} </span>\n      <span></span>\n      <span>{{ kf.xoff }}</span>\n      <span></span>\n      <span>{{ kf.yoff }}</span>\n      <span></span>\n      <span>{{ `${kf.rotate}` }}</span>\n      <span>&nbsp;<button class=\"color-btn\" :style=\"{ 'background-color': kf.color }\"></button> </span>\n    </div>\n  </div>\n</template>\n<script lang=\"ts\">\n/* eslint-disable */\nimport { Prop, Watch } from \"vue-property-decorator\";\nimport { Vue } from \"vue-class-component\";\nimport * as d3 from \"d3\";\nimport * as d3Scale from \"d3-scale\";\nimport * as ColorPreset from \"@/assets/color-preset\";\nimport { createColorPicker } from \"@/assets/color-picker\";\nimport { FontConfig } from \"@/assets/variable-font\";\nimport { KeyframeConfig } from \"@/assets/types\";\nconst xPadding = 0.08;\nconst yPadding = 0.1;\nexport default class KeyframeList extends Vue {\n  @Prop({}) public keyframes: Array<KeyframeConfig> = [] as Array<KeyframeConfig>\n  @Prop({}) public groupIndex: number = 0\n  created() {\n  }\n  mounted() {\n    let svgEle = d3.select('.stage-overview').node() as SVGElement\n    let svgWidth = svgEle.getBoundingClientRect().width\n    let svgHeight = svgEle.getBoundingClientRect().height\n    let scale = d3Scale.scaleLinear().range([0, svgWidth * (1-2*xPadding)]).domain([0,100])\n    let invertScale = scale.invert\n    let gap = svgWidth * (1 - 2 * xPadding) / this.keyframes.length * 0.9\n    for (let i = 1; i < this.keyframes.length; i ++) {\n      gap = Math.min((this.keyframes[i].stage - this.keyframes[i-1].stage) * 0.9, gap) \n    }\n    let svg = d3.select(`.stage_overview_${this.groupIndex}`)\n    let containers = svg.append('g')\n      .attr('transform', `translate(${svgWidth * xPadding}, 0)`)\n      .selectAll('circle')\n      .data(this.keyframes)\n      .enter()\n      .append('g')\n      .attr('transform', d => `translate(${scale(d.stage)}, 0)`)\n      .classed('stage-hint', true )\n    containers.append('rect')\n      .classed('overlay-rect', true)\n      .attr('x', - gap / 2)\n      .attr('y', 0)\n      .attr('width', gap)\n      .attr('height', svgHeight)\n      .on('mouseover', function(this: any, e: any, d: any) {\n        d3.select(this.parentNode!).select('text').classed('active', true)\n\n      })\n      .on('mouseout', function(this: any, e: any, d: any) {\n        d3.select(this.parentNode).select('text').classed('active', false)\n      })\n    containers.append('circle')\n      .classed('stage-point', true)\n      .attr('cx', 0)\n      .attr('cy', svgHeight / 2)\n      .attr('r', 3)\n    containers.append('text')\n      .classed('annotation', true)\n      .attr('y', svgHeight / 4)\n      .text(d => `${Number(d.stage/100).toPrecision(4).substring(1, 4)}`)\n\n  }\n}\n</script>\n<style lang=\"scss\">\n.color-btn {\n  width: .8rem;\n  height: .8rem;\n  border-radius: 1.6rem;\n  text-size: x-small;\n}\n.keyframe-configs {\n  width:100%;\n  font-size: x-small;\n  svg {\n    width: 100%;\n    height: 10vh;\n  }\n  .keyframe-config {\n    span {\n      margin-left: 0.2rem;\n    }\n  }\n}\n.overlay-rect {\n    fill: white;\n    opacity: 0;\n}\n.stage-point {\n  fill: steelblue;\n}\n.annotation {\n  fill: black;\n  text-anchor: middle;\n  font-size: 10px;\n  visibility: hidden;\n  &.active {\n    visibility: visible;\n  }\n}\n</style>","\n/* eslint-disable */\nimport { Prop, Watch } from \"vue-property-decorator\";\nimport { Vue } from \"vue-class-component\";\nimport * as d3 from \"d3\";\nimport * as d3Scale from \"d3-scale\";\nimport * as ColorPreset from \"@/assets/color-preset\";\nimport { createColorPicker } from \"@/assets/color-picker\";\nimport { FontConfig } from \"@/assets/variable-font\";\nimport { KeyframeConfig } from \"@/assets/types\";\nconst xPadding = 0.08;\nconst yPadding = 0.1;\nexport default class KeyframeList extends Vue {\n  @Prop({}) public keyframes: Array<KeyframeConfig> = [] as Array<KeyframeConfig>\n  @Prop({}) public groupIndex: number = 0\n  created() {\n  }\n  mounted() {\n    let svgEle = d3.select('.stage-overview').node() as SVGElement\n    let svgWidth = svgEle.getBoundingClientRect().width\n    let svgHeight = svgEle.getBoundingClientRect().height\n    let scale = d3Scale.scaleLinear().range([0, svgWidth * (1-2*xPadding)]).domain([0,100])\n    let invertScale = scale.invert\n    let gap = svgWidth * (1 - 2 * xPadding) / this.keyframes.length * 0.9\n    for (let i = 1; i < this.keyframes.length; i ++) {\n      gap = Math.min((this.keyframes[i].stage - this.keyframes[i-1].stage) * 0.9, gap) \n    }\n    let svg = d3.select(`.stage_overview_${this.groupIndex}`)\n    let containers = svg.append('g')\n      .attr('transform', `translate(${svgWidth * xPadding}, 0)`)\n      .selectAll('circle')\n      .data(this.keyframes)\n      .enter()\n      .append('g')\n      .attr('transform', d => `translate(${scale(d.stage)}, 0)`)\n      .classed('stage-hint', true )\n    containers.append('rect')\n      .classed('overlay-rect', true)\n      .attr('x', - gap / 2)\n      .attr('y', 0)\n      .attr('width', gap)\n      .attr('height', svgHeight)\n      .on('mouseover', function(this: any, e: any, d: any) {\n        d3.select(this.parentNode!).select('text').classed('active', true)\n\n      })\n      .on('mouseout', function(this: any, e: any, d: any) {\n        d3.select(this.parentNode).select('text').classed('active', false)\n      })\n    containers.append('circle')\n      .classed('stage-point', true)\n      .attr('cx', 0)\n      .attr('cy', svgHeight / 2)\n      .attr('r', 3)\n    containers.append('text')\n      .classed('annotation', true)\n      .attr('y', svgHeight / 4)\n      .text(d => `${Number(d.stage/100).toPrecision(4).substring(1, 4)}`)\n\n  }\n}\n","import { render } from \"./KeyframeList.vue?vue&type=template&id=456474e6\"\nimport script from \"./KeyframeList.vue?vue&type=script&lang=ts\"\nexport * from \"./KeyframeList.vue?vue&type=script&lang=ts\"\n\nimport \"./KeyframeList.vue?vue&type=style&index=0&id=456474e6&lang=scss\"\nscript.render = render\n\nexport default script","/* eslint-disable */\n/**\n * doc comment for color-picker.ts.\n * create a color picker.\n * @packageDocumentation\n */\nimport Pickr from \"@simonwep/pickr\"\nimport { rainbow } from \"@/assets/color-preset\"\nlet swatches = rainbow\nlet createColorPicker = function (defaultColor: string, colorList:Array<string> = swatches, identifier: string = '.color-picker') {\n    const pickr = Pickr.create({\n        el: identifier,\n        theme: 'nano',\n        swatches: colorList,\n        default: defaultColor,\n        components: {\n            // Main components\n            preview: true,\n            opacity: true,\n            hue: true,\n            // Input / output Options\n            interaction: {\n                hex: true,\n                rgba: true,\n                hsla: true,\n                hsva: true,\n                cmyk: true,\n                input: true,\n                clear: true,\n                save: true\n            }\n        }\n    })\n}\n\n\nexport {\n    createColorPicker\n}","\n/* eslint-disable */\nimport { Prop, Watch } from \"vue-property-decorator\";\nimport { Options, Vue } from \"vue-class-component\";\nimport Slider from \"@/components/ui/Slider.vue\";\nimport KeyframeList from \"@/components/KeyframeList.vue\";\nimport * as d3 from \"d3\";\nimport * as ColorPreset from \"@/assets/color-preset\";\nimport { createColorPicker } from \"@/assets/color-picker\";\nimport { FontConfig } from \"@/assets/variable-font\";\nimport { KeyframeConfig, GroupManagerConfig, Word } from \"@/assets/types\";\nimport { GroupManager } from \"@/assets/animator\"\n@Options({\n  components: {\n    Slider,\n    KeyframeList\n  },\n})\nexport default class GroupPanel extends Vue {\n  @Prop({}) public group: GroupManagerConfig = new GroupManager({})\n  @Prop({}) public font: FontConfig = new FontConfig()\n  @Prop({}) public groupIndex: number = 0\n  private colorScheme: Array<string> = ColorPreset.exciting\n  private delay: number = 0\n  private duration: number = 2000\n  get wordContent(): Array<string> {\n    if(!this.group) return []\n    return this.group.words.map((v: Word) => v.text || \"\")\n  }\n  get keyframes(): Array<KeyframeConfig> {\n    if(!this.group) return []\n    return this.group.keyFrames\n  }\n  created() { \n    \n  }\n  mounted() {\n    // let colors = this.colorScheme\n    //  this.colorScheme.forEach((c, idx) => {\n    //   createColorPicker(c, colors, `#color_${this.groupIndex}_${idx}`)\n    // })\n  }\n  @Watch(\"group\")\n  public groupChanged(val: GroupManagerConfig): void {\n    console.log(val, 'nonono')\n     let colors = this.colorScheme\n     this.colorScheme.forEach((c, idx) => {\n      createColorPicker(c, colors, `#color_${this.groupIndex}_${idx}`)\n    })\n  }\n  wghtCallback(v: number) {\n    this.font.setValWithRatio(\"weight\", v);\n  }\n  italCallback(v: number) {\n    this.font.setValWithRatio(\"italic\", v);\n  }\n  widhCallback(v: number) {\n    this.font.setValWithRatio(\"width\", v);\n  }\n  durationCallback(v: number) {\n    this.duration = v;\n  }\n  delayCallback(v: number) {\n    this.delay = v;\n  }\n}\n","import { render } from \"./GroupPanel.vue?vue&type=template&id=06031fd4&scoped=true\"\nimport script from \"./GroupPanel.vue?vue&type=script&lang=ts\"\nexport * from \"./GroupPanel.vue?vue&type=script&lang=ts\"\n\nimport \"./GroupPanel.vue?vue&type=style&index=0&id=06031fd4&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-06031fd4\"\n\nexport default script","\n/* eslint-disable */\nimport { Options, Vue } from \"vue-class-component\";\nimport { Prop, Watch } from \"vue-property-decorator\";\nimport { createColorPicker } from \"@/assets/color-picker\";\nimport Slider from \"@/components/ui/Slider.vue\";\nimport GroupPanel from \"@/components/GroupPanel.vue\";\nimport {\n  Dataset,\n  Word,\n  EmotionMode,\n  Mode,\n  Style,\n  GroupManagerConfig,\n} from \"@/assets/types\";\nimport * as ColorPreset from \"@/assets/color-preset\";\nimport * as d3 from \"d3\";\nimport * as dsv from \"d3-dsv\";\nimport { FontConfig } from \"@/assets/variable-font\";\nimport { PlotHandler } from \"@/assets/plot\";\nimport { WordleAnimator } from \"@/assets/animator\";\n\n@Options({\n  components: {\n    Slider,\n    GroupPanel,\n  },\n})\nexport default class Emordle extends Vue {\n  public wordleData: Dataset | null = null;\n  public collection: Dataset[] = [];\n  public fileReader = new FileReader();\n  public zoomLevel: number = 0.8;\n  public uploadFilename: string = \"\";\n  public font = new FontConfig();\n  public duration: number = 5000;\n  public speed: number = 0.5;\n  public entropy: number = 0.5;\n  public customColor = \"#000000\";\n  public animator: null | WordleAnimator = null;\n  public extent: number = 0.5;\n  public tendencies: Array<EmotionMode> = [\n    EmotionMode.positive,\n    EmotionMode.negative,\n  ];\n  public tendency: EmotionMode = EmotionMode.positive;\n  public animationModes: Array<Mode> = [\n    Mode.split,\n    Mode.dance,\n    Mode.wave,\n    Mode.swing,\n  ];\n  public animationMode: Mode = Mode.dance;\n  public disabled: boolean = false;\n  get groups() {\n    if (!this.animator) return [] as Array<GroupManagerConfig>;\n    return this.animator.groupManagers;\n  }\n  get styleScheme() {\n    return {\n      fontStyle: \"regular\",\n      fontWeight: \"550\",\n      fontFamily: this.font.name,\n      height: 520,\n      width: 800,\n      font: this.font,\n    };\n  }\n  public plotHandler: undefined | PlotHandler = undefined;\n  mounted() {\n    // this.setDisabled();\n    this.fileReader.addEventListener(\"load\", this.parseFile, false);\n    //let fileNames = [\"2020_search\", \"xmas\", \"xmas-emoji\", \"thx\", \"Poe\", \"creep\", \"creep_emoji\", \"creep_mask\"]\n    let fileNames = [\"Poe\", \"thx\", \"2020_search\", \"xmas\", \"ingredients\"];\n    let tasks = fileNames.map((tag: string) =>\n      d3.json(`./dataset/layout/layout_${tag}.json`)\n    );\n    Promise.all(tasks).then((dataList: any) => {\n      this.collection = dataList.map((data: Word[], idx: number) => {\n        return {\n          tag: fileNames[idx],\n          data: data,\n        };\n      });\n      this.wordleData = this.collection[0];\n      d3.select(\"#dataset\")\n        .selectAll(\"option\")\n        .property(\"selected\", \"false\")\n        .filter((v: any) => v[\"data-tag\"] == this.collection[0].tag)\n        .property(\"selected\", true);\n    });\n  }\n  @Watch(\"wordleData\")\n  wordleDataChanged() {\n    if (!this.wordleData) return;\n    let copy = this.wordleData.data.map((v) => Object.assign({}, v));\n    if (!(\"color\" in copy[0])) copy = assignColor(copy);\n    this.font.update({ name: copy[0].font });\n    this.plotHandler = new PlotHandler(\n      \"emordle-canvas\",\n      \"emordle-svg\",\n      this.styleScheme,\n      true\n    );\n    if (this.animator) this.animator!.stop();\n    this.animator = new WordleAnimator({\n      data: copy,\n      duration: this.duration,\n      plotHandler: this.plotHandler,\n      mode: this.animationMode,\n    });\n    this.animator.play();\n  }\n  @Watch(\"animationMode\")\n  aniModeChanged() {\n    // this.setDisabled();\n    if (!this.wordleData) return;\n    this.animator!.update(\"mode\", this.animationMode);\n    this.animator!.reset();\n    this.animator!.play();\n  }\n  speedCallback(v: string) {\n    if (!this.wordleData) return;\n    const pv = parseFloat(v);\n    this.speed = pv;\n    this.animator!.speed = pv;\n    this.animator?.reset();\n    this.animator!.play();\n  }\n  entropyCallback(v: string) {\n    if (!this.wordleData) return;\n    const pv = parseFloat(v);\n    this.entropy = pv;\n    this.animator!.entropy = pv;\n    this.animator!.reset();\n    this.animator!.play();\n  }\n  handleUpload(event: any) {\n    let file = event.target.files[0];\n    if (!file) return;\n    this.fileReader.readAsText(file);\n    this.uploadFilename = file.name.split(\".\").slice(0, -1).join(\".\");\n    this.collection.forEach((dataset: Dataset) => {\n      if (dataset.tag == this.uploadFilename) {\n        this.uploadFilename +=\n          Math.random().toString() + Math.random.toString();\n      }\n    });\n  }\n  // setDisabled() {\n  //   this.disabled = this.animationMode == Mode.wave ? true : false;  \n  //   setTimeout(this.enabledDisabled, 2000);\n  // }\n  // enabledDisabled() {\n  //   this.disabled = true;\n  // }\n  // showGroup() {\n  //   let ele = \".group-configs\";\n  //   let state = !d3.select(ele).classed(\"active\");\n  //   d3.select(ele).classed(\"active\", state);\n  //   console.log(state);\n  // }\n  // pause() {\n  //   let ele = \"#pauseButton\";\n  //   let state = !d3.select(ele).classed(\"active\");\n  //   d3.select(ele).classed(\"active\", state);\n  //   d3.select(\"#playButton\").classed(\"active\", !state);\n  //   if (!this.animator) return;\n  //   this.animator.stop();\n  // }\n  play() {\n    let ele = \"#playButton\";\n    let state = !d3.select(ele).classed(\"active\");\n    d3.select(ele)\n      .classed(\"active\", state)\n      .classed(\"fa-play-circle\", state)\n      .classed(\"fa-pause-circle\", !state);\n    // d3.select(\"#pauseButton\").classed(\"active\", !state);\n    if (!this.animator) return;\n    if (!state) this.animator.stop();\n    else this.animator.play({ replay: true });\n  }\n  // replay() {\n  //   if (!this.animator) return;\n  //   this.animator.play();\n  // }\n\n  \n  csvToJson(data: string) {\n    let lines = data.split(\"\\n\");\n    let result = [];\n    let headers = lines[0].split(\",\");\n\n    let strings = ['text','weight', 'color','font','style','rotate'];\n    let numbers = ['frequency','size','padding','x','y','width','height','xoff','yoff','x1','y1','x0','y0'];\n    let booleans = ['hasText'];\n\n    for(let i=1;i<lines.length;i++){\n      let obj = {} as any;\n      let currentline=lines[i].split(\",\");\n\n      for(let j=0;j<headers.length;j++){\n        const header = headers[j];\n        let dt = currentline[j]  as any;\n        if(strings.includes(header)) {\n          dt = dt;\n        } else if(numbers.includes(header)) {\n          dt = Number(dt);\n        } else if(booleans.includes(header)) {\n          dt = header == \"TRUE\" ? true : false;\n        }\n        obj[headers[j]] = dt;\n      }\n      result.push(obj);\n    }\n    return result;\n  }\n\n  parseFile() {\n    let res = this.fileReader.result;\n    if (!res || typeof res !== \"string\") return;\n    // console.log(this.fileReader)\n    // let data = JSON.parse(res);\n     let data = this.csvToJson(res);\n    let dataset = {\n      data: data,\n      tag: this.uploadFilename,\n    };\n    this.collection.push(dataset);\n    d3.select(\"#dataset\").property(\"value\", dataset);\n    this.wordleData = dataset;\n  }\n  downloadGif() {\n    if (!this.animator) return;\n    this.animator.createGif();\n  }\n  downloadJson() {\n    if (!this.wordleData) return;\n    const a = document.createElement(\"a\");\n    a.href = URL.createObjectURL(\n      new Blob([JSON.stringify(this.wordleData.data)], { type: `text/json` })\n    );\n    a.download = `layout_${this.wordleData.tag}.json`;\n    a.click();\n    a.remove();\n  }\n  openFile() {\n    document.getElementById(\"wordleUpload\")!.click();\n  }\n}\nlet assignColor = function (words: Word[]) {\n  words.forEach((word: Word, idx: number) => {\n    word.color = \"black\";\n  });\n  return words;\n};\n","import { render } from \"./Emordle.vue?vue&type=template&id=764462a2\"\nimport script from \"./Emordle.vue?vue&type=script&lang=ts\"\nexport * from \"./Emordle.vue?vue&type=script&lang=ts\"\n\nimport \"./Emordle.vue?vue&type=style&index=0&id=764462a2&lang=scss\"\nscript.render = render\n\nexport default script","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Emordle.vue?vue&type=style&index=0&id=764462a2&lang=scss\"","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof-raw');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar toPrimitive = require('../internals/to-primitive');\nvar fails = require('../internals/fails');\nvar create = require('../internals/object-create');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar trim = require('../internals/string-trim').trim;\n\nvar NUMBER = 'Number';\nvar NativeNumber = global[NUMBER];\nvar NumberPrototype = NativeNumber.prototype;\n\n// Opera ~12 has broken Object#toString\nvar BROKEN_CLASSOF = classof(create(NumberPrototype)) == NUMBER;\n\n// `ToNumber` abstract operation\n// https://tc39.github.io/ecma262/#sec-tonumber\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  var first, third, radix, maxCode, digits, length, index, code;\n  if (typeof it == 'string' && it.length > 2) {\n    it = trim(it);\n    first = it.charCodeAt(0);\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\n        default: return +it;\n      }\n      digits = it.slice(2);\n      length = digits.length;\n      for (index = 0; index < length; index++) {\n        code = digits.charCodeAt(index);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\n// `Number` constructor\n// https://tc39.github.io/ecma262/#sec-number-constructor\nif (isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\n  var NumberWrapper = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var dummy = this;\n    return dummy instanceof NumberWrapper\n      // check on 1..constructor(foo) case\n      && (BROKEN_CLASSOF ? fails(function () { NumberPrototype.valueOf.call(dummy); }) : classof(dummy) != NUMBER)\n        ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);\n  };\n  for (var keys = DESCRIPTORS ? getOwnPropertyNames(NativeNumber) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES2015 (in case, if modules with ES2015 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,' +\n    // ESNext\n    'fromString,range'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(NativeNumber, key = keys[j]) && !has(NumberWrapper, key)) {\n      defineProperty(NumberWrapper, key, getOwnPropertyDescriptor(NativeNumber, key));\n    }\n  }\n  NumberWrapper.prototype = NumberPrototype;\n  NumberPrototype.constructor = NumberWrapper;\n  redefine(global, NUMBER, NumberWrapper);\n}\n","var $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar nativeKeys = require('../internals/object-keys');\nvar fails = require('../internals/fails');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeKeys(1); });\n\n// `Object.keys` method\n// https://tc39.github.io/ecma262/#sec-object.keys\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  keys: function keys(it) {\n    return nativeKeys(toObject(it));\n  }\n});\n","var $ = require('../internals/export');\n\nvar ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `Math.trunc` method\n// https://tc39.github.io/ecma262/#sec-math.trunc\n$({ target: 'Math', stat: true }, {\n  trunc: function trunc(it) {\n    return (it > 0 ? floor : ceil)(it);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar toInteger = require('../internals/to-integer');\nvar thisNumberValue = require('../internals/this-number-value');\nvar repeat = require('../internals/string-repeat');\nvar fails = require('../internals/fails');\n\nvar nativeToFixed = 1.0.toFixed;\nvar floor = Math.floor;\n\nvar pow = function (x, n, acc) {\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\n\nvar log = function (x) {\n  var n = 0;\n  var x2 = x;\n  while (x2 >= 4096) {\n    n += 12;\n    x2 /= 4096;\n  }\n  while (x2 >= 2) {\n    n += 1;\n    x2 /= 2;\n  } return n;\n};\n\nvar FORCED = nativeToFixed && (\n  0.00008.toFixed(3) !== '0.000' ||\n  0.9.toFixed(0) !== '1' ||\n  1.255.toFixed(2) !== '1.25' ||\n  1000000000000000128.0.toFixed(0) !== '1000000000000000128'\n) || !fails(function () {\n  // V8 ~ Android 4.3-\n  nativeToFixed.call({});\n});\n\n// `Number.prototype.toFixed` method\n// https://tc39.github.io/ecma262/#sec-number.prototype.tofixed\n$({ target: 'Number', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line max-statements\n  toFixed: function toFixed(fractionDigits) {\n    var number = thisNumberValue(this);\n    var fractDigits = toInteger(fractionDigits);\n    var data = [0, 0, 0, 0, 0, 0];\n    var sign = '';\n    var result = '0';\n    var e, z, j, k;\n\n    var multiply = function (n, c) {\n      var index = -1;\n      var c2 = c;\n      while (++index < 6) {\n        c2 += n * data[index];\n        data[index] = c2 % 1e7;\n        c2 = floor(c2 / 1e7);\n      }\n    };\n\n    var divide = function (n) {\n      var index = 6;\n      var c = 0;\n      while (--index >= 0) {\n        c += data[index];\n        data[index] = floor(c / n);\n        c = (c % n) * 1e7;\n      }\n    };\n\n    var dataToString = function () {\n      var index = 6;\n      var s = '';\n      while (--index >= 0) {\n        if (s !== '' || index === 0 || data[index] !== 0) {\n          var t = String(data[index]);\n          s = s === '' ? t : s + repeat.call('0', 7 - t.length) + t;\n        }\n      } return s;\n    };\n\n    if (fractDigits < 0 || fractDigits > 20) throw RangeError('Incorrect fraction digits');\n    // eslint-disable-next-line no-self-compare\n    if (number != number) return 'NaN';\n    if (number <= -1e21 || number >= 1e21) return String(number);\n    if (number < 0) {\n      sign = '-';\n      number = -number;\n    }\n    if (number > 1e-21) {\n      e = log(number * pow(2, 69, 1)) - 69;\n      z = e < 0 ? number * pow(2, -e, 1) : number / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if (e > 0) {\n        multiply(0, z);\n        j = fractDigits;\n        while (j >= 7) {\n          multiply(1e7, 0);\n          j -= 7;\n        }\n        multiply(pow(10, j, 1), 0);\n        j = e - 1;\n        while (j >= 23) {\n          divide(1 << 23);\n          j -= 23;\n        }\n        divide(1 << j);\n        multiply(1, 1);\n        divide(2);\n        result = dataToString();\n      } else {\n        multiply(0, z);\n        multiply(1 << -e, 0);\n        result = dataToString() + repeat.call('0', fractDigits);\n      }\n    }\n    if (fractDigits > 0) {\n      k = result.length;\n      result = sign + (k <= fractDigits\n        ? '0.' + repeat.call('0', fractDigits - k) + result\n        : result.slice(0, k - fractDigits) + '.' + result.slice(k - fractDigits));\n    } else {\n      result = sign + result;\n    } return result;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true, forced: !USES_TO_LENGTH }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar ownKeys = require('../internals/own-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar createProperty = require('../internals/create-property');\n\n// `Object.getOwnPropertyDescriptors` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptors\n$({ target: 'Object', stat: true, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIndexedObject(object);\n    var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var index = 0;\n    var key, descriptor;\n    while (keys.length > index) {\n      descriptor = getOwnPropertyDescriptor(O, key = keys[index++]);\n      if (descriptor !== undefined) createProperty(result, key, descriptor);\n    }\n    return result;\n  }\n});\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar nativeGetOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetOwnPropertyDescriptor(1); });\nvar FORCED = !DESCRIPTORS || FAILS_ON_PRIMITIVES;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\n$({ target: 'Object', stat: true, forced: FORCED, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(it, key) {\n    return nativeGetOwnPropertyDescriptor(toIndexedObject(it), key);\n  }\n});\n","/*! Pickr 1.8.0 MIT | https://github.com/Simonwep/pickr */\n!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.Pickr=e():t.Pickr=e()}(window,(function(){return function(t){var e={};function o(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,\"a\",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p=\"\",o(o.s=0)}([function(t,e,o){\"use strict\";o.r(e);var n={};function i(t,e,o,n,i={}){e instanceof HTMLCollection||e instanceof NodeList?e=Array.from(e):Array.isArray(e)||(e=[e]),Array.isArray(o)||(o=[o]);for(const r of e)for(const e of o)r[t](e,n,{capture:!1,...i});return Array.prototype.slice.call(arguments,1)}o.r(n),o.d(n,\"on\",(function(){return r})),o.d(n,\"off\",(function(){return s})),o.d(n,\"createElementFromString\",(function(){return a})),o.d(n,\"createFromTemplate\",(function(){return l})),o.d(n,\"eventPath\",(function(){return c})),o.d(n,\"resolveElement\",(function(){return p})),o.d(n,\"adjustableInputNumbers\",(function(){return u}));const r=i.bind(null,\"addEventListener\"),s=i.bind(null,\"removeEventListener\");function a(t){const e=document.createElement(\"div\");return e.innerHTML=t.trim(),e.firstElementChild}function l(t){const e=(t,e)=>{const o=t.getAttribute(e);return t.removeAttribute(e),o},o=(t,n={})=>{const i=e(t,\":obj\"),r=e(t,\":ref\"),s=i?n[i]={}:n;r&&(n[r]=t);for(const n of Array.from(t.children)){const t=e(n,\":arr\"),i=o(n,t?{}:s);t&&(s[t]||(s[t]=[])).push(Object.keys(i).length?i:n)}return n};return o(a(t))}function c(t){let e=t.path||t.composedPath&&t.composedPath();if(e)return e;let o=t.target.parentElement;for(e=[t.target,o];o=o.parentElement;)e.push(o);return e.push(document,window),e}function p(t){return t instanceof Element?t:\"string\"==typeof t?t.split(/>>/g).reduce((t,e,o,n)=>(t=t.querySelector(e),o<n.length-1?t.shadowRoot:t),document):null}function u(t,e=(t=>t)){function o(o){const n=[.001,.01,.1][Number(o.shiftKey||2*o.ctrlKey)]*(o.deltaY<0?1:-1);let i=0,r=t.selectionStart;t.value=t.value.replace(/[\\d.]+/g,(t,o)=>o<=r&&o+t.length>=r?(r=o,e(Number(t),n,i)):(i++,t)),t.focus(),t.setSelectionRange(r,r),o.preventDefault(),t.dispatchEvent(new Event(\"input\"))}r(t,\"focus\",()=>r(window,\"wheel\",o,{passive:!1})),r(t,\"blur\",()=>s(window,\"wheel\",o))}const{min:h,max:d,floor:f,round:m}=Math;function v(t,e,o){e/=100,o/=100;const n=f(t=t/360*6),i=t-n,r=o*(1-e),s=o*(1-i*e),a=o*(1-(1-i)*e),l=n%6;return[255*[o,s,r,r,a,o][l],255*[a,o,o,s,r,r][l],255*[r,r,a,o,o,s][l]]}function b(t,e,o){const n=(2-(e/=100))*(o/=100)/2;return 0!==n&&(e=1===n?0:n<.5?e*o/(2*n):e*o/(2-2*n)),[t,100*e,100*n]}function g(t,e,o){const n=h(t/=255,e/=255,o/=255),i=d(t,e,o),r=i-n;let s,a;if(0===r)s=a=0;else{a=r/i;const n=((i-t)/6+r/2)/r,l=((i-e)/6+r/2)/r,c=((i-o)/6+r/2)/r;t===i?s=c-l:e===i?s=1/3+n-c:o===i&&(s=2/3+l-n),s<0?s+=1:s>1&&(s-=1)}return[360*s,100*a,100*i]}function y(t,e,o,n){e/=100,o/=100;return[...g(255*(1-h(1,(t/=100)*(1-(n/=100))+n)),255*(1-h(1,e*(1-n)+n)),255*(1-h(1,o*(1-n)+n)))]}function _(t,e,o){e/=100;const n=2*(e*=(o/=100)<.5?o:1-o)/(o+e)*100,i=100*(o+e);return[t,isNaN(n)?0:n,i]}function w(t){return g(...t.match(/.{2}/g).map(t=>parseInt(t,16)))}function A(t){t=t.match(/^[a-zA-Z]+$/)?function(t){if(\"black\"===t.toLowerCase())return\"#000\";const e=document.createElement(\"canvas\").getContext(\"2d\");return e.fillStyle=t,\"#000\"===e.fillStyle?null:e.fillStyle}(t):t;const e={cmyk:/^cmyk[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]+([\\d.]+)/i,rgba:/^((rgba)|rgb)[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]*?([\\d.]+|$)/i,hsla:/^((hsla)|hsl)[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]*?([\\d.]+|$)/i,hsva:/^((hsva)|hsv)[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]*?([\\d.]+|$)/i,hexa:/^#?(([\\dA-Fa-f]{3,4})|([\\dA-Fa-f]{6})|([\\dA-Fa-f]{8}))$/i},o=t=>t.map(t=>/^(|\\d+)\\.\\d+|\\d+$/.test(t)?Number(t):void 0);let n;t:for(const i in e){if(!(n=e[i].exec(t)))continue;const r=t=>!!n[2]==(\"number\"==typeof t);switch(i){case\"cmyk\":{const[,t,e,r,s]=o(n);if(t>100||e>100||r>100||s>100)break t;return{values:y(t,e,r,s),type:i}}case\"rgba\":{const[,,,t,e,s,a]=o(n);if(t>255||e>255||s>255||a<0||a>1||!r(a))break t;return{values:[...g(t,e,s),a],a:a,type:i}}case\"hexa\":{let[,t]=n;4!==t.length&&3!==t.length||(t=t.split(\"\").map(t=>t+t).join(\"\"));const e=t.substring(0,6);let o=t.substring(6);return o=o?parseInt(o,16)/255:void 0,{values:[...w(e),o],a:o,type:i}}case\"hsla\":{const[,,,t,e,s,a]=o(n);if(t>360||e>100||s>100||a<0||a>1||!r(a))break t;return{values:[..._(t,e,s),a],a:a,type:i}}case\"hsva\":{const[,,,t,e,s,a]=o(n);if(t>360||e>100||s>100||a<0||a>1||!r(a))break t;return{values:[t,e,s,a],a:a,type:i}}}}return{values:null,type:null}}function C(t=0,e=0,o=0,n=1){const i=(t,e)=>(o=-1)=>e(~o?t.map(t=>Number(t.toFixed(o))):t),r={h:t,s:e,v:o,a:n,toHSVA(){const t=[r.h,r.s,r.v,r.a];return t.toString=i(t,t=>`hsva(${t[0]}, ${t[1]}%, ${t[2]}%, ${r.a})`),t},toHSLA(){const t=[...b(r.h,r.s,r.v),r.a];return t.toString=i(t,t=>`hsla(${t[0]}, ${t[1]}%, ${t[2]}%, ${r.a})`),t},toRGBA(){const t=[...v(r.h,r.s,r.v),r.a];return t.toString=i(t,t=>`rgba(${t[0]}, ${t[1]}, ${t[2]}, ${r.a})`),t},toCMYK(){const t=function(t,e,o){const n=v(t,e,o),i=n[0]/255,r=n[1]/255,s=n[2]/255,a=h(1-i,1-r,1-s);return[100*(1===a?0:(1-i-a)/(1-a)),100*(1===a?0:(1-r-a)/(1-a)),100*(1===a?0:(1-s-a)/(1-a)),100*a]}(r.h,r.s,r.v);return t.toString=i(t,t=>`cmyk(${t[0]}%, ${t[1]}%, ${t[2]}%, ${t[3]}%)`),t},toHEXA(){const t=function(t,e,o){return v(t,e,o).map(t=>m(t).toString(16).padStart(2,\"0\"))}(r.h,r.s,r.v),e=r.a>=1?\"\":Number((255*r.a).toFixed(0)).toString(16).toUpperCase().padStart(2,\"0\");return e&&t.push(e),t.toString=()=>\"#\"+t.join(\"\").toUpperCase(),t},clone:()=>C(r.h,r.s,r.v,r.a)};return r}const k=t=>Math.max(Math.min(t,1),0);function $(t){const e={options:Object.assign({lock:null,onchange:()=>0,onstop:()=>0},t),_keyboard(t){const{options:o}=e,{type:n,key:i}=t;if(document.activeElement===o.wrapper){const{lock:o}=e.options,r=\"ArrowUp\"===i,s=\"ArrowRight\"===i,a=\"ArrowDown\"===i,l=\"ArrowLeft\"===i;if(\"keydown\"===n&&(r||s||a||l)){let n=0,i=0;\"v\"===o?n=r||s?1:-1:\"h\"===o?n=r||s?-1:1:(i=r?-1:a?1:0,n=l?-1:s?1:0),e.update(k(e.cache.x+.01*n),k(e.cache.y+.01*i)),t.preventDefault()}else i.startsWith(\"Arrow\")&&(e.options.onstop(),t.preventDefault())}},_tapstart(t){r(document,[\"mouseup\",\"touchend\",\"touchcancel\"],e._tapstop),r(document,[\"mousemove\",\"touchmove\"],e._tapmove),t.cancelable&&t.preventDefault(),e._tapmove(t)},_tapmove(t){const{options:o,cache:n}=e,{lock:i,element:r,wrapper:s}=o,a=s.getBoundingClientRect();let l=0,c=0;if(t){const e=t&&t.touches&&t.touches[0];l=t?(e||t).clientX:0,c=t?(e||t).clientY:0,l<a.left?l=a.left:l>a.left+a.width&&(l=a.left+a.width),c<a.top?c=a.top:c>a.top+a.height&&(c=a.top+a.height),l-=a.left,c-=a.top}else n&&(l=n.x*a.width,c=n.y*a.height);\"h\"!==i&&(r.style.left=`calc(${l/a.width*100}% - ${r.offsetWidth/2}px)`),\"v\"!==i&&(r.style.top=`calc(${c/a.height*100}% - ${r.offsetHeight/2}px)`),e.cache={x:l/a.width,y:c/a.height};const p=k(l/a.width),u=k(c/a.height);switch(i){case\"v\":return o.onchange(p);case\"h\":return o.onchange(u);default:return o.onchange(p,u)}},_tapstop(){e.options.onstop(),s(document,[\"mouseup\",\"touchend\",\"touchcancel\"],e._tapstop),s(document,[\"mousemove\",\"touchmove\"],e._tapmove)},trigger(){e._tapmove()},update(t=0,o=0){const{left:n,top:i,width:r,height:s}=e.options.wrapper.getBoundingClientRect();\"h\"===e.options.lock&&(o=t),e._tapmove({clientX:n+r*t,clientY:i+s*o})},destroy(){const{options:t,_tapstart:o,_keyboard:n}=e;s(document,[\"keydown\",\"keyup\"],n),s([t.wrapper,t.element],\"mousedown\",o),s([t.wrapper,t.element],\"touchstart\",o,{passive:!1})}},{options:o,_tapstart:n,_keyboard:i}=e;return r([o.wrapper,o.element],\"mousedown\",n),r([o.wrapper,o.element],\"touchstart\",n,{passive:!1}),r(document,[\"keydown\",\"keyup\"],i),e}function S(t={}){t=Object.assign({onchange:()=>0,className:\"\",elements:[]},t);const e=r(t.elements,\"click\",e=>{t.elements.forEach(o=>o.classList[e.target===o?\"add\":\"remove\"](t.className)),t.onchange(e),e.stopPropagation()});return{destroy:()=>s(...e)}}\n/*! NanoPop 2.1.0 MIT | https://github.com/Simonwep/nanopop */\nconst O={variantFlipOrder:{start:\"sme\",middle:\"mse\",end:\"ems\"},positionFlipOrder:{top:\"tbrl\",right:\"rltb\",bottom:\"btrl\",left:\"lrbt\"},position:\"bottom\",margin:8},E=(t,e,o)=>{const n=\"object\"!=typeof t||t instanceof HTMLElement?{reference:t,popper:e,...o}:t;return{update(t=n){const{reference:e,popper:o}=Object.assign(n,t);if(!o||!e)throw new Error(\"Popper- or reference-element missing.\");return((t,e,o)=>{const{container:n,margin:i,position:r,variantFlipOrder:s,positionFlipOrder:a}={container:document.documentElement.getBoundingClientRect(),...O,...o},{left:l,top:c}=e.style;e.style.left=\"0\",e.style.top=\"0\";const p=t.getBoundingClientRect(),u=e.getBoundingClientRect(),h={t:p.top-u.height-i,b:p.bottom+i,r:p.right+i,l:p.left-u.width-i},d={vs:p.left,vm:p.left+p.width/2+-u.width/2,ve:p.left+p.width-u.width,hs:p.top,hm:p.bottom-p.height/2-u.height/2,he:p.bottom-u.height},[f,m=\"middle\"]=r.split(\"-\"),v=a[f],b=s[m],{top:g,left:y,bottom:_,right:w}=n;for(const t of v){const o=\"t\"===t||\"b\"===t,n=h[t],[i,r]=o?[\"top\",\"left\"]:[\"left\",\"top\"],[s,a]=o?[u.height,u.width]:[u.width,u.height],[l,c]=o?[_,w]:[w,_],[p,f]=o?[g,y]:[y,g];if(!(n<p||n+s>l))for(const s of b){const l=d[(o?\"v\":\"h\")+s];if(!(l<f||l+a>c))return e.style[r]=l-u[r]+\"px\",e.style[i]=n-u[i]+\"px\",t+s}}return e.style.left=l,e.style.top=c,null})(e,o,n)}}};function L(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}class x{constructor(t){L(this,\"_initializingActive\",!0),L(this,\"_recalc\",!0),L(this,\"_nanopop\",null),L(this,\"_root\",null),L(this,\"_color\",C()),L(this,\"_lastColor\",C()),L(this,\"_swatchColors\",[]),L(this,\"_setupAnimationFrame\",null),L(this,\"_eventListener\",{init:[],save:[],hide:[],show:[],clear:[],change:[],changestop:[],cancel:[],swatchselect:[]}),this.options=t=Object.assign({...x.DEFAULT_OPTIONS},t);const{swatches:e,components:o,theme:n,sliders:i,lockOpacity:r,padding:s}=t;[\"nano\",\"monolith\"].includes(n)&&!i&&(t.sliders=\"h\"),o.interaction||(o.interaction={});const{preview:a,opacity:l,hue:c,palette:p}=o;o.opacity=!r&&l,o.palette=p||a||l||c,this._preBuild(),this._buildComponents(),this._bindEvents(),this._finalBuild(),e&&e.length&&e.forEach(t=>this.addSwatch(t));const{button:u,app:h}=this._root;this._nanopop=E(u,h,{margin:s}),u.setAttribute(\"role\",\"button\"),u.setAttribute(\"aria-label\",this._t(\"btn:toggle\"));const d=this;this._setupAnimationFrame=requestAnimationFrame((function e(){if(!h.offsetWidth)return requestAnimationFrame(e);d.setColor(t.default),d._rePositioningPicker(),t.defaultRepresentation&&(d._representation=t.defaultRepresentation,d.setColorRepresentation(d._representation)),t.showAlways&&d.show(),d._initializingActive=!1,d._emit(\"init\")}))}_preBuild(){const{options:t}=this;for(const e of[\"el\",\"container\"])t[e]=p(t[e]);this._root=(t=>{const{components:e,useAsButton:o,inline:n,appClass:i,theme:r,lockOpacity:s}=t.options,a=t=>t?\"\":'style=\"display:none\" hidden',c=e=>t._t(e),p=l(`\\n      <div :ref=\"root\" class=\"pickr\">\\n\\n        ${o?\"\":'<button type=\"button\" :ref=\"button\" class=\"pcr-button\"></button>'}\\n\\n        <div :ref=\"app\" class=\"pcr-app ${i||\"\"}\" data-theme=\"${r}\" ${n?'style=\"position: unset\"':\"\"} aria-label=\"${c(\"ui:dialog\")}\" role=\"window\">\\n          <div class=\"pcr-selection\" ${a(e.palette)}>\\n            <div :obj=\"preview\" class=\"pcr-color-preview\" ${a(e.preview)}>\\n              <button type=\"button\" :ref=\"lastColor\" class=\"pcr-last-color\" aria-label=\"${c(\"btn:last-color\")}\"></button>\\n              <div :ref=\"currentColor\" class=\"pcr-current-color\"></div>\\n            </div>\\n\\n            <div :obj=\"palette\" class=\"pcr-color-palette\">\\n              <div :ref=\"picker\" class=\"pcr-picker\"></div>\\n              <div :ref=\"palette\" class=\"pcr-palette\" tabindex=\"0\" aria-label=\"${c(\"aria:palette\")}\" role=\"listbox\"></div>\\n            </div>\\n\\n            <div :obj=\"hue\" class=\"pcr-color-chooser\" ${a(e.hue)}>\\n              <div :ref=\"picker\" class=\"pcr-picker\"></div>\\n              <div :ref=\"slider\" class=\"pcr-hue pcr-slider\" tabindex=\"0\" aria-label=\"${c(\"aria:hue\")}\" role=\"slider\"></div>\\n            </div>\\n\\n            <div :obj=\"opacity\" class=\"pcr-color-opacity\" ${a(e.opacity)}>\\n              <div :ref=\"picker\" class=\"pcr-picker\"></div>\\n              <div :ref=\"slider\" class=\"pcr-opacity pcr-slider\" tabindex=\"0\" aria-label=\"${c(\"aria:opacity\")}\" role=\"slider\"></div>\\n            </div>\\n          </div>\\n\\n          <div class=\"pcr-swatches ${e.palette?\"\":\"pcr-last\"}\" :ref=\"swatches\"></div>\\n\\n          <div :obj=\"interaction\" class=\"pcr-interaction\" ${a(Object.keys(e.interaction).length)}>\\n            <input :ref=\"result\" class=\"pcr-result\" type=\"text\" spellcheck=\"false\" ${a(e.interaction.input)} aria-label=\"${c(\"aria:input\")}\">\\n\\n            <input :arr=\"options\" class=\"pcr-type\" data-type=\"HEXA\" value=\"${s?\"HEX\":\"HEXA\"}\" type=\"button\" ${a(e.interaction.hex)}>\\n            <input :arr=\"options\" class=\"pcr-type\" data-type=\"RGBA\" value=\"${s?\"RGB\":\"RGBA\"}\" type=\"button\" ${a(e.interaction.rgba)}>\\n            <input :arr=\"options\" class=\"pcr-type\" data-type=\"HSLA\" value=\"${s?\"HSL\":\"HSLA\"}\" type=\"button\" ${a(e.interaction.hsla)}>\\n            <input :arr=\"options\" class=\"pcr-type\" data-type=\"HSVA\" value=\"${s?\"HSV\":\"HSVA\"}\" type=\"button\" ${a(e.interaction.hsva)}>\\n            <input :arr=\"options\" class=\"pcr-type\" data-type=\"CMYK\" value=\"CMYK\" type=\"button\" ${a(e.interaction.cmyk)}>\\n\\n            <input :ref=\"save\" class=\"pcr-save\" value=\"${c(\"btn:save\")}\" type=\"button\" ${a(e.interaction.save)} aria-label=\"${c(\"aria:btn:save\")}\">\\n            <input :ref=\"cancel\" class=\"pcr-cancel\" value=\"${c(\"btn:cancel\")}\" type=\"button\" ${a(e.interaction.cancel)} aria-label=\"${c(\"aria:btn:cancel\")}\">\\n            <input :ref=\"clear\" class=\"pcr-clear\" value=\"${c(\"btn:clear\")}\" type=\"button\" ${a(e.interaction.clear)} aria-label=\"${c(\"aria:btn:clear\")}\">\\n          </div>\\n        </div>\\n      </div>\\n    `),u=p.interaction;return u.options.find(t=>!t.hidden&&!t.classList.add(\"active\")),u.type=()=>u.options.find(t=>t.classList.contains(\"active\")),p})(this),t.useAsButton&&(this._root.button=t.el),t.container.appendChild(this._root.root)}_finalBuild(){const t=this.options,e=this._root;if(t.container.removeChild(e.root),t.inline){const o=t.el.parentElement;t.el.nextSibling?o.insertBefore(e.app,t.el.nextSibling):o.appendChild(e.app)}else t.container.appendChild(e.app);t.useAsButton?t.inline&&t.el.remove():t.el.parentNode.replaceChild(e.root,t.el),t.disabled&&this.disable(),t.comparison||(e.button.style.transition=\"none\",t.useAsButton||(e.preview.lastColor.style.transition=\"none\")),this.hide()}_buildComponents(){const t=this,e=this.options.components,o=(t.options.sliders||\"v\").repeat(2),[n,i]=o.match(/^[vh]+$/g)?o:[],r=()=>this._color||(this._color=this._lastColor.clone()),s={palette:$({element:t._root.palette.picker,wrapper:t._root.palette.palette,onstop:()=>t._emit(\"changestop\",\"slider\",t),onchange(o,n){if(!e.palette)return;const i=r(),{_root:s,options:a}=t,{lastColor:l,currentColor:c}=s.preview;t._recalc&&(i.s=100*o,i.v=100-100*n,i.v<0&&(i.v=0),t._updateOutput(\"slider\"));const p=i.toRGBA().toString(0);this.element.style.background=p,this.wrapper.style.background=`\\n                        linear-gradient(to top, rgba(0, 0, 0, ${i.a}), transparent),\\n                        linear-gradient(to left, hsla(${i.h}, 100%, 50%, ${i.a}), rgba(255, 255, 255, ${i.a}))\\n                    `,a.comparison?a.useAsButton||t._lastColor||(l.style.color=p):(s.button.style.color=p,s.button.classList.remove(\"clear\"));const u=i.toHEXA().toString();for(const{el:e,color:o}of t._swatchColors)e.classList[u===o.toHEXA().toString()?\"add\":\"remove\"](\"pcr-active\");c.style.color=p}}),hue:$({lock:\"v\"===i?\"h\":\"v\",element:t._root.hue.picker,wrapper:t._root.hue.slider,onstop:()=>t._emit(\"changestop\",\"slider\",t),onchange(o){if(!e.hue||!e.palette)return;const n=r();t._recalc&&(n.h=360*o),this.element.style.backgroundColor=`hsl(${n.h}, 100%, 50%)`,s.palette.trigger()}}),opacity:$({lock:\"v\"===n?\"h\":\"v\",element:t._root.opacity.picker,wrapper:t._root.opacity.slider,onstop:()=>t._emit(\"changestop\",\"slider\",t),onchange(o){if(!e.opacity||!e.palette)return;const n=r();t._recalc&&(n.a=Math.round(100*o)/100),this.element.style.background=`rgba(0, 0, 0, ${n.a})`,s.palette.trigger()}}),selectable:S({elements:t._root.interaction.options,className:\"active\",onchange(e){t._representation=e.target.getAttribute(\"data-type\").toUpperCase(),t._recalc&&t._updateOutput(\"swatch\")}})};this._components=s}_bindEvents(){const{_root:t,options:e}=this,o=[r(t.interaction.clear,\"click\",()=>this._clearColor()),r([t.interaction.cancel,t.preview.lastColor],\"click\",()=>{this._emit(\"cancel\"),this.setHSVA(...(this._lastColor||this._color).toHSVA(),!0)}),r(t.interaction.save,\"click\",()=>{!this.applyColor()&&!e.showAlways&&this.hide()}),r(t.interaction.result,[\"keyup\",\"input\"],t=>{this.setColor(t.target.value,!0)&&!this._initializingActive&&(this._emit(\"change\",this._color,\"input\",this),this._emit(\"changestop\",\"input\",this)),t.stopImmediatePropagation()}),r(t.interaction.result,[\"focus\",\"blur\"],t=>{this._recalc=\"blur\"===t.type,this._recalc&&this._updateOutput(null)}),r([t.palette.palette,t.palette.picker,t.hue.slider,t.hue.picker,t.opacity.slider,t.opacity.picker],[\"mousedown\",\"touchstart\"],()=>this._recalc=!0,{passive:!0})];if(!e.showAlways){const n=e.closeWithKey;o.push(r(t.button,\"click\",()=>this.isOpen()?this.hide():this.show()),r(document,\"keyup\",t=>this.isOpen()&&(t.key===n||t.code===n)&&this.hide()),r(document,[\"touchstart\",\"mousedown\"],e=>{this.isOpen()&&!c(e).some(e=>e===t.app||e===t.button)&&this.hide()},{capture:!0}))}if(e.adjustableNumbers){const e={rgba:[255,255,255,1],hsva:[360,100,100,1],hsla:[360,100,100,1],cmyk:[100,100,100,100]};u(t.interaction.result,(t,o,n)=>{const i=e[this.getColorRepresentation().toLowerCase()];if(i){const e=i[n],r=t+(e>=100?1e3*o:o);return r<=0?0:Number((r<e?r:e).toPrecision(3))}return t})}if(e.autoReposition&&!e.inline){let t=null;const n=this;o.push(r(window,[\"scroll\",\"resize\"],()=>{n.isOpen()&&(e.closeOnScroll&&n.hide(),null===t?(t=setTimeout(()=>t=null,100),requestAnimationFrame((function e(){n._rePositioningPicker(),null!==t&&requestAnimationFrame(e)}))):(clearTimeout(t),t=setTimeout(()=>t=null,100)))},{capture:!0}))}this._eventBindings=o}_rePositioningPicker(){const{options:t}=this;if(!t.inline){if(!this._nanopop.update({container:document.body.getBoundingClientRect(),position:t.position})){const t=this._root.app,e=t.getBoundingClientRect();t.style.top=(window.innerHeight-e.height)/2+\"px\",t.style.left=(window.innerWidth-e.width)/2+\"px\"}}}_updateOutput(t){const{_root:e,_color:o,options:n}=this;if(e.interaction.type()){const t=\"to\"+e.interaction.type().getAttribute(\"data-type\");e.interaction.result.value=\"function\"==typeof o[t]?o[t]().toString(n.outputPrecision):\"\"}!this._initializingActive&&this._recalc&&this._emit(\"change\",o,t,this)}_clearColor(t=!1){const{_root:e,options:o}=this;o.useAsButton||(e.button.style.color=\"rgba(0, 0, 0, 0.15)\"),e.button.classList.add(\"clear\"),o.showAlways||this.hide(),this._lastColor=null,this._initializingActive||t||(this._emit(\"save\",null),this._emit(\"clear\"))}_parseLocalColor(t){const{values:e,type:o,a:n}=A(t),{lockOpacity:i}=this.options,r=void 0!==n&&1!==n;return e&&3===e.length&&(e[3]=void 0),{values:!e||i&&r?null:e,type:o}}_t(t){return this.options.i18n[t]||x.I18N_DEFAULTS[t]}_emit(t,...e){this._eventListener[t].forEach(t=>t(...e,this))}on(t,e){return this._eventListener[t].push(e),this}off(t,e){const o=this._eventListener[t]||[],n=o.indexOf(e);return~n&&o.splice(n,1),this}addSwatch(t){const{values:e}=this._parseLocalColor(t);if(e){const{_swatchColors:t,_root:o}=this,n=C(...e),i=a(`<button type=\"button\" style=\"color: ${n.toRGBA().toString(0)}\" aria-label=\"${this._t(\"btn:swatch\")}\"/>`);return o.swatches.appendChild(i),t.push({el:i,color:n}),this._eventBindings.push(r(i,\"click\",()=>{this.setHSVA(...n.toHSVA(),!0),this._emit(\"swatchselect\",n),this._emit(\"change\",n,\"swatch\",this)})),!0}return!1}removeSwatch(t){const e=this._swatchColors[t];if(e){const{el:o}=e;return this._root.swatches.removeChild(o),this._swatchColors.splice(t,1),!0}return!1}applyColor(t=!1){const{preview:e,button:o}=this._root,n=this._color.toRGBA().toString(0);return e.lastColor.style.color=n,this.options.useAsButton||(o.style.color=n),o.classList.remove(\"clear\"),this._lastColor=this._color.clone(),this._initializingActive||t||this._emit(\"save\",this._color),this}destroy(){cancelAnimationFrame(this._setupAnimationFrame),this._eventBindings.forEach(t=>s(...t)),Object.keys(this._components).forEach(t=>this._components[t].destroy())}destroyAndRemove(){this.destroy();const{root:t,app:e}=this._root;t.parentElement&&t.parentElement.removeChild(t),e.parentElement.removeChild(e),Object.keys(this).forEach(t=>this[t]=null)}hide(){return this._root.app.classList.remove(\"visible\"),this._emit(\"hide\"),this}show(){return this.options.disabled||(this._root.app.classList.add(\"visible\"),this._rePositioningPicker(),this._emit(\"show\",this._color)),this}isOpen(){return this._root.app.classList.contains(\"visible\")}setHSVA(t=360,e=0,o=0,n=1,i=!1){const r=this._recalc;if(this._recalc=!1,t<0||t>360||e<0||e>100||o<0||o>100||n<0||n>1)return!1;this._color=C(t,e,o,n);const{hue:s,opacity:a,palette:l}=this._components;return s.update(t/360),a.update(n),l.update(e/100,1-o/100),i||this.applyColor(),r&&this._updateOutput(),this._recalc=r,!0}setColor(t,e=!1){if(null===t)return this._clearColor(e),!0;const{values:o,type:n}=this._parseLocalColor(t);if(o){const t=n.toUpperCase(),{options:i}=this._root.interaction,r=i.find(e=>e.getAttribute(\"data-type\")===t);if(r&&!r.hidden)for(const t of i)t.classList[t===r?\"add\":\"remove\"](\"active\");return!!this.setHSVA(...o,e)&&this.setColorRepresentation(t)}return!1}setColorRepresentation(t){return t=t.toUpperCase(),!!this._root.interaction.options.find(e=>e.getAttribute(\"data-type\").startsWith(t)&&!e.click())}getColorRepresentation(){return this._representation}getColor(){return this._color}getSelectedColor(){return this._lastColor}getRoot(){return this._root}disable(){return this.hide(),this.options.disabled=!0,this._root.button.classList.add(\"disabled\"),this}enable(){return this.options.disabled=!1,this._root.button.classList.remove(\"disabled\"),this}}L(x,\"utils\",n),L(x,\"version\",\"1.8.0\"),L(x,\"I18N_DEFAULTS\",{\"ui:dialog\":\"color picker dialog\",\"btn:toggle\":\"toggle color picker dialog\",\"btn:swatch\":\"color swatch\",\"btn:last-color\":\"use previous color\",\"btn:save\":\"Save\",\"btn:cancel\":\"Cancel\",\"btn:clear\":\"Clear\",\"aria:btn:save\":\"save and close\",\"aria:btn:cancel\":\"cancel and close\",\"aria:btn:clear\":\"clear and close\",\"aria:input\":\"color input field\",\"aria:palette\":\"color selection area\",\"aria:hue\":\"hue selection slider\",\"aria:opacity\":\"selection slider\"}),L(x,\"DEFAULT_OPTIONS\",{appClass:null,theme:\"classic\",useAsButton:!1,padding:8,disabled:!1,comparison:!0,closeOnScroll:!1,outputPrecision:0,lockOpacity:!1,autoReposition:!0,container:\"body\",components:{interaction:{}},i18n:{},swatches:null,inline:!1,sliders:null,default:\"#42445a\",defaultRepresentation:null,position:\"bottom-middle\",adjustableNumbers:!0,showAlways:!1,closeWithKey:\"Escape\"}),L(x,\"create\",t=>new x(t));e.default=x}]).default}));\n//# sourceMappingURL=pickr.min.js.map","import {tpmt} from \"./math.js\";\n\nexport function expIn(t) {\n  return tpmt(1 - +t);\n}\n\nexport function expOut(t) {\n  return 1 - tpmt(t);\n}\n\nexport function expInOut(t) {\n  return ((t *= 2) <= 1 ? tpmt(1 - t) : 2 - tpmt(t - 1)) / 2;\n}\n","export const radians = Math.PI / 180;\nexport const degrees = 180 / Math.PI;\n","import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb} from \"./color.js\";\nimport {degrees, radians} from \"./math.js\";\n\n// https://observablehq.com/@mbostock/lab-and-rgb\nconst K = 18,\n    Xn = 0.96422,\n    Yn = 1,\n    Zn = 0.82521,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) return hcl2lab(o);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r),\n      g = rgb2lrgb(o.g),\n      b = rgb2lrgb(o.b),\n      y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn), x, z;\n  if (r === g && g === b) x = z = y; else {\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport function gray(l, opacity) {\n  return new Lab(l, 0, 0, opacity == null ? 1 : opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter: function(k) {\n    return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker: function(k) {\n    return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb: function() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    x = Xn * lab2xyz(x);\n    y = Yn * lab2xyz(y);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      lrgb2rgb( 3.1338561 * x - 1.6168667 * y - 0.4906146 * z),\n      lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z),\n      lrgb2rgb( 0.0719453 * x - 0.2289914 * y + 1.4052427 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction lrgb2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2lrgb(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0 < o.l && o.l < 100 ? 0 : NaN, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * degrees;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function lch(l, c, h, opacity) {\n  return arguments.length === 1 ? hclConvert(l) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\nfunction hcl2lab(o) {\n  if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n  var h = o.h * radians;\n  return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function(k) {\n    return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\n  },\n  darker: function(k) {\n    return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\n  },\n  rgb: function() {\n    return hcl2lab(this).rgb();\n  }\n}));\n","import {hcl as colorHcl} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction hcl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHcl(start)).h, (end = colorHcl(end)).h),\n        c = color(start.c, end.c),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.c = c(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hcl(hue);\nexport var hclLong = hcl(color);\n","/* eslint-disable */\n/**\n * doc comment for manual.ts\n * @remarks \n * Manual attempts for animation effects.\n * @packageDocumentation\n */\n\nimport * as Color from \"@/assets/color-preset\"\nimport { GroupManager, KeyFrame } from \"@/assets/animator\"\nimport { KeyframeConfig } from \"@/assets/types\"\nimport * as d3Ease from \"d3-ease\"\n\nexport let colorTransition = function () {\n     let keyframes = [] as Array<KeyFrame>\n     let colors = Color.calm;\n     colors.forEach((c, idx) => {\n        keyframes.push(new KeyFrame({\n            'color': c,\n            'stage': Math.ceil((idx) * 100/(colors.length-1))\n        }))\n     })\n     return keyframes\n}\n\n// I found it only works as a function or there will be import error\nexport let coloredShake = () => [\n        new KeyFrame({ xoff: -1, yoff: -1, color: 'red', stage: 0 }),\n        new KeyFrame({ xoff: 0, yoff: 0, color: 'yellow', stage: 20 }),\n        new KeyFrame({ xoff: -1, yoff: 1, color: 'blue', stage: 60 }),\n        new KeyFrame({ xoff: 0, yoff: 0, color: 'grey', stage: 80 }),\n        new KeyFrame({ xoff: 1, yoff: 1, color: 'green', stage: 100 })\n        // new KeyFrame({ xoff: -1, yoff: 1 }),\n        // new KeyFrame({ xoff: -1, yoff: -1 }),\n        // new KeyFrame({ xoff: 1, yoff: -1 }),\n        // new KeyFrame({ xoff: 0, yoff: 1 }),\n    ]\n\nexport let smallShake = () => [\n        new KeyFrame({ xoff: 0, yoff: 0, stage: 0 }),\n        new KeyFrame({ xoff: 0.5, yoff: 0.5, stage: 5 }),\n        new KeyFrame({ xoff: 0, yoff: 0, stage: 10 }),\n        new KeyFrame({ xoff: -0.5, yoff: 0, stage: 15 }),\n        new KeyFrame({ xoff: 0, yoff: 0, stage: 20 }),\n        new KeyFrame({ xoff: 0.5, yoff: -0.5, stage: 25 }),\n        new KeyFrame({ xoff: 1, yoff: 0, stage: 100 })\n    ]\n\nexport let shakeNRotate = () => [\n        new KeyFrame({ xoff: 1, yoff: 0, rotate: 5, stage: 0 }),\n        new KeyFrame({ xoff: 1, yoff: 0 , rotate: 5, stage: 10}),\n        new KeyFrame({ xoff: 0, yoff: 0, rotate: -5, stage: 20 }),\n        new KeyFrame({ xoff: -1, yoff: 1, rotate: 5, stage: 30 }),\n        new KeyFrame({ xoff: -1, yoff: 0, rotate: -5, stage: 40 }),\n        new KeyFrame({ xoff: 0, yoff: 0, rotate: -5, stage: 50 }),\n        new KeyFrame({ xoff: -1, yoff: -1, rotate: 5, stage: 60 }),\n        new KeyFrame({ xoff: 0, yoff: 0, rotate: -5, stage: 100 })\n    ]\n\nexport let scale = () => [\n        new KeyFrame({ scale: 0.5 }),\n        new KeyFrame({ scale: 1.5 }),\n        new KeyFrame({ scale: 1.0 })\n]\n\nexport let xmas = () =>   [\n    new KeyFrame({ xoff: -1, yoff: -1, color: '#FF000000', stage: 0}),\n    new KeyFrame({ xoff: -1, yoff: 1, color: '#FF0000', stage: 10}),\n    new KeyFrame({ xoff: 1, yoff: 1, color: '#FF0000', stage: 20}),\n    new KeyFrame({ xoff: 2, yoff: 2, color: 'white', stage: 30}),\n    new KeyFrame({ xoff: 1, yoff: -2, color: 'white', stage: 40}),\n    new KeyFrame({ xoff: -1, yoff: -2, color: '#FF8F39', stage: 50}),\n    new KeyFrame({ xoff: 3, yoff: -3, color: '#FF8F39', stage: 60}),\n    new KeyFrame({ xoff: 2, yoff: 2, color: 'red', stage: 70}),\n    new KeyFrame({ xoff: 1, yoff: 1, color: 'red', stage: 80}),\n    new KeyFrame({ xoff: -1, yoff: -1, color: '#FF8F39', stage: 90}),\n    new KeyFrame({ xoff: 1, yoff: 0, color: '#FF8F39', stage: 100})\n]\n\nexport let split = function () {\n    \n}\n\nexport let hardCodeGroups = function () {\n     let groupManager: GroupManager[] = [\n            new GroupManager({\n                duration: 500,\n                keyFrames: xmas()\n            }),\n        ]\n        // hasty?\n        // let groupManager: GroupManager[] = [\n        //     new GroupManager({\n        //         duration: 2000,\n        //         keyFrames: [\n        //             new KeyFrame({ xoff: 0, stage: 0}),\n        //             new KeyFrame({ xoff: 1000, stage: 100, color: 'red'}),\n\n        //         ],\n        //     }),\n        //     new GroupManager({\n        //         duration: 2100,\n        //         keyFrames: [\n        //             new KeyFrame({ xoff: 0, stage: 0}),\n        //             new KeyFrame({ xoff: 1000, stage: 100}),\n\n        //         ],\n        //     }),\n        //     new GroupManager({\n        //         duration: 2200,\n        //         keyFrames: [\n        //             new KeyFrame({ xoff: 0, stage: 0}),\n        //             new KeyFrame({ xoff: 1000, stage: 100}),\n\n        //         ],\n        //     }),\n        //     new GroupManager({\n        //         duration: 2300,\n        //         keyFrames: [\n        //             new KeyFrame({ xoff: 0, stage: 0}),\n        //             new KeyFrame({ xoff: 1000, stage: 100}),\n\n        //         ],\n        //     }),\n        //     new GroupManager({\n        //         duration: 2400,\n        //         keyFrames: [\n        //             new KeyFrame({ xoff: 0, stage: 0}),\n        //             new KeyFrame({ xoff: 1000, stage: 100}),\n\n        //         ],\n        //     }),\n        //     new GroupManager({\n        //         duration: 2500,\n        //         keyFrames: [\n        //             new KeyFrame({ xoff: 0, stage: 0}),\n        //             new KeyFrame({ xoff: 1000, stage: 100}),\n\n        //         ],\n        //     }),\n        //     new GroupManager({\n        //         duration: 2600,\n        //         keyFrames: [\n        //             new KeyFrame({ xoff: 0, stage: 0}),\n        //             new KeyFrame({ xoff: 1000, stage: 100}),\n\n        //         ],\n        //     }),\n        //     new GroupManager({\n        //         duration: 2700,\n        //         keyFrames: [\n        //             new KeyFrame({ xoff: 0, stage: 0}),\n        //             new KeyFrame({ xoff: 1000, stage: 100}),\n\n        //         ],\n        //     }),\n        // ]\n        // bubbly effect\n        // let groupManager: GroupManager[] = [\n        //     new GroupManager({\n        //         duration: 3000,\n        //         keyFrames: [\n        //             new KeyFrame({ scale: 0.5, stage: 0, color: 'gold' }),\n        //             new KeyFrame({ scale: 1.25, stage: 100, color: 'red' }),\n\n        //         ]\n        //     }),\n        //     new GroupManager({\n        //         duration: 4000,\n        //         keyFrames: [\n        //             new KeyFrame({ scale: 0.5, stage: 0, color: 'red' }),\n        //             new KeyFrame({ scale: 1.125, stage: 100, color: 'green' }),\n\n        //         ]\n        //     }),\n        //     new GroupManager({\n        //         duration: 3500,\n        //         keyFrames: [\n        //             new KeyFrame({ scale: 0.5, stage: 0, color: 'green' }),\n        //             new KeyFrame({ scale: 1.3, stage: 100, color: 'gold' }),\n\n        //         ]\n        //     }),\n        // ] \n        // fly away        \n        // let groupManager: GroupManager[] = [\n        //     new GroupManager({\n        //         duration: 3000,\n        //         keyFrames: [\n        //             new KeyFrame({rotate: 0, stage: 0}),\n        //             new KeyFrame({xoff: 200, yoff: -200, scale: 0, rotate: 720, stage: 100}),\n\n        //         ]\n        //     }),\n        //     new GroupManager({\n        //         duration: 2000,\n        //         keyFrames: [\n        //             new KeyFrame({rotate: 0, stage: 0}),\n        //             new KeyFrame({xoff: 200, yoff: -200, scale: 0, rotate: 720, stage: 100}),\n\n        //         ]\n        //     }),\n        //     new GroupManager({\n        //         duration: 2100,\n        //         keyFrames: [\n        //             new KeyFrame({rotate: 0, stage: 0}),\n        //             new KeyFrame({xoff: 200, yoff: -200, scale: 0, rotate: 720, stage: 100}),\n\n        //         ]\n        //     }),\n        //     new GroupManager({\n        //         duration: 2400,\n        //         keyFrames: [\n        //             new KeyFrame({rotate: 0, stage: 0}),\n        //             new KeyFrame({xoff: 200, yoff: -200, scale: 0, rotate: 720, stage: 100}),\n\n        //         ]\n        //     })\n        // ]\n        // slide away\n        //  let groupManager: GroupManager[] = [\n        //     new GroupManager({\n        //         duration: 3000,\n        //         keyFrames: [\n        //             new KeyFrame({xoff: 0, stage: 0}),\n        //             new KeyFrame({xoff: 1500, scale: 0, stage: 100, color: '#C1C1C1'}),\n\n        //         ]\n        //     }),\n        // ]\n        // inception style?\n        //  let groupManager: GroupManager[] = [\n        //     new GroupManager({\n        //         ease: d3Ease.easeLinear,\n        //         duration: 3000,\n        //         keyFrames: [\n        //             new KeyFrame({xoff: 0, stage: 0}),\n        //             new KeyFrame({xoff: 0, scale: 0, stage: 100}),\n        //         ]\n        //     }),\n        //     new GroupManager({\n        //         ease: d3Ease.easeLinear,\n        //         duration: 2250,\n        //         keyFrames: [\n        //             new KeyFrame({xoff: 0, stage: 0}),\n        //             new KeyFrame({xoff: 0, scale: 0, stage: 100}),\n        //         ]\n        //     }),\n        //     new GroupManager({\n        //         ease: d3Ease.easeLinear,\n        //         duration: 2000,\n        //         keyFrames: [\n        //             new KeyFrame({xoff: 0, stage: 0}),\n        //             new KeyFrame({xoff: 0, scale: 0, stage: 100}),\n        //         ]\n        //     }),\n        //     new GroupManager({\n        //         ease: d3Ease.easeLinear,\n        //         duration: 2500,\n        //         keyFrames: [\n        //             new KeyFrame({xoff: 0, stage: 0}),\n        //             new KeyFrame({xoff: 0, scale: 0, stage: 100}),\n        //         ]\n        //     }),\n        //     new GroupManager({\n        //         ease: d3Ease.easeLinear,\n        //         duration: 2600,\n        //         keyFrames: [\n        //             new KeyFrame({xoff: 0, stage: 0}),\n        //             new KeyFrame({xoff: 0, scale: 0, stage: 100}),\n        //         ]\n        //     }),\n        //     new GroupManager({\n        //         ease: d3Ease.easeLinear,\n        //         duration: 2400,\n        //         keyFrames: [\n        //             new KeyFrame({xoff: 0, stage: 0}),\n        //             new KeyFrame({xoff: 0, scale: 0, stage: 100}),\n        //         ]\n        //     }),\n        //     new GroupManager({\n        //         ease: d3Ease.easeLinear,\n        //         duration: 2700,\n        //         keyFrames: [\n        //             new KeyFrame({xoff: 0, stage: 0}),\n        //             new KeyFrame({xoff: 0, scale: 0, stage: 100}),\n        //         ]\n        //     }),\n        // ]\n        // rotation with colorization\n        // let groupManager: GroupManager[] = [\n        //         new GroupManager({\n        //             ease: d3Ease.easeSin,\n        //             duration: 3000,\n        //             keyFrames: [\n        //                 new KeyFrame({xoff: 0, stage: 0}),\n        //                 new KeyFrame({xoff: 0, rotate: 720, color:'#0CB04A', stage: 100}),\n        //             ]\n        //         }),\n        //         new GroupManager({\n        //             ease: d3Ease.easeCircle,\n        //             duration: 3000,\n        //             keyFrames: [\n        //                 new KeyFrame({xoff: 0, stage: 0}),\n        //                 new KeyFrame({xoff: 0, rotate: 360, color:'#0A7533', stage: 100}),\n        //             ]\n        //         }),\n        //         new GroupManager({\n        //             ease: d3Ease.easeCubic,\n        //             duration: 3000,\n        //             keyFrames: [\n        //                 new KeyFrame({xoff: 0, stage: 0}),\n        //                 new KeyFrame({xoff: 0, rotate: 1080, color: '#FF3A2F', stage: 100}),\n        //             ]\n        //         }),\n        //         new GroupManager({\n        //             ease: d3Ease.easePoly,\n        //             duration: 3000,\n        //             keyFrames: [\n        //                 new KeyFrame({xoff: 0, stage: 0}),\n        //                 new KeyFrame({xoff: 0, rotate: 1440, color: '#A92921', stage: 100}),\n        //             ]\n        //         }),\n        //     ]\n    return groupManager\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","/* eslint-disable */\n\nimport { KeyFrame } from \"./animator\";\nimport * as Manual from \"@/assets/manual\";\nimport { Mode } from \"@/assets/types\"\nimport { FontConfig } from \"@/assets/variable-font\"\n\nconst minNumGroup = 1;\nconst sampleFont = new FontConfig()\nconst sampleItalic = sampleFont.italicRange\nconst sampleWeight = sampleFont.weightRange\nconst sampleItalicInterval = sampleItalic[1] - sampleItalic[0]\nconst sampleWeightInterval = sampleWeight[1] - sampleWeight[0]\nconst sampleItalicMid = ( sampleItalic[1] + sampleItalic[0] ) / 2\nconst sampleWeightMid = ( sampleWeight[1] + sampleWeight[0] ) / 2\n\nclass KeyFrameHandler {\n    public getKeyFrames(mode: Mode, wordLength: number, speed: number, entropy: number, alpha=0) {\n        let keyFrames = [] as KeyFrame[][];\n        if (mode == Mode.dance) {\n            keyFrames = this.getDiscoKeyFrames(wordLength, speed, entropy);\n        } else if (mode == Mode.split) {\n            keyFrames = this.getSplitKeyframes(wordLength, speed, entropy, alpha)\n        } else if (mode == Mode.swing) {\n            keyFrames = this.getSwingingKeyFrames(wordLength, speed, entropy)\n        }\n        else {\n            keyFrames = [Manual.colorTransition()];\n        }\n        return keyFrames;\n    }\n\n    private getSwingingKeyFrames(wordLength: number, speed: number, entropy: number) {\n        let keyFrames = [] as KeyFrame[][];\n        const maxNumGroup =  Math.floor(wordLength * 0.9);\n        let numGroup = Math.max(1, entropy * maxNumGroup)\n        for (let index = 0; index < numGroup; index++) {\n            let groupKeyFrames = [] as KeyFrame[]\n            const italicDelta = sampleItalicInterval * ( entropy * 0.5 + Math.random() * 0.1 + 0.4 )\n            const weightDelta = sampleWeightInterval * ( entropy * 0.5 + Math.random() * 0.1 + 0.4 )\n            const italicRange = [sampleItalicMid - italicDelta, sampleItalicMid + italicDelta]\n            const weightRange = [sampleWeightMid - weightDelta * 0.2, sampleWeightMid + weightDelta]\n            let fontMid = new FontConfig()\n            fontMid.update({italic: sampleItalicMid, weight: sampleWeightMid})\n            let fontStart = new FontConfig()\n            fontStart.update({italic: italicRange[0], weight:weightRange[0]})\n            let fontEnd = new FontConfig()\n            fontEnd.update({italic: italicRange[1], weight: weightRange[1]})\n            let fontWideMid = new FontConfig()\n            fontWideMid.update({italic: sampleItalicMid, weight: weightRange[1]})\n            let fontWideStart = new FontConfig()\n            fontWideStart.update({ italic: italicRange[0], weight: weightRange[0] })\n \n            let animation = [] as KeyFrame[]\n            let backupFrames = [\n                new KeyFrame({font: fontEnd}),\n                new KeyFrame({font: fontEnd}),\n                new KeyFrame({font: fontWideMid, xoff: -1}),\n                new KeyFrame({font: fontWideStart, xoff: -4}),\n                // new KeyFrame({font: fontStart }),\n                new KeyFrame({font: fontWideMid, yoff: Math.random()>0.5?-2:2}),\n                new KeyFrame({font: fontEnd}),\n                new KeyFrame({font: fontEnd}),\n            ]\n            for(let it = 0; it < Math.max(1, Math.floor(Math.random()*3)); it ++) {\n                for(let fid = 0; fid < backupFrames.length; fid ++) {\n                    if(Math.random() > 0.2) {\n                        animation.push(backupFrames[fid])\n                    }\n                }\n            }\n            const iter = 10 * speed;\n            const al = animation.length;\n            const tl = al * iter - 1;\n            if(iter == 0) {\n                groupKeyFrames.push(...[\n                    new KeyFrame({stage: 0}),\n                    new KeyFrame({stage: 100}),\n                ])\n            }\n            for (let i = 0; i < iter; i++) {\n                animation.forEach((move, idx) => {\n                    const stage = Math.ceil((100 / tl) * (idx + i * al));\n                    groupKeyFrames.push({...move, stage: stage});\n                });\n            }\n\n            keyFrames.push(groupKeyFrames)\n        }\n        return keyFrames\n    }\n\n\n\n\n    private getSplitKeyframes(wordLength: number, speed: number, entropy: number, alpha: number) {\n        let keyFrames = [] as KeyFrame[][];\n        let maxNumGroup =  Math.floor(wordLength * 0.9);\n        let numGroup = Math.max(minNumGroup, Math.floor(entropy * maxNumGroup))\n        for (let index = 0; index < numGroup; index++) {\n            const groupKf = [] as KeyFrame[]\n            const theta = alpha + index * 2 * Math.PI / numGroup \n            const dis = Math.random() * 4 + 2 + entropy * 18\n          //  console.log(theta/(2*Math.PI), numGroup,  dis * Math.cos(theta), dis * Math.sin(theta))\n            const iter = Math.floor(10 * speed)\n            const _move_left = new KeyFrame({ xoff: 3*dis/5 * Math.cos(theta+ Math.PI/7), yoff: 3*dis/5 * Math.sin(theta+Math.PI/7), rotate: 0});\n            const _move_right = new KeyFrame({ xoff: 4*dis/5 * Math.cos(theta - Math.PI/8), yoff: 4*dis/5 * Math.sin(theta+Math.PI/8), rotate: 0});\n            const _move = new KeyFrame({ xoff: dis * Math.cos(theta), yoff: dis * Math.sin(theta), rotate: 0});\n            const _center = new KeyFrame({ xoff: 0, yoff: 0, rotate: 0 });\n            const _rotate = new KeyFrame({ rotate: (theta-Math.PI/4)})\n            const _neg_rotate = new KeyFrame({ rotate: (-theta+Math.PI/4)})\n            const animation = [\n                _center,\n                // _move_left,\n                // _move_right,\n                _move,\n                _rotate,\n                _rotate,\n                _neg_rotate,\n                _move,\n                _move,\n                _move,\n                _move,\n                // _move_right,\n                // _move_left,\n                _center,\n            ]\n            const al = animation.length;\n            const tl = al * iter - 1;\n            if(iter == 0) {\n                groupKf.push(...[\n                    new KeyFrame({stage: 0}),\n                    new KeyFrame({stage: 100}),\n                ])\n            }\n            for (let i = 0; i < iter; i++) {\n                animation.forEach((move, idx) => {\n                    const stage = Math.ceil((100 / tl) * (idx + i * al));\n                    groupKf.push({...move, stage: stage});\n                });\n            }\n            keyFrames.push(groupKf);\n        }\n        return keyFrames;\n    }\n    private getDiscoKeyFrames(wordLength: number, speed: number, entropy: number): KeyFrame[][] {\n        const keyFrames = [];\n        const maxNumGroup =  10;\n        const numGroup = Math.min(wordLength, Math.trunc((maxNumGroup - minNumGroup) * entropy + minNumGroup));\n        // const minNumStage = 10;\n        // const maxNumStage = 100;\n        // const numStage = (maxNumStage - minNumStage) * speed + minNumStage; // at least\n        // const steps = 100 / numStage;\n        for (let index = 0; index < numGroup; index++) {\n            const groupKf = [] as KeyFrame[];\n            const randXD = Math.round(Math.random()) * 2 - 1;\n            const move = new KeyFrame({ xoff: randXD * (  entropy * 3) });\n            const center = new KeyFrame({ xoff: 0, yoff: 0 });\n            const randY = Math.random() * 2.0;\n            const jump = new KeyFrame({yoff: -randY * (speed + entropy + 1)});\n            const animation = [\n                move,\n                center,\n                move,\n                jump\n            ]\n            const iter = 10 * speed;\n            const al = animation.length;\n            const tl = al * iter - 1;\n            if(iter == 0) {\n                groupKf.push(...[\n                    new KeyFrame({stage: 0}),\n                    new KeyFrame({stage: 100}),\n                ])\n            }\n            for (let i = 0; i < iter; i++) {\n                animation.forEach((move, idx) => {\n                    const stage = Math.ceil((100 / tl) * (idx + i * al));\n                    groupKf.push({...move, stage: stage});\n                });\n            }\n            // for (let j = 0; j < numStage + 1; j++) {\n            //     const stage = Math.trunc(j * steps);\n            //     let kf: KeyFrame;\n                // if(j % 2 == 0) { \n                //     kf = new KeyFrame({xoff: 0, yoff: 0, stage: stage});\n                // } else {\n                //     const randxd = Math.round(Math.random()) * 2 - 1;\n                //     const randyd = Math.round(Math.random()) * 2 - 1;\n                //     const randrd = Math.round(Math.random()) * 2 - 1;\n                //     const randx = parseFloat((Math.random() + entropy * 3).toFixed(2));\n                //     const randy = parseFloat((Math.random() + entropy * 3).toFixed(2));\n                //     const randr = parseFloat((Math.random()).toFixed(2));\n                //     kf = new KeyFrame({ xoff: randxd * randx, yoff: randyd * randy, rotate: randrd * randr, stage: stage });\n                // }\n                // 1. left -> left -> jump\n                // left\n\n                // jump\n                // groupKf.push(kf);\n            // }\n            keyFrames.push(groupKf);\n        }\n        return keyFrames;\n    }\n}\n\nlet shuffle = function <T>(array: T[]) {\n    let currIdx = array.length, tempVal, randIdx\n    while (0 != currIdx) {\n        randIdx = Math.floor(Math.random() * currIdx)\n        currIdx -= 1\n        tempVal = array[currIdx]\n        array[currIdx] = array[randIdx]\n        array[randIdx] = tempVal\n    }\n    return array\n}\n\nexport { KeyFrameHandler }","/* eslint-disable */\n/**\n * doc comment for jump.ts\n * @remarks \n * It is working in progress. It trys to tune the webgl program more subtlely.\n * @packageDocumentation\n */\n\n\n// Reads out a .ttf and triangulates the glyphs using OpenType and Earcut.\n// Code made By riv -> https://stackoverflow.com/questions/50554803/triangulate-path-data-from-opentype-js-using-earcut/50581183#50581183\n// Original here -> https://jsbin.com/gecakub/edit?html,js,output\n\n// 1. Reads Bezier curves from `.tff` font file using OpenType.js.\n// 2. Converts Bezier curves into closed shapes and sort them by descending area.\n// 3. Determines the indices for the holes by figuring out which shapes are inside other shapes.\n// 4. Send all points to Earcut with the holes indices as a second parameter.\n// 5. Uses earcut's result as indices for the geometry.\n// 6. Then, render triangles with webGL.\n\n\nimport opentype from \"opentype.js\"\nimport earcut from \"earcut\"\nimport { createShader, createProgram } from \"./gl-helper\"\n// import { polygonCentroid } from \"d3\"\nimport { Word } from './types'\n\n\ninterface P {\n  x: number,\n  y: number\n}\n\n\nconst FONTURL = \"https://cdnjs.cloudflare.com/ajax/libs/ink/3.1.10/fonts/Roboto/roboto-regular-webfont.ttf\"\nlet time: any = null\nlet pace = 80.0\n\nfunction distance(p1: P, p2: P) {\n  const dx = p1.x - p2.x,\n    dy = p1.y - p2.y\n  return Math.sqrt(dx * dx + dy * dy)\n}\n\nfunction lerp(p1: P, p2: P, t: number) {\n  return { x: (1 - t) * p1.x + t * p2.x, y: (1 - t) * p1.y + t * p2.y }\n}\n\nfunction cross(p1: P, p2: P) {\n  return p1.x * p2.y - p1.y * p2.x\n}\n\n// bezier discretization\nconst MAX_BEZIER_STEPS = 10\nconst BEZIER_STEP_SIZE = 3.0\n// this is for inside checks - doesn't have to be particularly\n// small because glyphs have finite resolution\nconst EPSILON = 1e-6\n\nlet gl: any\nlet indices: any\n// class for converting path commands into point data\nclass Polygon {\n  public points: Array<P> = []\n  public children: Polygon[] = []\n  public area: any = 0.0\n\n  moveTo(p:P) {\n    this.points.push(p)\n  }\n\n  lineTo(p:P) {\n    this.points.push(p)\n  }\n  close() {\n    let cur = this.points[this.points.length - 1]\n    this.points.forEach(next => {\n      this.area += 0.5 * cross(cur, next)\n      cur = next\n    })\n  }\n  conicTo(p: P, p1: P) {\n    const p0 = this.points[this.points.length - 1]\n    const dist = distance(p0, p1) + distance(p1, p)\n    const steps = Math.max(\n      2,\n      Math.min(MAX_BEZIER_STEPS, dist / BEZIER_STEP_SIZE)\n    )\n    for (let i = 1; i <= steps; ++i) {\n      const t = i / steps\n      this.points.push(lerp(lerp(p0, p1, t), lerp(p1, p, t), t))\n    }\n  }\n  cubicTo(p: P, p1: P, p2: P) {\n    const p0 = this.points[this.points.length - 1]\n    const dist = distance(p0, p1) + distance(p1, p2) + distance(p2, p)\n    const steps = Math.max(\n      2,\n      Math.min(MAX_BEZIER_STEPS, dist / BEZIER_STEP_SIZE)\n    )\n    for (let i = 1; i <= steps; ++i) {\n      const t = i / steps\n      const a = lerp(lerp(p0, p1, t), lerp(p1, p2, t), t)\n      const b = lerp(lerp(p1, p2, t), lerp(p2, p, t), t)\n      this.points.push(lerp(a, b, t))\n    }\n  }\n\n  inside(p: P) {\n    let count = 0,\n      cur = this.points[this.points.length - 1]\n    this.points.forEach(next => {\n      const p0 = cur.y < next.y ? cur : next\n      const p1 = cur.y < next.y ? next : cur\n      if (p0.y < p.y + EPSILON && p1.y > p.y + EPSILON) {\n        if ((p1.x - p0.x) * (p.y - p0.y) > (p.x - p0.x) * (p1.y - p0.y)) {\n          count += 1\n        }\n      }\n      cur = next\n    })\n    return count % 2 !== 0\n  }\n}\n\n\nfunction tick(t: number) {\n  \n  gl.uniform1f(time, t / pace)\n  gl.drawElements(gl.TRIANGLES, indices.length, gl.UNSIGNED_SHORT, 0)\n\n  requestAnimationFrame(tick)\n}\n\nlet getRoots = function (polys: Polygon[]) {\n     // classify contours to find holes and their 'parents'\n     const root = []\n     for (let i = 0; i < polys.length; ++i) {\n         let parent = null\n         for (let j = i - 1; j >= 0; --j) {\n             // a contour is a hole if it is inside its parent and has different winding\n             if (\n             polys[j].inside(polys[i].points[0]) &&\n             polys[i].area * polys[j].area < 0\n             ) {\n                 parent = polys[j]\n                 break\n             }\n     }\n     if (parent) {\n             parent.children.push(polys[i])\n         } else {\n             root.push(polys[i])\n         }\n     }\n     return root\n}\n\nlet getPolys = function (font: opentype.Font, x=0, y=0, s=12, text=\"Hello World\") {\n    // create path\n    const path = font.getPath(text, x, y, s)\n    // create a list of closed contours\n    const polys: Polygon[] = []\n    path.commands.forEach(({ type, x, y, x1, y1, x2, y2 }: any) => {\n    switch (type) {\n        case \"M\":\n        polys.push(new Polygon())\n        polys[polys.length - 1].moveTo({ x, y })\n        break\n        case \"L\":\n        polys[polys.length - 1].moveTo({ x, y })\n        break\n        case \"C\":\n        polys[polys.length - 1].cubicTo(\n            { x, y },\n            { x: x1, y: y1 },\n            { x: x2, y: y2 }\n        )\n        break\n        case \"Q\":\n        polys[polys.length - 1].conicTo({ x, y }, { x: x1, y: y1 })\n        break\n        case \"Z\":\n        polys[polys.length - 1].close()\n        break\n        }\n    })\n    // sort contours by descending area\n    polys.sort((a, b) => Math.abs(b.area) - Math.abs(a.area))\n    return polys\n}\n\nlet getVertexData = function (root: Polygon[], polys: Polygon[]) {\n    const totalPoints = polys.reduce((sum: number, p: Polygon) => sum + p.points.length, 0)\n    const vertexData = new Float32Array(totalPoints * 2)\n    let vertexCount = 0\n    indices = []\n    let process = function(poly: Polygon) {\n    // construct input for earcut\n        const coords: number[] = []\n        const holes: number[] = []\n        poly.points.forEach(({ x, y }) => coords.push(x, y))\n        poly.children.forEach(child => {\n            // children's children are new, separate shapes\n            child.children.forEach(process)\n            holes.push(coords.length / 2)\n            child.points.forEach(({ x, y }) => coords.push(x, y))\n        })\n        // add vertex data\n        vertexData.set(coords, vertexCount * 2)\n        // add index data\n        earcut(coords, holes).forEach(i => indices.push(i + vertexCount))\n        vertexCount += coords.length / 2\n    }\n    root.forEach(process)\n    return [vertexData, indices]\n}\n\nlet draw = function (font: opentype.Font, words: Word[] = [], statement: string=defaultvs) {\n    let canvas = document.getElementById(\"emordle-canvas\") as HTMLCanvasElement\n    const width = canvas.width\n    const height = canvas.height\n    let polyAll: Polygon[] = []\n    for (let word of words) {\n        let polys = getPolys(font, word.x! - word.width! / 2, word.y, word.size, word.text)\n        polyAll = polyAll.concat(polys)\n    }\n    let root = getRoots(polyAll)\n    let [vertexData, indices] = getVertexData(root, polyAll)\n    drawOnCanvas(vertexData, indices, statement)\n}\n\nconst defaultvs = ` pos.y += pow(sin( (pos.x) / 500.+ uTime *.02),2.) * 20.;\npos.x += sin( pos.y/ 100. + uTime *.8) * .5;\n`\n\nconst staticvs = ` pos.y = pos.y;\npos.x = pos.x;\n`\n\nlet vsGenerator = function (speed: number, entropy: number) {\n  if (speed == 0) return staticvs\n  const waveletNum = Math.max(1, Math.floor(entropy * 10))\n  const timeGran = Number((0.01 + speed * 0.3)).toFixed(3)\n  const yAmplitude = Number(15.1 + 9.9 * entropy).toFixed(3)\n  const yExtent = Number(10.1 + (1.05 - entropy) * 359.9).toFixed(3)\n  const xExtent = Number(50.1 + (1.05 - entropy) * 150.1).toFixed(3)\n  const xAmplitude = Number(0.02 + 0.58 * entropy).toFixed(3)\n  let xPosStr = `sin( pos.y / ${xExtent} + uTime * ${timeGran}) * ${xAmplitude}`\n  let yPosStr = `pow(sin( (pos.x) / ${yExtent} + uTime * ${timeGran}), 2.) * ${yAmplitude}`\n  let result = `\n  pos.x += ${xPosStr};\n  pos.y += ${yPosStr};\n  `\n  return result\n  //return defaultvs\n}\n\nlet drawOnCanvas = function (vertexData: Float32Array, indices: Uint16Array, statement: string=defaultvs) {\n    const canvas = document.getElementById(\"emordle-canvas\") as HTMLCanvasElement\n    gl = canvas.getContext(\"webgl\", {preserveDrawingBuffer: true});\n    const width = canvas.width\n    const height = canvas.height\n    gl.viewport(0, 0, width, height)\n    const vs = createShader(gl, gl.VERTEX_SHADER, `\n      precision mediump float;\n      uniform vec2 uScale;\n      uniform vec2 uOffset;\n      uniform float uTime;\n      attribute vec2 position;\n      varying vec4 fragColor;\n      void main() {\n      vec2 pos = position;\n      ${statement}\n      gl_Position = vec4(pos * uScale + uOffset, 0.0, 1.0);\n      fragColor = vec4(sin(uTime*.05)*.55+.6, 0.05, cos(uTime*.15)*.25+.35, 1. ); // colorful\n    }`)\n    const ps = createShader(gl, gl.FRAGMENT_SHADER,\n        `precision mediump float;\n        uniform vec4 uColor;\n        uniform vec2 u_resolution;\n        varying vec4 fragColor;\n        void main() {\n        gl_FragColor = uColor;\n        vec2 st = gl_FragCoord.xy / u_resolution;\n        gl_FragColor = fragColor;\n        }`)\n    const prog = createProgram(gl, vs, ps)\n    gl.bindAttribLocation(prog, 0, \"position\")\n    const [uScale, uOffset, uColor, uTime, u_resolutionLoc, fragColor] = [\n    \"uScale\",\n    \"uOffset\",\n    \"uColor\",\n    \"uTime\",\n    \"u_resolution\",\n    \"fragColor\"\n    ].map(name => gl.getUniformLocation(prog, name))\n    time = uTime\n    gl.useProgram(prog)\n    gl.uniform1f(uTime, 0)\n    gl.uniform2fv(uScale, [2.0 / width, -2.0 / height])\n    gl.uniform2fv(uOffset, [0.0, 0.0])\n    gl.uniform4fv(uColor, [0.0, 0.0, 0.0, 1.0])\n    gl.uniform4fv(fragColor, [0.0, 0.0, 0.0, 1.0])\n    gl.uniform2f(u_resolutionLoc, gl.canvas.width, gl.canvas.height)\n    gl.clearColor(.0, 1.0, 1.0, 1.0)\n    gl.clear(gl.COLOR_BUFFER_BIT)\n    const vertBuffer = gl.createBuffer()\n    gl.bindBuffer(gl.ARRAY_BUFFER, vertBuffer)\n    gl.bufferData(gl.ARRAY_BUFFER, vertexData, gl.STATIC_DRAW)\n    const indxBuffer = gl.createBuffer()\n    const indexData = new Uint16Array(indices)\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, indxBuffer)\n    gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, indexData, gl.STATIC_DRAW)\n    gl.enableVertexAttribArray(0)\n    gl.vertexAttribPointer(0, 2, gl.FLOAT, true, 8, 0)\n    gl.drawElements(gl.TRIANGLES, indices.length, gl.UNSIGNED_SHORT, 0)\n    gl.flush()\n    tick(Date.now())\n}\n\nlet onloadedFont = function(err: any, font: opentype.Font | undefined) {\n    if (err) {\n        alert(\"Font could not be loaded: \" + err)\n    } else if (font) {\n        console.log(font)\n        draw(font)\n    }\n}\n\nexport let test = function (fontUrl=FONTURL) {\n    opentype.load(\n        fontUrl,\n        onloadedFont\n      )    \n}\ninterface WavingParam {\n  words: Word[],\n  fontUrl?: string,\n  speed: number,\n  entropy: number,\n}\nexport let jumpingWordle = function ({words=[], fontUrl=FONTURL, speed=0.5, entropy=0.5}: WavingParam) {\n    opentype.load(\n        fontUrl,\n        function(err, fontMeta: opentype.Font | undefined) {\n            if (err) {\n                console.log(fontUrl)\n                alert(\"Font could not be loaded: \" + err)\n            } else if (fontMeta) {\n                let statement = vsGenerator(speed, entropy)\n                draw(fontMeta, words, statement)\n            }\n        }\n    )\n}","/* eslint-disable */\n/**\n * doc comment for animator.ts\n * @remarks \n * the latest design for animation unit\n * the logic is to use Animator to control GroupManager\n * @packageDocumentation\n */\nimport * as d3Timer from 'd3-timer'\nimport * as d3Ease from 'd3-ease'\nimport * as d3Itpl from 'd3-interpolate'\nimport { PlotHandler } from './plot'\nimport * as Gif from \"@/assets/lib/gif/gif\"\nimport { kmeans } from '@/assets/lib/kmeans'\nimport { FontConfig } from \"@/assets/variable-font\"\nimport * as Manual from \"@/assets/manual\"\nimport { KeyframeConfig, GroupingMode, Word, Mode, MetaConfig, GroupManagerConfig, AnimatorPlayParams} from \"@/assets/types\"\nimport { KeyFrameHandler } from './keyframe-handler'\nimport { Meta } from './animation'\nimport { jumpingWordle } from \"@/assets/jump\"\nimport Canvg from 'canvg';\n\nclass KeyFrame implements KeyframeConfig {\n    public x: number = 0\n    public y: number = 0\n    public xoff: number = 0\n    public yoff: number = 0\n    public rotate: number = 0\n    public scale: number = 1\n    public opacity: number = 1\n    public color: string = 'black'\n    public stage: number = 0\n    public duration: number = 10\n    public font: FontConfig = new FontConfig() \n    constructor(configs: Partial<KeyframeConfig>) {\n        Object.assign(this, configs);\n    }\n}\n\nclass GroupManager implements GroupManagerConfig {\n    public order: number = 0;\n    public delay: number = 0;\n    public duration: number = 2000;\n    public ease: (a: number) => (number) = (a:number) => a; //d3Ease.easeCubic\n    public words: Array<MetaConfig> = [];\n    public origin: Array<MetaConfig> = [];\n    public keyFrames: Array<KeyFrame> = [];\n    public frameCounter: number = 0;\n    public font: FontConfig = new FontConfig();\n    constructor(configs: Partial<GroupManager>) {\n        Object.assign(this, configs);\n    }\n\n    public updateWord(ckf: KeyFrame, nkf: KeyFrame, frameAt: number, phase: number) {\n        this.font.setValWithRatio('width', 1);\n        // this.font.setValWithRatio('italic', Math.abs(Math.sin(Date.now()/1000)));\n        // this.font.setValWithRatio('weight', phase);\n        const color = d3Itpl.interpolateHcl(ckf.color, nkf.color)(frameAt);\n        this.font.update({\n            italic: (nkf.font.italic - ckf.font.italic) * this.ease(frameAt),\n            weight: (nkf.font.weight - ckf.font.weight) * this.ease(frameAt),\n        })\n        const fontString = this.font.getCss();\n        // assign by value  \n        this.words.forEach((d) => {\n            const xoff = (nkf.xoff - ckf.xoff) * this.ease(frameAt);\n            const yoff = (nkf.yoff - ckf.yoff) * this.ease(frameAt);\n            const scale = (nkf.scale - ckf.scale) * this.ease(frameAt);\n            const rotate = (nkf.rotate - ckf.rotate) * this.ease(frameAt);\n            d.x = d.x! + xoff;\n            d.y = d.y! + yoff;\n            d.rotate = rotate;\n            d.size = d.trues! * (1 + scale);\n         //   d.color = d.color || color;\n            d.fontString = fontString;\n        });\n    }\n\n    public setFrameCounter(fc: number) {\n        this.frameCounter = fc;\n    }\n\n    public reset() {\n        this.words = this.origin.map(a => Object.assign({}, a));\n        this.frameCounter = 0;\n    }\n}\n\n/** obatin animating frames and control the groups */\nclass WordleAnimator {\n    public data: Array<Word> = [];\n    public timer?: d3Timer.Timer | undefined;\n    readonly words: Array<MetaConfig> = new Array();\n    public duration: number = 1000;\n    public groupManagers: Array<GroupManager> = [];\n    public plotHandler?: PlotHandler;\n    public mode: Mode = Mode.dance;\n    public extent: number = 0.5;\n    public speed: number = 0.5;\n    public entropy: number = 0.5;\n    public gif: any;\n    public wordMap: Map<string, number> = new Map();\n    public keyFrames: KeyFrame[][] = [];\n    constructor(configs: Partial<WordleAnimator>) {\n        Object.assign(this, configs);\n        this.data.forEach((word: Word, idx: number) => {\n            this.wordMap.set(word.text!, idx)\n            this.words.push(new Meta(word, this.plotHandler!.width, this.plotHandler!.height))\n        })\n    }\n\n    public createManagers(numGroups: number, field: Partial<GroupManager>={}) {\n        this.groupManagers = new Array(numGroups);\n        for(var i = 0; i < numGroups; ++i) {\n            this.groupManagers[i] = new GroupManager(field);\n        }\n    }\n\n    public assignKeyFrame(keyFrames: KeyFrame[][]) {\n        this.groupManagers.forEach((gm, idx) => {\n            gm.keyFrames = keyFrames[idx];\n        });\n    }\n\n    /** Devide the words into groups\n     *  1. create groupNum group managers\n     *  2. assign words to each group manager according to the mode\n     */\n    public divideGroup(mode: GroupingMode, centers: [number, number][]=[]) {\n        let numGroup = centers.length == 0 ? this.groupManagers.length : centers.length;\n        let numWordsPerGroup = Math.ceil(this.words.length / numGroup);\n        let assignedWords = [] as MetaConfig[];\n        if (mode !== GroupingMode.xy) {\n            if (mode === GroupingMode.random) {\n                assignedWords = shuffle(this.words);\n            } else if (mode === GroupingMode.x) {\n                assignedWords = this.words.sort((a, b) => a.x! - b.x!);\n            } else if (mode == GroupingMode.y) {\n                assignedWords = this.words.sort((a, b) => a.y! - b.y!);\n            }\n            this.groupManagers.forEach((group, i) => {\n                const startIdx = numWordsPerGroup * i;\n                const endIdx = startIdx + numWordsPerGroup;\n                const words = assignedWords.slice(startIdx, endIdx);\n                group.origin = words.map(x => Object.assign({}, x));\n                group.words = words.map(x => Object.assign({}, x));\n            })\n        }\n        else {  // divide by xy\n            let positions = this.words.map((word: MetaConfig) => [word.x, word.y]);\n            let alias = centers.length == 0? \"kmeans\": centers \n            let result = kmeans(positions, numGroup, alias);\n            let wordBags = getMatrix(numGroup, 0) as Array<Array<MetaConfig>>;\n            result.indexes.forEach((d: number, idx: number) => {\n                wordBags[d].push(this.words[idx]);\n            });\n            this.groupManagers.forEach((group, idx) => {\n                const words = wordBags[idx];\n                group.origin = words.map(x => Object.assign({}, x));\n                group.words = words.map(x => Object.assign({}, x));\n            });\n        }\n    }\n\n    public reset() {\n        this.groupManagers.forEach(gm => {\n            gm.words = gm.origin.map((v) => Object.assign({}, v));\n            gm.frameCounter = 0;\n        })\n    }\n\n    public update(field: string, value: any) {\n        if (field === 'duration') this.duration = (value as number)\n        if (field === 'mode') this.mode = (value as Mode)\n    }\n\n    /** Play the animated wordle.\n     * @param {boolean} gifFlag whether to produce Gif\n     * 1. get keyframes with given extent, speed, entropy\n     *  - extent - extent at which\n     */\n    public play({gifFlag = false, replay = false} : AnimatorPlayParams = {}) {\n        let mode = this.mode\n        let svgFlag = mode !== Mode.wave\n        this.reset()\n        if (mode === Mode.wave) this.playWaving({gifFlag, replay})\n        if (mode === Mode.swing) this.playSwinging({gifFlag, replay})\n        if (mode === Mode.dance) this.playDancing({gifFlag, replay})\n        if (mode === Mode.split) this.playSplitting({gifFlag, replay})\n        this.plotHandler!.svg.style('display', svgFlag? '': 'none')\n        this.plotHandler!.canvas!.style.display = svgFlag? 'none': ''\n    }\n\n    public playWaving({gifFlag = false, replay = false} : AnimatorPlayParams = {}) {\n        let data = this.data.map(v => Object.assign({}, v))\n        let font = data[0].font\n        jumpingWordle({\n            words: data,\n            entropy: this.entropy,\n            speed: this.speed,\n            fontUrl: `./font/${font}.ttf`,\n            gif: this.gif,\n            gifFlag: gifFlag\n        })\n    }\n\n    public playSwinging({gifFlag = false, replay = false} : AnimatorPlayParams = {}) {\n        if (!replay) {\n            this.plotHandler?.plotOnSvg(this.data);\n            const keyFrameHandler = new KeyFrameHandler();\n            const wordLength = this.words.length;\n            const keyFrames = keyFrameHandler.getKeyFrames(Mode.swing, wordLength, this.speed, this.entropy);\n            this.keyFrames = keyFrames;\n            const numGroups = keyFrames.length;\n            const divideMode = this.entropy > 0.5? GroupingMode.random : GroupingMode.y\n            this.createManagers(numGroups);\n            this.assignKeyFrame(keyFrames);\n            this.divideGroup(divideMode);\n        } else {\n            this.reset();\n        }  \n        this.startPlay(gifFlag, replay)      \n    }\n\n    public playSplitting({gifFlag = false, replay = false} : AnimatorPlayParams = {}) {\n        if (!replay) {\n            this.plotHandler?.plotOnSvg(this.data);\n            const keyFrameHandler =  new KeyFrameHandler();\n            const wordLength = this.words.length;\n            let centers = [] as Array<[number, number]>\n            let a = this.plotHandler!.width / 4, b = this.plotHandler!.height / 4\n            let alpha = Math.random() * Math.PI/4\n            const keyFrames = keyFrameHandler.getKeyFrames(Mode.split, wordLength, this.speed, this.entropy, alpha);\n            this.keyFrames = keyFrames;\n            const numGroups = keyFrames.length;\n            for (let idx = 0; idx < numGroups; idx ++) {\n                let theta = idx * 2 * Math.PI / numGroups + alpha\n                let x = a * Math.cos(theta)\n                let y = b * Math.sin(theta)\n                centers.push([x, y])\n            }\n            this.createManagers(numGroups, {ease: d3Ease.easeExp});\n            this.assignKeyFrame(keyFrames);\n            this.divideGroup(GroupingMode.xy, centers);\n        } else {\n            this.reset();\n        }\n        this.startPlay(gifFlag, replay)\n    }\n\n\n    public playDancing({gifFlag = false, replay = false} : AnimatorPlayParams = {}) {\n        if (!replay) {\n            this.plotHandler?.plotOnSvg(this.data);\n            const keyFrameHandler = new KeyFrameHandler();\n            const wordLength = this.words.length;\n            const keyFrames = keyFrameHandler.getKeyFrames(Mode.dance, wordLength, this.extent , this.speed, this.entropy);\n            this.keyFrames = keyFrames;\n            const numGroups = keyFrames.length;\n            const divideMode = getDivideMode();\n            this.createManagers(numGroups);\n            this.assignKeyFrame(keyFrames);\n            this.divideGroup(divideMode);\n        } else {\n            this.reset();\n        }  \n        this.startPlay(gifFlag, replay)      \n    }\n    /** Core function to play the animation according to the keyframes\n     *\n     * @param gifFlag \n     * @param replay \n     */\n    public startPlay(gifFlag = false, replay = false) {\n        const gms = this.groupManagers;\n        this.timer?.stop();\n        this.timer = d3Timer.timer((elapsed) => {\n            if (elapsed < this.duration) {      \n                let totalWords: Array<Word> = new Array<Word>(this.words.length);\n                gms.forEach((gm, _) => { \n                    let fc = gm.frameCounter;\n                    const keyFrames = gm.keyFrames;\n                    const ckf = keyFrames[fc];\n                    const nkf = keyFrames[fc + 1];\n                    const cfa = nkf.stage / 100 * this.duration;\n                    if( elapsed >= cfa ) {\n                        gm.setFrameCounter(fc + 1);\n                    }\n                    const fs = ckf.stage / 100 * this.duration; \n                    const frameAt = (elapsed - fs) / (cfa - fs);\n                    const phase = elapsed / gm.duration;\n                    gm.updateWord(ckf, nkf, frameAt, phase);\n                    gm.words.forEach((word, _) => {\n                        totalWords[this.wordMap.get(word.text!)!] = word\n                    })\n                })\n                this.plotHandler?.updateOnSvg(totalWords);\n                if (gifFlag) {\n                        const gifCanvas = this.svgToCanvas();\n                        this.gif.addFrame(gifCanvas, {delay: 10});\n                }\n            }\n            else {\n                this.timer?.stop()\n                if (gifFlag) {\n                    console.log('rendering');\n                    this.gif.render();\n                }\n                this.play({gifFlag: false, replay: true});\n            }\n        }, 10)\n    }\n    private svgToCanvas() {\n        const svg = document.querySelector('#emordle-svg') as Node;\n        const xml = new XMLSerializer().serializeToString(svg);\n        const canvas = document.createElement('canvas') as HTMLCanvasElement;\n        canvas.width = this.plotHandler!.width;\n        canvas.height = this.plotHandler!.height;\n        const ctx = canvas.getContext('2d');\n        // canvas.setAttribute('display', 'none');\n\n        const img = document.createElement('img');\n        img.setAttribute( \"src\", \"data:image/svg+xml;base64,\" + btoa( xml ) );\n        img.onload = function() {\n            ctx!.clearRect(0, 0, canvas.width, canvas.height)\n            ctx!.fillStyle = \"rgba(255, 255, 255, 1)\"\n            ctx!.globalCompositeOperation = 'source-over';\n            ctx!.fillRect(0, 0, canvas.width, canvas.height)\n            ctx?.drawImage(img, 0,0, canvas.width, canvas.height);\n        }\n        return canvas\n    }\n\n    private getTotalWords() {\n        let res = [] as Array<Word>;\n        this.groupManagers.forEach((group: GroupManager, idx: number) => {\n            res = res.concat(group.words)\n        })\n        return res\n    }\n\n    public stop() {\n        this.timer?.stop()\n    }\n\n    private createWaveGif() {\n        let timer = d3Timer.timer((elapsed) => {\n            console.log(elapsed);\n            if(elapsed < this.duration) {\n                const canvas = document.querySelector('#emordle-canvas') as HTMLCanvasElement;\n                        \n                const cvs = document.createElement('canvas') as HTMLCanvasElement;\n                cvs.width = this.plotHandler!.width;\n                cvs.height = this.plotHandler!.height;\n                const ctx = cvs.getContext('2d');\n\n                const img = document.createElement('img');\n                const imgData = canvas.toDataURL();\n                img.setAttribute( \"src\", imgData);\n                img.onload = function() {\n                    ctx!.clearRect(0, 0, canvas.width, canvas.height)\n                    ctx!.fillStyle = \"rgba(255, 255, 255, 1)\"\n                    ctx!.globalCompositeOperation = 'source-over';\n                    ctx!.fillRect(0, 0, canvas.width, canvas.height)\n                    ctx?.drawImage(img, 0,0, canvas.width, canvas.height);\n                    document.body.appendChild(img);\n                }\n                \n                this.gif.addFrame(cvs, {delay: 10});\n            } else {\n                console.log(elapsed);\n                console.log('rendering');\n                timer.stop();\n                this.gif.render();\n            }\n        });\n\n    }\n    /**Generate Gif for a round\n     * Reference: https://github.com/jnordberg/gif.js\n    @param quality the sampling rate\n    */\n    public createGif(quality: number = 5) {\n        // convert svg -> canvas\n        this.gif = new Gif({\n            quality: quality,\n        })\n        let param = this.keyFrames;\n        if(this.mode == Mode.wave) {\n            this.createWaveGif();\n        } else {\n            this.play({gifFlag: true});\n        }\n        this.gif.on('finished', function (blob: any) {\n            console.log(Date.now(), 'finished');\n            let wlink = document.createElement('a')\n            wlink.setAttribute('target', '_blank')\n            wlink.setAttribute('href', URL.createObjectURL(blob))\n            wlink.setAttribute('download', \"animation.gif\")\n            wlink.addEventListener('click', function () {\n                this.remove()\n            })\n            wlink.click()\n\n            let plink = document.createElement('a')\n            plink.setAttribute('target', '_blank')\n            plink.setAttribute('href', \"data:text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(param)))\n            plink.setAttribute('download', \"param.json\")\n            plink.addEventListener('click', function () {\n                this.remove()\n            })\n            plink.click()\n        })\n        return this\n    }\n\n    /** Group the words according to position.\n     */\n    private assignWords(groupNum: number, numWordsPerGroup: number, wordsCopy: MetaConfig[]) {\n        for (let i = 0; i < groupNum; i++) {\n            let startIdx = numWordsPerGroup * i;\n            let endIdx = startIdx + numWordsPerGroup;\n            this.groupManagers[i].words = wordsCopy.slice(startIdx, endIdx);\n        }\n    }\n\n}\n\nfunction getDivideMode() {\n    return GroupingMode.x;\n}\n\n// separate key frame getter logic from wordle class\nfunction getKeyFrames() {\n    // logic to get keyframes, hard coded for now\n    return [Manual.smallShake(), Manual.colorTransition(), Manual.shakeNRotate()];\n}\n\n\nlet shuffle = function <T>(array: T[]) {\n    let currIdx = array.length, tempVal, randIdx\n    while (0 != currIdx) {\n        randIdx = Math.floor(Math.random() * currIdx)\n        currIdx -= 1\n        tempVal = array[currIdx]\n        array[currIdx] = array[randIdx]\n        array[randIdx] = tempVal\n    }\n    return array\n}\n\nlet getMatrix = function <T>(row: number, col: number) {\n    let matrix = [] as Array<Array<T>>\n    for (let i = 0; i < row; i++) {\n        if (col !== 0) {\n            matrix.push(new Array(col).fill(0))\n        }\n        else {\n            let slot = [] as Array<T>\n            matrix.push(slot)\n        }\n    }\n    return matrix\n}\n\nexport { WordleAnimator, KeyFrame, GroupManager }","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./KeyframeList.vue?vue&type=style&index=0&id=456474e6&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Slider.vue?vue&type=style&index=0&id=78773d8c&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./GroupPanel.vue?vue&type=style&index=0&id=06031fd4&lang=scss&scoped=true\""],"sourceRoot":""}