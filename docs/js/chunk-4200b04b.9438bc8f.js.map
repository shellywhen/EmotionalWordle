{"version":3,"sources":["webpack:///./src/views/Playground.vue","webpack:///./src/components/GroupPanel.vue","webpack:///./src/components/KeyframeList.vue","webpack:///./src/components/KeyframeList.vue?91e4","webpack:///./src/components/KeyframeList.vue?1ed3","webpack:///./src/assets/color-picker.ts","webpack:///./src/components/GroupPanel.vue?e1ef","webpack:///./src/components/GroupPanel.vue?ca89","webpack:///./src/views/Playground.vue?eef9","webpack:///./src/views/Playground.vue?e858","webpack:///./node_modules/vue-property-decorator/lib/helpers/metadata.js","webpack:///./node_modules/vue-property-decorator/lib/decorators/Prop.js","webpack:///./node_modules/vue-property-decorator/lib/decorators/Watch.js","webpack:///./src/components/ui/Slider.vue","webpack:///./src/components/ui/Slider.vue?dbd0","webpack:///./src/components/ui/Slider.vue?099f","webpack:///./node_modules/core-js/internals/this-number-value.js","webpack:///./node_modules/d3-array/src/ticks.js","webpack:///./node_modules/d3-array/src/ascending.js","webpack:///./node_modules/d3-array/src/bisector.js","webpack:///./node_modules/d3-array/src/number.js","webpack:///./node_modules/d3-array/src/bisect.js","webpack:///./node_modules/d3-interpolate/src/round.js","webpack:///./node_modules/d3-scale/src/constant.js","webpack:///./node_modules/d3-scale/src/number.js","webpack:///./node_modules/d3-scale/src/continuous.js","webpack:///./node_modules/d3-scale/src/init.js","webpack:///./node_modules/d3-format/src/formatSpecifier.js","webpack:///./node_modules/d3-format/src/formatDecimal.js","webpack:///./node_modules/d3-format/src/exponent.js","webpack:///./node_modules/d3-format/src/formatPrefixAuto.js","webpack:///./node_modules/d3-format/src/defaultLocale.js","webpack:///./node_modules/d3-format/src/precisionPrefix.js","webpack:///./node_modules/d3-format/src/formatGroup.js","webpack:///./node_modules/d3-format/src/formatNumerals.js","webpack:///./node_modules/d3-format/src/formatTrim.js","webpack:///./node_modules/d3-format/src/formatRounded.js","webpack:///./node_modules/d3-format/src/formatTypes.js","webpack:///./node_modules/d3-format/src/identity.js","webpack:///./node_modules/d3-format/src/locale.js","webpack:///./node_modules/d3-format/src/precisionRound.js","webpack:///./node_modules/d3-format/src/precisionFixed.js","webpack:///./node_modules/d3-scale/src/tickFormat.js","webpack:///./node_modules/d3-scale/src/linear.js","webpack:///./node_modules/core-js/internals/whitespaces.js","webpack:///./node_modules/core-js/internals/string-trim.js","webpack:///./src/views/Playground.vue?3cae","webpack:///./node_modules/tslib/tslib.es6.js","webpack:///./node_modules/core-js/modules/es.number.constructor.js","webpack:///./node_modules/core-js/modules/es.object.keys.js","webpack:///./node_modules/core-js/modules/es.math.trunc.js","webpack:///./node_modules/core-js/modules/es.number.to-fixed.js","webpack:///./node_modules/core-js/modules/es.object.get-own-property-descriptors.js","webpack:///./node_modules/core-js/modules/es.object.get-own-property-descriptor.js","webpack:///./node_modules/@simonwep/pickr/dist/pickr.min.js","webpack:///./node_modules/d3-ease/src/exp.js","webpack:///./node_modules/d3-color/src/math.js","webpack:///./node_modules/d3-color/src/lab.js","webpack:///./node_modules/d3-interpolate/src/hcl.js","webpack:///./src/assets/manual.ts","webpack:///./node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack:///./src/assets/keyframe-handler.ts","webpack:///./src/assets/jump.ts","webpack:///./src/assets/animator.ts","webpack:///./src/components/KeyframeList.vue?faa9","webpack:///./src/components/ui/Slider.vue?c62d","webpack:///./src/components/GroupPanel.vue?fd0f"],"names":["class","for","name","id","wordleData","collection","item","key","tag","value","openFile","type","accept","handleUpload","$event","tendencies","tendency","animationMode","animationModes","init","step","label","className","callback","speedCallback","entropyCallback","pause","play","replay","getGif","height","styleScheme","zoomLevel","width","viewBox","preserveAspectRatio","groups","index","group","font","groupIndex","wordContent","colorScheme","max","min","durationCallback","delayCallback","keyframes","kf","scale","xoff","yoff","rotate","style","color","xPadding","svgEle","d3","node","svgWidth","getBoundingClientRect","svgHeight","range","domain","gap","invert","this","length","i","Math","stage","svg","containers","append","attr","selectAll","data","enter","d","classed","on","e","parentNode","select","text","Number","toPrecision","substring","render","swatches","defaultColor","colorList","identifier","create","el","theme","default","components","preview","opacity","hue","interaction","hex","rgba","hsla","hsva","cmyk","input","clear","save","delay","duration","val","console","log","colors","forEach","c","idx","v","setValWithRatio","words","map","keyFrames","Slider","KeyframeList","__scopeId","fileReader","FileReader","uploadFilename","speed","entropy","customColor","animator","extent","positive","negative","split","dance","wave","swing","plotHandler","undefined","addEventListener","parseFile","fileNames","tasks","Promise","all","then","dataList","property","filter","copy","Object","assign","assignColor","update","stop","mode","reset","pv","parseFloat","event","file","target","files","readAsText","slice","join","dataset","random","toString","ele","state","res","result","JSON","parse","push","createGif","gifFlag","a","document","createElement","href","URL","createObjectURL","Blob","stringify","download","click","remove","getElementById","groupManagers","fontStyle","fontWeight","fontFamily","GroupPanel","word","reflectMetadataIsSupported","Reflect","getMetadata","applyMetadata","options","Array","isArray","hasOwnProperty","Prop","componentOptions","k","props","Watch","path","_a","deep","_b","immediate","handler","watch","showValue","rangeClass","classof","module","exports","TypeError","e10","sqrt","e5","e2","reverse","n","ticks","start","count","tickIncrement","isFinite","ceil","floor","power","LN10","error","pow","tickStep","step0","abs","step1","b","NaN","f","delta","compare","left","x","lo","hi","mid","right","center","ascendingComparator","ascending","ascendingBisect","bisector","bisectRight","number","bisect","t","round","constants","unit","identity","normalize","isNaN","clamper","bimap","interpolate","d0","d1","r0","r1","polymap","j","r","source","clamp","unknown","transformer","transform","untransform","piecewise","output","rescale","y","_","arguments","from","rangeRound","u","continuous","initRange","re","formatSpecifier","specifier","match","exec","Error","FormatSpecifier","fill","align","sign","symbol","zero","comma","precision","trim","prototype","toLocaleString","replace","formatDecimalParts","p","toExponential","indexOf","coefficient","prefixExponent","g","grouping","thousands","numerals","out","i1","s","i0","exponent","toFixed","formatDecimal","formatRounded","formatPrefixAuto","toUpperCase","prefixes","locale","formatGroup","call","currencyPrefix","currency","currencySuffix","decimal","formatNumerals","String","percent","minus","nan","newFormat","formatTypes","prefix","test","toLowerCase","suffix","formatType","maybeSuffix","format","valuePrefix","valueSuffix","valueNegative","formatTrim","charCodeAt","Infinity","padding","formatPrefix","defaultLocale","definition","tickFormat","precisionPrefix","precisionRound","precisionFixed","linearish","nice","prestep","maxIter","linear","apply","requireObjectCoercible","whitespaces","whitespace","ltrim","RegExp","rtrim","createMethod","TYPE","$this","string","end","__decorate","decorators","desc","getOwnPropertyDescriptor","decorate","defineProperty","DESCRIPTORS","global","isForced","redefine","has","inheritIfRequired","toPrimitive","fails","getOwnPropertyNames","NUMBER","NativeNumber","NumberPrototype","BROKEN_CLASSOF","toNumber","argument","first","third","radix","maxCode","digits","code","it","parseInt","NumberWrapper","dummy","valueOf","keys","constructor","$","toObject","nativeKeys","FAILS_ON_PRIMITIVES","stat","forced","trunc","toInteger","thisNumberValue","repeat","nativeToFixed","acc","x2","FORCED","proto","fractionDigits","z","fractDigits","multiply","c2","divide","dataToString","RangeError","ownKeys","toIndexedObject","getOwnPropertyDescriptorModule","createProperty","sham","getOwnPropertyDescriptors","object","descriptor","O","nativeGetOwnPropertyDescriptor","window","o","l","m","enumerable","get","Symbol","toStringTag","__esModule","bind","HTMLCollection","NodeList","capture","innerHTML","firstElementChild","getAttribute","removeAttribute","children","composedPath","parentElement","Element","reduce","querySelector","shadowRoot","shiftKey","ctrlKey","deltaY","selectionStart","focus","setSelectionRange","preventDefault","dispatchEvent","Event","passive","h","w","A","getContext","fillStyle","hexa","values","C","padStart","clone","lock","onchange","onstop","activeElement","wrapper","cache","startsWith","_tapstop","_tapmove","cancelable","element","touches","clientX","clientY","top","offsetWidth","offsetHeight","_tapstart","_keyboard","S","elements","classList","stopPropagation","destroy","variantFlipOrder","middle","positionFlipOrder","bottom","position","margin","E","HTMLElement","reference","popper","container","documentElement","vs","vm","ve","hs","hm","he","L","configurable","writable","hide","show","change","changestop","cancel","swatchselect","DEFAULT_OPTIONS","sliders","lockOpacity","includes","palette","_preBuild","_buildComponents","_bindEvents","_finalBuild","addSwatch","button","app","_root","_nanopop","setAttribute","_t","_setupAnimationFrame","requestAnimationFrame","setColor","_rePositioningPicker","defaultRepresentation","_representation","setColorRepresentation","showAlways","_initializingActive","_emit","useAsButton","inline","appClass","find","hidden","add","contains","appendChild","root","removeChild","nextSibling","insertBefore","replaceChild","disabled","disable","comparison","transition","lastColor","_color","_lastColor","picker","currentColor","_recalc","_updateOutput","toRGBA","background","toHEXA","_swatchColors","slider","backgroundColor","trigger","selectable","_components","_clearColor","setHSVA","toHSVA","applyColor","stopImmediatePropagation","closeWithKey","isOpen","some","adjustableNumbers","getColorRepresentation","autoReposition","closeOnScroll","setTimeout","clearTimeout","_eventBindings","body","innerHeight","innerWidth","outputPrecision","i18n","I18N_DEFAULTS","_eventListener","splice","_parseLocalColor","cancelAnimationFrame","expInOut","radians","PI","degrees","K","Xn","Yn","Zn","t0","t1","t2","t3","labConvert","Lab","Hcl","hcl2lab","rgb2lrgb","xyz2lab","lab","lab2xyz","lrgb2rgb","hclConvert","atan2","hcl","cos","sin","define","brighter","darker","rgb","enumerableOnly","getOwnPropertySymbols","symbols","sym","_objectSpread2","defineProperties","minNumGroup","sampleFont","sampleItalic","italicRange","sampleWeight","weightRange","sampleItalicInterval","sampleWeightInterval","sampleItalicMid","sampleWeightMid","wordLength","alpha","getDiscoKeyFrames","getSplitKeyframes","getSwingingKeyFrames","maxNumGroup","numGroup","groupKeyFrames","italicDelta","weightDelta","fontMid","italic","weight","fontStart","fontEnd","fontWideMid","fontWideStart","animation","backupFrames","fid","iter","al","tl","move","groupKf","theta","dis","_move","_center","_rotate","_neg_rotate","randXD","randY","jump","FONTURL","time","pace","distance","p1","p2","dx","dy","lerp","cross","gl","MAX_BEZIER_STEPS","BEZIER_STEP_SIZE","EPSILON","points","area","cur","next","p0","dist","steps","tick","uniform1f","drawElements","TRIANGLES","UNSIGNED_SHORT","getRoots","polys","parent","inside","getPolys","getPath","commands","x1","y1","y2","moveTo","cubicTo","conicTo","close","sort","totalPoints","sum","vertexData","Float32Array","vertexCount","process","poly","coords","holes","child","set","statement","defaultvs","canvas","polyAll","size","concat","indices","staticvs","vsGenerator","timeGran","yAmplitude","yExtent","xExtent","xAmplitude","xPosStr","yPosStr","viewport","VERTEX_SHADER","ps","FRAGMENT_SHADER","prog","bindAttribLocation","getUniformLocation","uScale","uOffset","uColor","uTime","u_resolutionLoc","fragColor","useProgram","uniform2fv","uniform4fv","uniform2f","clearColor","COLOR_BUFFER_BIT","vertBuffer","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","indxBuffer","indexData","Uint16Array","ELEMENT_ARRAY_BUFFER","enableVertexAttribArray","vertexAttribPointer","FLOAT","flush","Date","now","fontUrl","load","err","fontMeta","alert","configs","order","ease","origin","frameCounter","ckf","nkf","frameAt","phase","fontString","getCss","trues","fc","wordMap","Map","numGroups","field","gm","centers","numWordsPerGroup","assignedWords","xy","startIdx","endIdx","positions","alias","kmeans","wordBags","getMatrix","indexes","svgFlag","playWaving","playSwinging","playDancing","playSplitting","display","plotOnSvg","keyFrameHandler","getKeyFrames","divideMode","createManagers","assignKeyFrame","divideGroup","startPlay","getDivideMode","gms","timer","elapsed","totalWords","cfa","setFrameCounter","fs","updateWord","updateOnSvg","gif","addFrame","quality","param","blob","wlink","plink","encodeURIComponent","groupNum","wordsCopy","array","tempVal","randIdx","currIdx","row","col","matrix","slot"],"mappings":"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","file":"js/chunk-4200b04b.9438bc8f.js","sourcesContent":["<template>\r\n  <div class=\"interface\">\r\n    <div class=\"wrapper row\">\r\n      <div class=\"parameters row col-2\">\r\n        <div>\r\n          <div class=\"wrapper\">\r\n            <span class=\"config-tag\">Dataset</span>\r\n            <select name=\"dataset\" id=\"dataset\" v-model=\"wordleData\">\r\n              <option\r\n                v-for=\"item in collection\"\r\n                v-bind:key=\"item.tag\"\r\n                v-bind:value=\"item\"\r\n              >\r\n                {{ item.tag }}\r\n              </option>\r\n            </select>\r\n            <div class=\"wrapper\">\r\n              <label class=\"form-label\" for=\"wordleUpload\">\r\n                Upload <span class=\"code\">CSV</span>\r\n              </label>\r\n              <button class=\"button\" @click=\"openFile\">\r\n                <i class=\"fas fa-cloud-upload-alt light\"></i>\r\n                <span class=\"code\">&nbsp;&nbsp;csv</span>\r\n              </button>\r\n              <input\r\n                type=\"file\"\r\n                class=\"form-control-sm\"\r\n                id=\"wordleUpload\"\r\n                name=\"wordleUpload\"\r\n                accept=\"text/txt\"\r\n                @change=\"handleUpload($event)\"\r\n              />\r\n            </div>\r\n          </div>\r\n          <br />\r\n          <div class=\"wrapper\">\r\n            <span class=\"config-tag\">Emotion</span>\r\n            <div class=\"config-radio\">\r\n              <div v-for=\"item in tendencies\" :key=\"item\">\r\n                <input\r\n                  type=\"radio\"\r\n                  :value=\"item\"\r\n                  :id=\"'mode-' + item[0]\"\r\n                  v-model=\"tendency\"\r\n                />\r\n                <label :for=\"'mode-' + item[0]\">\r\n                  {{ item }}\r\n                </label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"wrapper\">\r\n            <span class=\"config-tag\">Animation Scheme</span>\r\n            <select name=\"emotion-select\" v-model=\"animationMode\">\r\n              <option\r\n                v-for=\"item in animationModes\"\r\n                v-bind:key=\"item\"\r\n                v-bind:value=\"item\"\r\n              >\r\n                {{ item }}\r\n              </option>\r\n            </select>\r\n          </div>\r\n          <br />\r\n          <div class=\"slider-wrapper\">\r\n            <Slider\r\n              init=\"0.5\"\r\n              step=\"0.05\"\r\n              label=\"Speed\"\r\n              className=\"speed\"\r\n              :callback=\"speedCallback\"\r\n            ></Slider>\r\n          </div>\r\n          <div class=\"slider-wrapper\">\r\n            <Slider\r\n              init=\"0.5\"\r\n              step=\"0.05\"\r\n              label=\"Entropy\"\r\n              className=\"entropy\"\r\n              :callback=\"entropyCallback\"\r\n            ></Slider>\r\n          </div>\r\n          <br />\r\n          <div class=\"wrapper-mid row\">\r\n            <div class=\"col-4\">\r\n              <i\r\n                id=\"pauseButton\"\r\n                @click=\"pause()\"\r\n                class=\"fas fa-pause-circle lg light\"\r\n              ></i>\r\n            </div>\r\n            <div class=\"col-4\">\r\n              <i\r\n                id=\"playButton\"\r\n                @click=\"play()\"\r\n                class=\"fas fa-play-circle active lg light\"\r\n              ></i>\r\n            </div>\r\n            <div class=\"col-4\">\r\n              <i\r\n                id=\"replayButton\"\r\n                @click=\"replay()\"\r\n                class=\"fas fa-arrow-circle-left lg light\"\r\n              ></i>\r\n            </div>\r\n          </div>\r\n          <br />\r\n          <button type=\"button\" class=\"button\" @click=\"getGif\">\r\n            <i class=\"fas fa-check light\"></i>\r\n            <span class=\"code\">&nbsp;&nbsp;Generate</span>\r\n          </button>\r\n          <!-- <button type=\"button\" class=\"button\" @click=\"showGroup\">\r\n            <i class=\"fas fa-search light\"></i>\r\n            <span class=\"code\">&nbsp;&nbsp;Config</span>\r\n          </button> -->\r\n        </div>\r\n      </div>\r\n      <div class=\"col-10\">\r\n        <svg\r\n          id=\"emordle-svg\"\r\n          :height=\"styleScheme.height * zoomLevel\"\r\n          :width=\"styleScheme.width\"\r\n          :viewBox=\"\r\n            `${0} ${(-styleScheme.height * (1 - zoomLevel)) / 2} ${\r\n              styleScheme.width\r\n            } ${styleScheme.height}`\r\n          \"\r\n          preserveAspectRatio=\"xMidYMid meet\"\r\n        ></svg>\r\n        <canvas\r\n          id=\"emordle-canvas\"\r\n          :height=\"styleScheme.height * zoomLevel\"\r\n          :width=\"styleScheme.width\"\r\n        >\r\n        </canvas>\r\n        <div class=\"group-configs\">\r\n          <div\r\n            v-for=\"(item, index) in groups\"\r\n            v-bind:key=\"item\"\r\n            v-bind:class=\"`group-config group_config_${index}`\"\r\n          >\r\n            <GroupPanel\r\n              :group=\"item\"\r\n              :font=\"font\"\r\n              :groupIndex=\"index\"\r\n            ></GroupPanel>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script lang=\"ts\">\r\n/* eslint-disable */\r\nimport { Options, Vue } from \"vue-class-component\";\r\nimport { Prop, Watch } from \"vue-property-decorator\";\r\nimport { createColorPicker } from \"@/assets/color-picker\";\r\nimport Slider from \"@/components/ui/Slider.vue\";\r\nimport GroupPanel from \"@/components/GroupPanel.vue\";\r\nimport { Dataset, Word, EmotionMode, Mode, Style, GroupManagerConfig } from \"@/assets/types\";\r\nimport * as ColorPreset from \"@/assets/color-preset\";\r\nimport * as d3 from \"d3\";\r\nimport * as dsv from \"d3-dsv\";\r\nimport { FontConfig } from \"@/assets/variable-font\";\r\nimport { PlotHandler } from \"@/assets/plot\";\r\nimport { WordleAnimator } from \"@/assets/animator\";\r\n\r\n@Options({\r\n  components: {\r\n    Slider,\r\n    GroupPanel,\r\n  },\r\n})\r\nexport default class Interface extends Vue {\r\n  public wordleData: Dataset | null = null;\r\n  public collection: Dataset[] = [];\r\n  public fileReader = new FileReader();\r\n  public zoomLevel: number = 0.8;\r\n  public uploadFilename: string = \"\";\r\n  public font = new FontConfig();\r\n  public duration: number = 5000;\r\n  public speed: number = 0.5;\r\n  public entropy: number = 0.5;\r\n  public customColor = \"#000000\";\r\n  public animator: null | WordleAnimator = null;\r\n  public extent: number = 0.5;\r\n  public tendencies: Array<EmotionMode> = [EmotionMode.positive, EmotionMode.negative];\r\n  public tendency: EmotionMode = EmotionMode.positive\r\n  public animationModes: Array<Mode> = [Mode.split, Mode.dance, Mode.wave, Mode.swing]\r\n  public animationMode: Mode = Mode.swing\r\n  get groups() {\r\n    if (!this.animator) return [] as Array<GroupManagerConfig>;\r\n    return this.animator.groupManagers;\r\n  }\r\n  get styleScheme() {\r\n    return {\r\n      fontStyle: \"regular\",\r\n      fontWeight: \"400\",\r\n      fontFamily: this.font.name,\r\n      height: 520,\r\n      width: 780,\r\n      font: this.font,\r\n    };\r\n  }\r\n  public plotHandler: undefined | PlotHandler = undefined;\r\n  mounted() {\r\n    this.fileReader.addEventListener(\"load\", this.parseFile, false);\r\n    //let fileNames = [\"2020_search\", \"xmas\", \"xmas-emoji\", \"thx\", \"Poe\", \"creep\", \"creep_emoji\", \"creep_mask\"]\r\n    let fileNames = [\"ingredients\", \"thx\", \"colored_ingredients\"];\r\n    let tasks = fileNames.map((tag: string) =>\r\n      d3.json(`./dataset/layout/layout_${tag}.json`)\r\n    );\r\n    Promise.all(tasks).then((dataList: any) => {\r\n      this.collection = dataList.map((data: Word[], idx: number) => {\r\n        return {\r\n          tag: fileNames[idx],\r\n          data: data,\r\n        };\r\n      });\r\n      this.wordleData = this.collection[0];\r\n      d3.select(\"#dataset\")\r\n        .selectAll(\"option\")\r\n        .property(\"selected\", \"false\")\r\n        .filter((v: any) => v[\"data-tag\"] == this.collection[0].tag)\r\n        .property(\"selected\", true);\r\n    });\r\n  }\r\n  @Watch(\"wordleData\")\r\n  wordleDataChanged() {\r\n    if (!this.wordleData) return;\r\n    let copy = this.wordleData.data.map((v) => Object.assign({}, v))\r\n    if(!('color' in copy[0])) copy = assignColor(copy)\r\n    this.font.update({name: copy[0].font})\r\n    this.plotHandler = new PlotHandler(\r\n      \"emordle-canvas\",\r\n      \"emordle-svg\",\r\n      this.styleScheme,\r\n      true\r\n    );\r\n    if(this.animator) this.animator!.stop();\r\n    this.animator = new WordleAnimator({\r\n      data: copy,\r\n      duration: this.duration,\r\n      plotHandler: this.plotHandler,\r\n      mode: this.animationMode\r\n    });\r\n    this.animator.play();\r\n  }\r\n  @Watch(\"animationMode\")\r\n  aniModeChanged() {\r\n    if(!this.wordleData) return\r\n    this.animator!.update('mode', this.animationMode)\r\n    this.animator!.reset()\r\n    this.animator!.play()\r\n  }\r\n  speedCallback(v: string) {\r\n    if (!this.wordleData) return;\r\n    const pv = parseFloat(v);\r\n    this.speed = pv;\r\n    this.animator!.speed = pv;\r\n    this.animator?.reset();\r\n    this.animator!.play();\r\n  }\r\n  entropyCallback(v: string) {\r\n    if (!this.wordleData) return;\r\n    const pv = parseFloat(v);\r\n    this.entropy = pv;\r\n    this.animator!.entropy = pv;\r\n    this.animator!.reset();\r\n    this.animator!.play();\r\n  }\r\n  handleUpload(event: any) {\r\n    let file = event.target.files[0];\r\n    if (!file) return;\r\n    this.fileReader.readAsText(file);\r\n    this.uploadFilename = file.name.split('.').slice(0, -1).join('.')\r\n    this.collection.forEach((dataset: Dataset) => {\r\n      if (dataset.tag == this.uploadFilename) {\r\n        this.uploadFilename +=\r\n          Math.random().toString() + Math.random.toString();\r\n      }\r\n    });\r\n  }\r\n  showGroup() {\r\n    let ele = \".group-configs\";\r\n    let state = !d3.select(ele).classed(\"active\");\r\n    d3.select(ele).classed(\"active\", state);\r\n    console.log(state);\r\n  }\r\n  pause() {\r\n    let ele = \"#pauseButton\";\r\n    let state = !d3.select(ele).classed(\"active\");\r\n    d3.select(ele).classed(\"active\", state);\r\n    d3.select(\"#playButton\").classed(\"active\", !state);\r\n    if (!this.animator) return;\r\n    this.animator.stop();\r\n  }\r\n  play() {\r\n    let ele = \"#playButton\";\r\n    let state = !d3.select(ele).classed(\"active\");\r\n    d3.select(ele).classed(\"active\", state);\r\n    d3.select(\"#pauseButton\").classed(\"active\", !state);\r\n    if (!this.animator) return;\r\n    this.animator.stop();\r\n  }\r\n  replay() {\r\n    if (!this.animator) return;\r\n    this.animator.play();\r\n  }\r\n  parseFile() {\r\n    let res = this.fileReader.result;\r\n    if (!res || typeof res !== \"string\") return;\r\n    console.log(this.fileReader)\r\n    let data = JSON.parse(res)\r\n    let dataset = {\r\n      data: data,\r\n      tag: this.uploadFilename,\r\n    };\r\n    this.collection.push(dataset);\r\n    d3.select(\"#dataset\").property(\"value\", dataset);\r\n    this.wordleData = dataset;\r\n  }\r\n  downloadGif() {\r\n    if (!this.animator) return;\r\n    this.animator.createGif().play({ gifFlag: true });\r\n  }\r\n  downloadJson() {\r\n    if (!this.wordleData) return;\r\n    const a = document.createElement(\"a\");\r\n    a.href = URL.createObjectURL(\r\n      new Blob([JSON.stringify(this.wordleData.data)], { type: `text/json` })\r\n    );\r\n    a.download = `layout_${this.wordleData.tag}.json`;\r\n    a.click();\r\n    a.remove();\r\n  }\r\n  openFile() {\r\n    document.getElementById(\"wordleUpload\")!.click();\r\n  }\r\n}\r\nlet assignColor = function (words: Word[]) {\r\n  words.forEach((word: Word, idx: number) => {\r\n    word.color = \"black\";\r\n  });\r\n  return words;\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\n@import \"@/assets/scss/_ui.scss\";\r\n.group-configs {\r\n  visibility: hidden;\r\n  display: none;\r\n  // display: flex;\r\n    &.active {\r\n    visibility: visible;\r\n    flex-wrap: wrap; /* | wrap-reverse;*/\r\n    -webkit-flex-wrap: wrap;\r\n  }\r\n  .group-config {\r\n    width: fit-content;\r\n    margin: 1vh 1vw;\r\n  }\r\n}\r\n</style>","/* eslint-disable */\r\n<template>\r\n  <div class=\"groupConfig\">\r\n    <div class=\"word-group-div\">\r\n      <span v-for=\"item in wordContent\" v-bind:key=\"item\" class=\"word-content\">\r\n        {{ item }}\r\n      </span>\r\n    </div>\r\n    <div class=\"color-set\">\r\n      <div class=\"group-color\">\r\n        <div\r\n          v-for=\"(item, index) in colorScheme\"\r\n          v-bind:key=\"item\"\r\n          :id=\"`color_${groupIndex}_${index}`\"\r\n          class=\"color-block\"\r\n        ></div>\r\n      </div>\r\n    </div>\r\n    <div class=\"sliders\">\r\n      <div class=\"slider-wrapper\">\r\n        <Slider\r\n          max=\"8000\"\r\n          min=\"1000\"\r\n          init=\"5000\"\r\n          step=\"500\"\r\n          label=\"Speed\"\r\n          className=\"duration\"\r\n          :callback=\"durationCallback\"\r\n        ></Slider>\r\n      </div>\r\n      <div class=\"slider-wrapper\">\r\n        <Slider\r\n          max=\"8000\"\r\n          min=\"1000\"\r\n          init=\"5000\"\r\n          step=\"500\"\r\n          label=\"Delay\"\r\n          className=\"delay\"\r\n          :callback=\"delayCallback\"\r\n        ></Slider>\r\n      </div>\r\n      <!-- <div class=\"slider-wrapper\">\r\n        <Slider\r\n          label=\"f: widh\"\r\n          className=\"widh\"\r\n          :callback=\"widhCallback\"\r\n        ></Slider>\r\n      </div>\r\n      <div class=\"slider-wrapper\">\r\n        <Slider\r\n          label=\"f: wght\"\r\n          className=\"wght\"\r\n          :callback=\"wghtCallback\"\r\n        ></Slider>\r\n      </div>\r\n      <div class=\"slider-wrapper\">\r\n        <Slider\r\n          label=\"f: ital\"\r\n          className=\"ital\"\r\n          :callback=\"italCallback\"\r\n        ></Slider>\r\n      </div> -->\r\n      <div class=\"keyframes\">\r\n        <KeyframeList :keyframes=\"keyframes\" :groupIndex=\"groupIndex\"></KeyframeList>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script lang=\"ts\">\r\n/* eslint-disable */\r\nimport { Prop, Watch } from \"vue-property-decorator\";\r\nimport { Options, Vue } from \"vue-class-component\";\r\nimport Slider from \"@/components/ui/Slider.vue\";\r\nimport KeyframeList from \"@/components/KeyframeList.vue\";\r\nimport * as d3 from \"d3\";\r\nimport * as ColorPreset from \"@/assets/color-preset\";\r\nimport { createColorPicker } from \"@/assets/color-picker\";\r\nimport { FontConfig } from \"@/assets/variable-font\";\r\nimport { KeyframeConfig, GroupManagerConfig, Word } from \"@/assets/types\";\r\nimport { GroupManager } from \"@/assets/animator\"\r\n@Options({\r\n  components: {\r\n    Slider,\r\n    KeyframeList\r\n  },\r\n})\r\nexport default class GroupPanel extends Vue {\r\n  @Prop({}) public group: GroupManagerConfig = new GroupManager({})\r\n  @Prop({}) public font: FontConfig = new FontConfig()\r\n  @Prop({}) public groupIndex: number = 0\r\n  private colorScheme: Array<string> = ColorPreset.exciting\r\n  private delay: number = 0\r\n  private duration: number = 2000\r\n  get wordContent(): Array<string> {\r\n    if(!this.group) return []\r\n    return this.group.words.map((v: Word) => v.text || \"\")\r\n  }\r\n  get keyframes(): Array<KeyframeConfig> {\r\n    if(!this.group) return []\r\n    return this.group.keyFrames\r\n  }\r\n  created() { \r\n    \r\n  }\r\n  mounted() {\r\n    // let colors = this.colorScheme\r\n    //  this.colorScheme.forEach((c, idx) => {\r\n    //   createColorPicker(c, colors, `#color_${this.groupIndex}_${idx}`)\r\n    // })\r\n  }\r\n  @Watch(\"group\")\r\n  public groupChanged(val: GroupManagerConfig): void {\r\n    console.log(val, 'nonono')\r\n     let colors = this.colorScheme\r\n     this.colorScheme.forEach((c, idx) => {\r\n      createColorPicker(c, colors, `#color_${this.groupIndex}_${idx}`)\r\n    })\r\n  }\r\n  wghtCallback(v: number) {\r\n    this.font.setValWithRatio(\"weight\", v);\r\n  }\r\n  italCallback(v: number) {\r\n    this.font.setValWithRatio(\"italic\", v);\r\n  }\r\n  widhCallback(v: number) {\r\n    this.font.setValWithRatio(\"width\", v);\r\n  }\r\n  durationCallback(v: number) {\r\n    this.duration = v;\r\n  }\r\n  delayCallback(v: number) {\r\n    this.delay = v;\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n$deep-gray: #343a40;\r\n$gray: #c0c0c0;\r\n$light-gray: #f8f9fa;\r\n.group-color {\r\n  display: flex;\r\n}\r\n.groupConfig {\r\n  border: $gray solid 1px;\r\n  border-radius: 5px;\r\n  padding: 10px;\r\n  width: 20vw;\r\n  .pickr {\r\n    flex-wrap: wrap;\r\n    -webkit-flex-wrap: wrap;\r\n    margin-left: 2px;\r\n  }\r\n  .sliders {\r\n    width: 100%;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    -webkit-flex-wrap: wrap;\r\n    align-items: center;\r\n    justify-content: center;\r\n    .slider-wrapper {\r\n      width: 48%;\r\n      margin: 0 0.3vw 0 0;\r\n    }\r\n  }\r\n  .word-group-div {\r\n    line-height: 0.8;\r\n    // display: none;\r\n    .word-content {\r\n      margin-left: .2em;\r\n      padding: 0.1em 0.1em;\r\n      color: $deep-gray;\r\n      background-color: $light-gray;\r\n      display: inline-block;\r\n      font-size: .75em;\r\n      font-weight: 700;\r\n      line-height: 1;\r\n      text-align: center;\r\n      white-space: nowrap;\r\n      vertical-align: baseline;\r\n      border-radius: .25rem;\r\n    }\r\n  }\r\n}\r\n</style>","/* eslint-disable */\r\n<template>\r\n  <div class=\"keyframe-configs\">\r\n    <svg :class=\"`stage-overview stage_overview_${groupIndex}`\">\r\n    </svg>\r\n      <div v-for=\"kf in keyframes\" v-bind:key=\"kf\" class=\"keyframe-config\">\r\n      <span></span>\r\n      <span> {{ kf.scale }} </span>\r\n      <span></span>\r\n      <span>{{ kf.xoff }}</span>\r\n      <span></span>\r\n      <span>{{ kf.yoff }}</span>\r\n      <span></span>\r\n      <span>{{ `${kf.rotate}` }}</span>\r\n      <span>&nbsp;<button class=\"color-btn\" :style=\"{ 'background-color': kf.color }\"></button> </span>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script lang=\"ts\">\r\n/* eslint-disable */\r\nimport { Prop, Watch } from \"vue-property-decorator\";\r\nimport { Vue } from \"vue-class-component\";\r\nimport * as d3 from \"d3\";\r\nimport * as d3Scale from \"d3-scale\";\r\nimport * as ColorPreset from \"@/assets/color-preset\";\r\nimport { createColorPicker } from \"@/assets/color-picker\";\r\nimport { FontConfig } from \"@/assets/variable-font\";\r\nimport { KeyframeConfig } from \"@/assets/types\";\r\nconst xPadding = 0.08;\r\nconst yPadding = 0.1;\r\nexport default class KeyframeList extends Vue {\r\n  @Prop({}) public keyframes: Array<KeyframeConfig> = [] as Array<KeyframeConfig>\r\n  @Prop({}) public groupIndex: number = 0\r\n  created() {\r\n  }\r\n  mounted() {\r\n    let svgEle = d3.select('.stage-overview').node() as SVGElement\r\n    let svgWidth = svgEle.getBoundingClientRect().width\r\n    let svgHeight = svgEle.getBoundingClientRect().height\r\n    let scale = d3Scale.scaleLinear().range([0, svgWidth * (1-2*xPadding)]).domain([0,100])\r\n    let invertScale = scale.invert\r\n    let gap = svgWidth * (1 - 2 * xPadding) / this.keyframes.length * 0.9\r\n    for (let i = 1; i < this.keyframes.length; i ++) {\r\n      gap = Math.min((this.keyframes[i].stage - this.keyframes[i-1].stage) * 0.9, gap) \r\n    }\r\n    let svg = d3.select(`.stage_overview_${this.groupIndex}`)\r\n    let containers = svg.append('g')\r\n      .attr('transform', `translate(${svgWidth * xPadding}, 0)`)\r\n      .selectAll('circle')\r\n      .data(this.keyframes)\r\n      .enter()\r\n      .append('g')\r\n      .attr('transform', d => `translate(${scale(d.stage)}, 0)`)\r\n      .classed('stage-hint', true )\r\n    containers.append('rect')\r\n      .classed('overlay-rect', true)\r\n      .attr('x', - gap / 2)\r\n      .attr('y', 0)\r\n      .attr('width', gap)\r\n      .attr('height', svgHeight)\r\n      .on('mouseover', function(this: any, e: any, d: any) {\r\n        d3.select(this.parentNode!).select('text').classed('active', true)\r\n\r\n      })\r\n      .on('mouseout', function(this: any, e: any, d: any) {\r\n        d3.select(this.parentNode).select('text').classed('active', false)\r\n      })\r\n    containers.append('circle')\r\n      .classed('stage-point', true)\r\n      .attr('cx', 0)\r\n      .attr('cy', svgHeight / 2)\r\n      .attr('r', 3)\r\n    containers.append('text')\r\n      .classed('annotation', true)\r\n      .attr('y', svgHeight / 4)\r\n      .text(d => `${Number(d.stage/100).toPrecision(4).substring(1, 4)}`)\r\n\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n.color-btn {\r\n  width: .8rem;\r\n  height: .8rem;\r\n  border-radius: 1.6rem;\r\n  text-size: x-small;\r\n}\r\n.keyframe-configs {\r\n  width:100%;\r\n  font-size: x-small;\r\n  svg {\r\n    width: 100%;\r\n    height: 10vh;\r\n  }\r\n  .keyframe-config {\r\n    span {\r\n      margin-left: 0.2rem;\r\n    }\r\n  }\r\n}\r\n.overlay-rect {\r\n    fill: white;\r\n    opacity: 0;\r\n}\r\n.stage-point {\r\n  fill: steelblue;\r\n}\r\n.annotation {\r\n  fill: black;\r\n  text-anchor: middle;\r\n  font-size: 10px;\r\n  visibility: hidden;\r\n  &.active {\r\n    visibility: visible;\r\n  }\r\n}\r\n</style>","\r\n/* eslint-disable */\r\nimport { Prop, Watch } from \"vue-property-decorator\";\r\nimport { Vue } from \"vue-class-component\";\r\nimport * as d3 from \"d3\";\r\nimport * as d3Scale from \"d3-scale\";\r\nimport * as ColorPreset from \"@/assets/color-preset\";\r\nimport { createColorPicker } from \"@/assets/color-picker\";\r\nimport { FontConfig } from \"@/assets/variable-font\";\r\nimport { KeyframeConfig } from \"@/assets/types\";\r\nconst xPadding = 0.08;\r\nconst yPadding = 0.1;\r\nexport default class KeyframeList extends Vue {\r\n  @Prop({}) public keyframes: Array<KeyframeConfig> = [] as Array<KeyframeConfig>\r\n  @Prop({}) public groupIndex: number = 0\r\n  created() {\r\n  }\r\n  mounted() {\r\n    let svgEle = d3.select('.stage-overview').node() as SVGElement\r\n    let svgWidth = svgEle.getBoundingClientRect().width\r\n    let svgHeight = svgEle.getBoundingClientRect().height\r\n    let scale = d3Scale.scaleLinear().range([0, svgWidth * (1-2*xPadding)]).domain([0,100])\r\n    let invertScale = scale.invert\r\n    let gap = svgWidth * (1 - 2 * xPadding) / this.keyframes.length * 0.9\r\n    for (let i = 1; i < this.keyframes.length; i ++) {\r\n      gap = Math.min((this.keyframes[i].stage - this.keyframes[i-1].stage) * 0.9, gap) \r\n    }\r\n    let svg = d3.select(`.stage_overview_${this.groupIndex}`)\r\n    let containers = svg.append('g')\r\n      .attr('transform', `translate(${svgWidth * xPadding}, 0)`)\r\n      .selectAll('circle')\r\n      .data(this.keyframes)\r\n      .enter()\r\n      .append('g')\r\n      .attr('transform', d => `translate(${scale(d.stage)}, 0)`)\r\n      .classed('stage-hint', true )\r\n    containers.append('rect')\r\n      .classed('overlay-rect', true)\r\n      .attr('x', - gap / 2)\r\n      .attr('y', 0)\r\n      .attr('width', gap)\r\n      .attr('height', svgHeight)\r\n      .on('mouseover', function(this: any, e: any, d: any) {\r\n        d3.select(this.parentNode!).select('text').classed('active', true)\r\n\r\n      })\r\n      .on('mouseout', function(this: any, e: any, d: any) {\r\n        d3.select(this.parentNode).select('text').classed('active', false)\r\n      })\r\n    containers.append('circle')\r\n      .classed('stage-point', true)\r\n      .attr('cx', 0)\r\n      .attr('cy', svgHeight / 2)\r\n      .attr('r', 3)\r\n    containers.append('text')\r\n      .classed('annotation', true)\r\n      .attr('y', svgHeight / 4)\r\n      .text(d => `${Number(d.stage/100).toPrecision(4).substring(1, 4)}`)\r\n\r\n  }\r\n}\r\n","import { render } from \"./KeyframeList.vue?vue&type=template&id=456474e6\"\nimport script from \"./KeyframeList.vue?vue&type=script&lang=ts\"\nexport * from \"./KeyframeList.vue?vue&type=script&lang=ts\"\n\nimport \"./KeyframeList.vue?vue&type=style&index=0&id=456474e6&lang=scss\"\nscript.render = render\n\nexport default script","/* eslint-disable */\r\n/**\r\n * doc comment for color-picker.ts.\r\n * create a color picker.\r\n * @packageDocumentation\r\n */\r\nimport Pickr from \"@simonwep/pickr\"\r\nimport { rainbow } from \"@/assets/color-preset\"\r\nlet swatches = rainbow\r\nlet createColorPicker = function (defaultColor: string, colorList:Array<string> = swatches, identifier: string = '.color-picker') {\r\n    const pickr = Pickr.create({\r\n        el: identifier,\r\n        theme: 'nano',\r\n        swatches: colorList,\r\n        default: defaultColor,\r\n        components: {\r\n            // Main components\r\n            preview: true,\r\n            opacity: true,\r\n            hue: true,\r\n            // Input / output Options\r\n            interaction: {\r\n                hex: true,\r\n                rgba: true,\r\n                hsla: true,\r\n                hsva: true,\r\n                cmyk: true,\r\n                input: true,\r\n                clear: true,\r\n                save: true\r\n            }\r\n        }\r\n    })\r\n}\r\n\r\n\r\nexport {\r\n    createColorPicker\r\n}","\r\n/* eslint-disable */\r\nimport { Prop, Watch } from \"vue-property-decorator\";\r\nimport { Options, Vue } from \"vue-class-component\";\r\nimport Slider from \"@/components/ui/Slider.vue\";\r\nimport KeyframeList from \"@/components/KeyframeList.vue\";\r\nimport * as d3 from \"d3\";\r\nimport * as ColorPreset from \"@/assets/color-preset\";\r\nimport { createColorPicker } from \"@/assets/color-picker\";\r\nimport { FontConfig } from \"@/assets/variable-font\";\r\nimport { KeyframeConfig, GroupManagerConfig, Word } from \"@/assets/types\";\r\nimport { GroupManager } from \"@/assets/animator\"\r\n@Options({\r\n  components: {\r\n    Slider,\r\n    KeyframeList\r\n  },\r\n})\r\nexport default class GroupPanel extends Vue {\r\n  @Prop({}) public group: GroupManagerConfig = new GroupManager({})\r\n  @Prop({}) public font: FontConfig = new FontConfig()\r\n  @Prop({}) public groupIndex: number = 0\r\n  private colorScheme: Array<string> = ColorPreset.exciting\r\n  private delay: number = 0\r\n  private duration: number = 2000\r\n  get wordContent(): Array<string> {\r\n    if(!this.group) return []\r\n    return this.group.words.map((v: Word) => v.text || \"\")\r\n  }\r\n  get keyframes(): Array<KeyframeConfig> {\r\n    if(!this.group) return []\r\n    return this.group.keyFrames\r\n  }\r\n  created() { \r\n    \r\n  }\r\n  mounted() {\r\n    // let colors = this.colorScheme\r\n    //  this.colorScheme.forEach((c, idx) => {\r\n    //   createColorPicker(c, colors, `#color_${this.groupIndex}_${idx}`)\r\n    // })\r\n  }\r\n  @Watch(\"group\")\r\n  public groupChanged(val: GroupManagerConfig): void {\r\n    console.log(val, 'nonono')\r\n     let colors = this.colorScheme\r\n     this.colorScheme.forEach((c, idx) => {\r\n      createColorPicker(c, colors, `#color_${this.groupIndex}_${idx}`)\r\n    })\r\n  }\r\n  wghtCallback(v: number) {\r\n    this.font.setValWithRatio(\"weight\", v);\r\n  }\r\n  italCallback(v: number) {\r\n    this.font.setValWithRatio(\"italic\", v);\r\n  }\r\n  widhCallback(v: number) {\r\n    this.font.setValWithRatio(\"width\", v);\r\n  }\r\n  durationCallback(v: number) {\r\n    this.duration = v;\r\n  }\r\n  delayCallback(v: number) {\r\n    this.delay = v;\r\n  }\r\n}\r\n","import { render } from \"./GroupPanel.vue?vue&type=template&id=06031fd4&scoped=true\"\nimport script from \"./GroupPanel.vue?vue&type=script&lang=ts\"\nexport * from \"./GroupPanel.vue?vue&type=script&lang=ts\"\n\nimport \"./GroupPanel.vue?vue&type=style&index=0&id=06031fd4&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-06031fd4\"\n\nexport default script","\r\n/* eslint-disable */\r\nimport { Options, Vue } from \"vue-class-component\";\r\nimport { Prop, Watch } from \"vue-property-decorator\";\r\nimport { createColorPicker } from \"@/assets/color-picker\";\r\nimport Slider from \"@/components/ui/Slider.vue\";\r\nimport GroupPanel from \"@/components/GroupPanel.vue\";\r\nimport { Dataset, Word, EmotionMode, Mode, Style, GroupManagerConfig } from \"@/assets/types\";\r\nimport * as ColorPreset from \"@/assets/color-preset\";\r\nimport * as d3 from \"d3\";\r\nimport * as dsv from \"d3-dsv\";\r\nimport { FontConfig } from \"@/assets/variable-font\";\r\nimport { PlotHandler } from \"@/assets/plot\";\r\nimport { WordleAnimator } from \"@/assets/animator\";\r\n\r\n@Options({\r\n  components: {\r\n    Slider,\r\n    GroupPanel,\r\n  },\r\n})\r\nexport default class Interface extends Vue {\r\n  public wordleData: Dataset | null = null;\r\n  public collection: Dataset[] = [];\r\n  public fileReader = new FileReader();\r\n  public zoomLevel: number = 0.8;\r\n  public uploadFilename: string = \"\";\r\n  public font = new FontConfig();\r\n  public duration: number = 5000;\r\n  public speed: number = 0.5;\r\n  public entropy: number = 0.5;\r\n  public customColor = \"#000000\";\r\n  public animator: null | WordleAnimator = null;\r\n  public extent: number = 0.5;\r\n  public tendencies: Array<EmotionMode> = [EmotionMode.positive, EmotionMode.negative];\r\n  public tendency: EmotionMode = EmotionMode.positive\r\n  public animationModes: Array<Mode> = [Mode.split, Mode.dance, Mode.wave, Mode.swing]\r\n  public animationMode: Mode = Mode.swing\r\n  get groups() {\r\n    if (!this.animator) return [] as Array<GroupManagerConfig>;\r\n    return this.animator.groupManagers;\r\n  }\r\n  get styleScheme() {\r\n    return {\r\n      fontStyle: \"regular\",\r\n      fontWeight: \"400\",\r\n      fontFamily: this.font.name,\r\n      height: 520,\r\n      width: 780,\r\n      font: this.font,\r\n    };\r\n  }\r\n  public plotHandler: undefined | PlotHandler = undefined;\r\n  mounted() {\r\n    this.fileReader.addEventListener(\"load\", this.parseFile, false);\r\n    //let fileNames = [\"2020_search\", \"xmas\", \"xmas-emoji\", \"thx\", \"Poe\", \"creep\", \"creep_emoji\", \"creep_mask\"]\r\n    let fileNames = [\"ingredients\", \"thx\", \"colored_ingredients\"];\r\n    let tasks = fileNames.map((tag: string) =>\r\n      d3.json(`./dataset/layout/layout_${tag}.json`)\r\n    );\r\n    Promise.all(tasks).then((dataList: any) => {\r\n      this.collection = dataList.map((data: Word[], idx: number) => {\r\n        return {\r\n          tag: fileNames[idx],\r\n          data: data,\r\n        };\r\n      });\r\n      this.wordleData = this.collection[0];\r\n      d3.select(\"#dataset\")\r\n        .selectAll(\"option\")\r\n        .property(\"selected\", \"false\")\r\n        .filter((v: any) => v[\"data-tag\"] == this.collection[0].tag)\r\n        .property(\"selected\", true);\r\n    });\r\n  }\r\n  @Watch(\"wordleData\")\r\n  wordleDataChanged() {\r\n    if (!this.wordleData) return;\r\n    let copy = this.wordleData.data.map((v) => Object.assign({}, v))\r\n    if(!('color' in copy[0])) copy = assignColor(copy)\r\n    this.font.update({name: copy[0].font})\r\n    this.plotHandler = new PlotHandler(\r\n      \"emordle-canvas\",\r\n      \"emordle-svg\",\r\n      this.styleScheme,\r\n      true\r\n    );\r\n    if(this.animator) this.animator!.stop();\r\n    this.animator = new WordleAnimator({\r\n      data: copy,\r\n      duration: this.duration,\r\n      plotHandler: this.plotHandler,\r\n      mode: this.animationMode\r\n    });\r\n    this.animator.play();\r\n  }\r\n  @Watch(\"animationMode\")\r\n  aniModeChanged() {\r\n    if(!this.wordleData) return\r\n    this.animator!.update('mode', this.animationMode)\r\n    this.animator!.reset()\r\n    this.animator!.play()\r\n  }\r\n  speedCallback(v: string) {\r\n    if (!this.wordleData) return;\r\n    const pv = parseFloat(v);\r\n    this.speed = pv;\r\n    this.animator!.speed = pv;\r\n    this.animator?.reset();\r\n    this.animator!.play();\r\n  }\r\n  entropyCallback(v: string) {\r\n    if (!this.wordleData) return;\r\n    const pv = parseFloat(v);\r\n    this.entropy = pv;\r\n    this.animator!.entropy = pv;\r\n    this.animator!.reset();\r\n    this.animator!.play();\r\n  }\r\n  handleUpload(event: any) {\r\n    let file = event.target.files[0];\r\n    if (!file) return;\r\n    this.fileReader.readAsText(file);\r\n    this.uploadFilename = file.name.split('.').slice(0, -1).join('.')\r\n    this.collection.forEach((dataset: Dataset) => {\r\n      if (dataset.tag == this.uploadFilename) {\r\n        this.uploadFilename +=\r\n          Math.random().toString() + Math.random.toString();\r\n      }\r\n    });\r\n  }\r\n  showGroup() {\r\n    let ele = \".group-configs\";\r\n    let state = !d3.select(ele).classed(\"active\");\r\n    d3.select(ele).classed(\"active\", state);\r\n    console.log(state);\r\n  }\r\n  pause() {\r\n    let ele = \"#pauseButton\";\r\n    let state = !d3.select(ele).classed(\"active\");\r\n    d3.select(ele).classed(\"active\", state);\r\n    d3.select(\"#playButton\").classed(\"active\", !state);\r\n    if (!this.animator) return;\r\n    this.animator.stop();\r\n  }\r\n  play() {\r\n    let ele = \"#playButton\";\r\n    let state = !d3.select(ele).classed(\"active\");\r\n    d3.select(ele).classed(\"active\", state);\r\n    d3.select(\"#pauseButton\").classed(\"active\", !state);\r\n    if (!this.animator) return;\r\n    this.animator.stop();\r\n  }\r\n  replay() {\r\n    if (!this.animator) return;\r\n    this.animator.play();\r\n  }\r\n  parseFile() {\r\n    let res = this.fileReader.result;\r\n    if (!res || typeof res !== \"string\") return;\r\n    console.log(this.fileReader)\r\n    let data = JSON.parse(res)\r\n    let dataset = {\r\n      data: data,\r\n      tag: this.uploadFilename,\r\n    };\r\n    this.collection.push(dataset);\r\n    d3.select(\"#dataset\").property(\"value\", dataset);\r\n    this.wordleData = dataset;\r\n  }\r\n  downloadGif() {\r\n    if (!this.animator) return;\r\n    this.animator.createGif().play({ gifFlag: true });\r\n  }\r\n  downloadJson() {\r\n    if (!this.wordleData) return;\r\n    const a = document.createElement(\"a\");\r\n    a.href = URL.createObjectURL(\r\n      new Blob([JSON.stringify(this.wordleData.data)], { type: `text/json` })\r\n    );\r\n    a.download = `layout_${this.wordleData.tag}.json`;\r\n    a.click();\r\n    a.remove();\r\n  }\r\n  openFile() {\r\n    document.getElementById(\"wordleUpload\")!.click();\r\n  }\r\n}\r\nlet assignColor = function (words: Word[]) {\r\n  words.forEach((word: Word, idx: number) => {\r\n    word.color = \"black\";\r\n  });\r\n  return words;\r\n};\r\n","import { render } from \"./Playground.vue?vue&type=template&id=054aed58\"\nimport script from \"./Playground.vue?vue&type=script&lang=ts\"\nexport * from \"./Playground.vue?vue&type=script&lang=ts\"\n\nimport \"./Playground.vue?vue&type=style&index=0&id=054aed58&lang=scss\"\nscript.render = render\n\nexport default script","/** @see {@link https://github.com/vuejs/vue-class-component/blob/master/src/reflect.ts} */\nvar reflectMetadataIsSupported = typeof Reflect !== 'undefined' && typeof Reflect.getMetadata !== 'undefined';\nexport function applyMetadata(options, target, key) {\n    if (reflectMetadataIsSupported) {\n        if (!Array.isArray(options) &&\n            typeof options !== 'function' &&\n            !options.hasOwnProperty('type') &&\n            typeof options.type === 'undefined') {\n            var type = Reflect.getMetadata('design:type', target, key);\n            if (type !== Object) {\n                options.type = type;\n            }\n        }\n    }\n}\n","import { createDecorator } from 'vue-class-component';\nimport { applyMetadata } from '../helpers/metadata';\n/**\n * decorator of a prop\n * @param  options the options for the prop\n * @return PropertyDecorator | void\n */\nexport function Prop(options) {\n    if (options === void 0) { options = {}; }\n    return function (target, key) {\n        applyMetadata(options, target, key);\n        createDecorator(function (componentOptions, k) {\n            ;\n            (componentOptions.props || (componentOptions.props = {}))[k] = options;\n        })(target, key);\n    };\n}\n","import { createDecorator } from 'vue-class-component';\n/**\n * decorator of a watch function\n * @param  path the path or the expression to observe\n * @param  WatchOption\n * @return MethodDecorator\n */\nexport function Watch(path, options) {\n    if (options === void 0) { options = {}; }\n    var _a = options.deep, deep = _a === void 0 ? false : _a, _b = options.immediate, immediate = _b === void 0 ? false : _b;\n    return createDecorator(function (componentOptions, handler) {\n        if (typeof componentOptions.watch !== 'object') {\n            componentOptions.watch = Object.create(null);\n        }\n        var watch = componentOptions.watch;\n        if (typeof watch[path] === 'object' && !Array.isArray(watch[path])) {\n            watch[path] = [watch[path]];\n        }\n        else if (typeof watch[path] === 'undefined') {\n            watch[path] = [];\n        }\n        watch[path].push({ handler: handler, deep: deep, immediate: immediate });\n    });\n}\n","<template>\r\n  <div class=\"slider-container\">\r\n    <div class=\"config-tag slider-tag\">\r\n      <span>{{ label }}</span>\r\n      <span v-if=\"showValue\"> &nbsp;&nbsp; {{ value }} </span>\r\n    </div>\r\n    <input\r\n      type=\"range\"\r\n      :class=\"rangeClass\"\r\n      :min=\"min\"\r\n      :max=\"max\"\r\n      :step=\"step\"\r\n      v-model=\"value\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\n/* eslint-disable */\r\nimport { Prop, Watch } from \"vue-property-decorator\";\r\nimport { Vue } from \"vue-class-component\";\r\nimport * as d3 from \"d3\";\r\ntype Callback = (x: number) => void;\r\nexport default class Slider extends Vue {\r\n  @Prop({ default: 0 }) public min: number = 0;\r\n  @Prop({ default: 1 }) public max: number = 1;\r\n  @Prop({ default: 0.1 }) public step: number = 0.1;\r\n  @Prop({ default: (a: number) => {} }) public callback: Callback = (a: number) => {};\r\n  @Prop({ default: \"\" }) public label: string = \"\";\r\n  @Prop({ default: \"slider\" }) public className: string = \"slider\";\r\n  @Prop({ default: 0 }) public init: number = 0;\r\n  @Prop({ default: false }) public showValue: boolean = false\r\n  public value = 0;\r\n  public range = 1;\r\n  get rangeClass(): string {\r\n    return this.className + \" slider\";\r\n  }\r\n  created() {\r\n    this.value = this.init\r\n  }\r\n  @Watch(\"value\")\r\n  public valueChanged(val: number): void {\r\n    this.callback(val);\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n$deep-gray: #aaaeb3;\r\n$gray: #7a7a7a;\r\n$light-gray: #e2e6ea;\r\n$normal: #2c3e50;\r\n.slider-container {\r\n  width: 100%;\r\n  text-align: left;\r\n  margin-top: 2px;\r\n  .slider-tag {\r\n    position: relative;\r\n    // margin-bottom: -2vh;\r\n    color: black;\r\n    span:nth-child(2) {\r\n      position: absolute;\r\n      right: 0;\r\n    }\r\n  }\r\n}\r\n.slider {\r\n  -webkit-appearance: none;\r\n  width: 100%;\r\n  height: 0.8vh;\r\n  border-radius: 0.8vh;\r\n  background: $light-gray;\r\n  outline: none;\r\n  opacity: 0.7;\r\n  -webkit-transition: 0.2s;\r\n  transition: opacity 0.2s;\r\n}\r\n.slider::-webkit-slider-thumb {\r\n  -webkit-appearance: none;\r\n  appearance: none;\r\n  width: 2vh;\r\n  height: 2vh;\r\n  border-radius: 50%;\r\n  background: $deep-gray;\r\n  cursor: pointer;\r\n  &:hover {\r\n      background: $gray;\r\n    }\r\n}\r\n.slider::-moz-range-thumb {\r\n  width: 2vh;\r\n  height: 2vh;\r\n  border-radius: 50%;\r\n  background: $deep-gray;\r\n  cursor: pointer;\r\n}\r\n</style>\r\n","\r\n/* eslint-disable */\r\nimport { Prop, Watch } from \"vue-property-decorator\";\r\nimport { Vue } from \"vue-class-component\";\r\nimport * as d3 from \"d3\";\r\ntype Callback = (x: number) => void;\r\nexport default class Slider extends Vue {\r\n  @Prop({ default: 0 }) public min: number = 0;\r\n  @Prop({ default: 1 }) public max: number = 1;\r\n  @Prop({ default: 0.1 }) public step: number = 0.1;\r\n  @Prop({ default: (a: number) => {} }) public callback: Callback = (a: number) => {};\r\n  @Prop({ default: \"\" }) public label: string = \"\";\r\n  @Prop({ default: \"slider\" }) public className: string = \"slider\";\r\n  @Prop({ default: 0 }) public init: number = 0;\r\n  @Prop({ default: false }) public showValue: boolean = false\r\n  public value = 0;\r\n  public range = 1;\r\n  get rangeClass(): string {\r\n    return this.className + \" slider\";\r\n  }\r\n  created() {\r\n    this.value = this.init\r\n  }\r\n  @Watch(\"value\")\r\n  public valueChanged(val: number): void {\r\n    this.callback(val);\r\n  }\r\n}\r\n","import { render } from \"./Slider.vue?vue&type=template&id=78773d8c&scoped=true\"\nimport script from \"./Slider.vue?vue&type=script&lang=ts\"\nexport * from \"./Slider.vue?vue&type=script&lang=ts\"\n\nimport \"./Slider.vue?vue&type=style&index=0&id=78773d8c&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-78773d8c\"\n\nexport default script","var classof = require('../internals/classof-raw');\n\n// `thisNumberValue` abstract operation\n// https://tc39.github.io/ecma262/#sec-thisnumbervalue\nmodule.exports = function (value) {\n  if (typeof value != 'number' && classof(value) != 'Number') {\n    throw TypeError('Incorrect invocation');\n  }\n  return +value;\n};\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    step = -step;\n    start = Math.ceil(start * step);\n    stop = Math.floor(stop * step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending.js\";\n\nexport default function(f) {\n  let delta = f;\n  let compare = f;\n\n  if (f.length === 1) {\n    delta = (d, x) => f(d) - x;\n    compare = ascendingComparator(f);\n  }\n\n  function left(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    while (lo < hi) {\n      const mid = (lo + hi) >>> 1;\n      if (compare(a[mid], x) < 0) lo = mid + 1;\n      else hi = mid;\n    }\n    return lo;\n  }\n\n  function right(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    while (lo < hi) {\n      const mid = (lo + hi) >>> 1;\n      if (compare(a[mid], x) > 0) hi = mid;\n      else lo = mid + 1;\n    }\n    return lo;\n  }\n\n  function center(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    const i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n\n  return {left, center, right};\n}\n\nfunction ascendingComparator(f) {\n  return (d, x) => ascending(f(d), x);\n}\n","export default function(x) {\n  return x === null ? NaN : +x;\n}\n\nexport function* numbers(values, valueof) {\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  }\n}\n","import ascending from \"./ascending.js\";\nimport bisector from \"./bisector.js\";\nimport number from \"./number.js\";\n\nconst ascendingBisect = bisector(ascending);\nexport const bisectRight = ascendingBisect.right;\nexport const bisectLeft = ascendingBisect.left;\nexport const bisectCenter = bisector(number).center;\nexport default bisectRight;\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n","export default function constants(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function number(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport constant from \"./constant.js\";\nimport number from \"./number.js\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(a, b) {\n  var t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    var n = Math.min(domain.length, range.length);\n    if (clamp !== identity) clamp = clamper(domain[0], domain[n - 1]);\n    piecewise = n > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = Array.from(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? true : identity, rescale()) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous() {\n  return transformer()(identity, identity);\n}\n","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: {\n      if (typeof domain === \"function\") this.interpolator(domain);\n      else this.range(domain);\n      break;\n    }\n    default: {\n      this.domain(domain);\n      if (typeof interpolator === \"function\") this.interpolator(interpolator);\n      else this.range(interpolator);\n      break;\n    }\n  }\n  return this;\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","export default function(x) {\n  return Math.abs(x = Math.round(x)) >= 1e21\n      ? x.toLocaleString(\"en\").replace(/,/g, \"\")\n      : x.toString(10);\n}\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimalParts(1.23) returns [\"123\", 0].\nexport function formatDecimalParts(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimalParts(Math.abs(x)), x ? x[1] : NaN;\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimalParts(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatDecimal from \"./formatDecimal.js\";\nimport formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": (x, p) => (x * 100).toFixed(p),\n  \"b\": (x) => Math.round(x).toString(2),\n  \"c\": (x) => x + \"\",\n  \"d\": formatDecimal,\n  \"e\": (x, p) => x.toExponential(p),\n  \"f\": (x, p) => x.toFixed(p),\n  \"g\": (x, p) => x.toPrecision(p),\n  \"o\": (x) => Math.round(x).toString(8),\n  \"p\": (x, p) => formatRounded(x * 100, p),\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": (x) => Math.round(x).toString(16).toUpperCase(),\n  \"x\": (x) => Math.round(x).toString(16)\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer value part that can be\n        // grouped, and fractional or exponential suffix part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function tickFormat(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport tickFormat from \"./tickFormat.js\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain();\n    var i0 = 0;\n    var i1 = d.length - 1;\n    var start = d[i0];\n    var stop = d[i1];\n    var prestep;\n    var step;\n    var maxIter = 10;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n    \n    while (maxIter-- > 0) {\n      step = tickIncrement(start, stop, count);\n      if (step === prestep) {\n        d[i0] = start\n        d[i1] = stop\n        return domain(d);\n      } else if (step > 0) {\n        start = Math.floor(start / step) * step;\n        stop = Math.ceil(stop / step) * step;\n      } else if (step < 0) {\n        start = Math.ceil(start * step) / step;\n        stop = Math.floor(stop * step) / step;\n      } else {\n        break;\n      }\n      prestep = step;\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous();\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","// a string of all valid unicode whitespaces\n// eslint-disable-next-line max-len\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Playground.vue?vue&type=style&index=0&id=054aed58&lang=scss\"","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof-raw');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar toPrimitive = require('../internals/to-primitive');\nvar fails = require('../internals/fails');\nvar create = require('../internals/object-create');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar trim = require('../internals/string-trim').trim;\n\nvar NUMBER = 'Number';\nvar NativeNumber = global[NUMBER];\nvar NumberPrototype = NativeNumber.prototype;\n\n// Opera ~12 has broken Object#toString\nvar BROKEN_CLASSOF = classof(create(NumberPrototype)) == NUMBER;\n\n// `ToNumber` abstract operation\n// https://tc39.github.io/ecma262/#sec-tonumber\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  var first, third, radix, maxCode, digits, length, index, code;\n  if (typeof it == 'string' && it.length > 2) {\n    it = trim(it);\n    first = it.charCodeAt(0);\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\n        default: return +it;\n      }\n      digits = it.slice(2);\n      length = digits.length;\n      for (index = 0; index < length; index++) {\n        code = digits.charCodeAt(index);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\n// `Number` constructor\n// https://tc39.github.io/ecma262/#sec-number-constructor\nif (isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\n  var NumberWrapper = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var dummy = this;\n    return dummy instanceof NumberWrapper\n      // check on 1..constructor(foo) case\n      && (BROKEN_CLASSOF ? fails(function () { NumberPrototype.valueOf.call(dummy); }) : classof(dummy) != NUMBER)\n        ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);\n  };\n  for (var keys = DESCRIPTORS ? getOwnPropertyNames(NativeNumber) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES2015 (in case, if modules with ES2015 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,' +\n    // ESNext\n    'fromString,range'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(NativeNumber, key = keys[j]) && !has(NumberWrapper, key)) {\n      defineProperty(NumberWrapper, key, getOwnPropertyDescriptor(NativeNumber, key));\n    }\n  }\n  NumberWrapper.prototype = NumberPrototype;\n  NumberPrototype.constructor = NumberWrapper;\n  redefine(global, NUMBER, NumberWrapper);\n}\n","var $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar nativeKeys = require('../internals/object-keys');\nvar fails = require('../internals/fails');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeKeys(1); });\n\n// `Object.keys` method\n// https://tc39.github.io/ecma262/#sec-object.keys\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  keys: function keys(it) {\n    return nativeKeys(toObject(it));\n  }\n});\n","var $ = require('../internals/export');\n\nvar ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `Math.trunc` method\n// https://tc39.github.io/ecma262/#sec-math.trunc\n$({ target: 'Math', stat: true }, {\n  trunc: function trunc(it) {\n    return (it > 0 ? floor : ceil)(it);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar toInteger = require('../internals/to-integer');\nvar thisNumberValue = require('../internals/this-number-value');\nvar repeat = require('../internals/string-repeat');\nvar fails = require('../internals/fails');\n\nvar nativeToFixed = 1.0.toFixed;\nvar floor = Math.floor;\n\nvar pow = function (x, n, acc) {\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\n\nvar log = function (x) {\n  var n = 0;\n  var x2 = x;\n  while (x2 >= 4096) {\n    n += 12;\n    x2 /= 4096;\n  }\n  while (x2 >= 2) {\n    n += 1;\n    x2 /= 2;\n  } return n;\n};\n\nvar FORCED = nativeToFixed && (\n  0.00008.toFixed(3) !== '0.000' ||\n  0.9.toFixed(0) !== '1' ||\n  1.255.toFixed(2) !== '1.25' ||\n  1000000000000000128.0.toFixed(0) !== '1000000000000000128'\n) || !fails(function () {\n  // V8 ~ Android 4.3-\n  nativeToFixed.call({});\n});\n\n// `Number.prototype.toFixed` method\n// https://tc39.github.io/ecma262/#sec-number.prototype.tofixed\n$({ target: 'Number', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line max-statements\n  toFixed: function toFixed(fractionDigits) {\n    var number = thisNumberValue(this);\n    var fractDigits = toInteger(fractionDigits);\n    var data = [0, 0, 0, 0, 0, 0];\n    var sign = '';\n    var result = '0';\n    var e, z, j, k;\n\n    var multiply = function (n, c) {\n      var index = -1;\n      var c2 = c;\n      while (++index < 6) {\n        c2 += n * data[index];\n        data[index] = c2 % 1e7;\n        c2 = floor(c2 / 1e7);\n      }\n    };\n\n    var divide = function (n) {\n      var index = 6;\n      var c = 0;\n      while (--index >= 0) {\n        c += data[index];\n        data[index] = floor(c / n);\n        c = (c % n) * 1e7;\n      }\n    };\n\n    var dataToString = function () {\n      var index = 6;\n      var s = '';\n      while (--index >= 0) {\n        if (s !== '' || index === 0 || data[index] !== 0) {\n          var t = String(data[index]);\n          s = s === '' ? t : s + repeat.call('0', 7 - t.length) + t;\n        }\n      } return s;\n    };\n\n    if (fractDigits < 0 || fractDigits > 20) throw RangeError('Incorrect fraction digits');\n    // eslint-disable-next-line no-self-compare\n    if (number != number) return 'NaN';\n    if (number <= -1e21 || number >= 1e21) return String(number);\n    if (number < 0) {\n      sign = '-';\n      number = -number;\n    }\n    if (number > 1e-21) {\n      e = log(number * pow(2, 69, 1)) - 69;\n      z = e < 0 ? number * pow(2, -e, 1) : number / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if (e > 0) {\n        multiply(0, z);\n        j = fractDigits;\n        while (j >= 7) {\n          multiply(1e7, 0);\n          j -= 7;\n        }\n        multiply(pow(10, j, 1), 0);\n        j = e - 1;\n        while (j >= 23) {\n          divide(1 << 23);\n          j -= 23;\n        }\n        divide(1 << j);\n        multiply(1, 1);\n        divide(2);\n        result = dataToString();\n      } else {\n        multiply(0, z);\n        multiply(1 << -e, 0);\n        result = dataToString() + repeat.call('0', fractDigits);\n      }\n    }\n    if (fractDigits > 0) {\n      k = result.length;\n      result = sign + (k <= fractDigits\n        ? '0.' + repeat.call('0', fractDigits - k) + result\n        : result.slice(0, k - fractDigits) + '.' + result.slice(k - fractDigits));\n    } else {\n      result = sign + result;\n    } return result;\n  }\n});\n","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar ownKeys = require('../internals/own-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar createProperty = require('../internals/create-property');\n\n// `Object.getOwnPropertyDescriptors` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptors\n$({ target: 'Object', stat: true, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIndexedObject(object);\n    var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var index = 0;\n    var key, descriptor;\n    while (keys.length > index) {\n      descriptor = getOwnPropertyDescriptor(O, key = keys[index++]);\n      if (descriptor !== undefined) createProperty(result, key, descriptor);\n    }\n    return result;\n  }\n});\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar nativeGetOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetOwnPropertyDescriptor(1); });\nvar FORCED = !DESCRIPTORS || FAILS_ON_PRIMITIVES;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\n$({ target: 'Object', stat: true, forced: FORCED, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(it, key) {\n    return nativeGetOwnPropertyDescriptor(toIndexedObject(it), key);\n  }\n});\n","/*! Pickr 1.8.0 MIT | https://github.com/Simonwep/pickr */\n!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.Pickr=e():t.Pickr=e()}(window,(function(){return function(t){var e={};function o(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,\"a\",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p=\"\",o(o.s=0)}([function(t,e,o){\"use strict\";o.r(e);var n={};function i(t,e,o,n,i={}){e instanceof HTMLCollection||e instanceof NodeList?e=Array.from(e):Array.isArray(e)||(e=[e]),Array.isArray(o)||(o=[o]);for(const r of e)for(const e of o)r[t](e,n,{capture:!1,...i});return Array.prototype.slice.call(arguments,1)}o.r(n),o.d(n,\"on\",(function(){return r})),o.d(n,\"off\",(function(){return s})),o.d(n,\"createElementFromString\",(function(){return a})),o.d(n,\"createFromTemplate\",(function(){return l})),o.d(n,\"eventPath\",(function(){return c})),o.d(n,\"resolveElement\",(function(){return p})),o.d(n,\"adjustableInputNumbers\",(function(){return u}));const r=i.bind(null,\"addEventListener\"),s=i.bind(null,\"removeEventListener\");function a(t){const e=document.createElement(\"div\");return e.innerHTML=t.trim(),e.firstElementChild}function l(t){const e=(t,e)=>{const o=t.getAttribute(e);return t.removeAttribute(e),o},o=(t,n={})=>{const i=e(t,\":obj\"),r=e(t,\":ref\"),s=i?n[i]={}:n;r&&(n[r]=t);for(const n of Array.from(t.children)){const t=e(n,\":arr\"),i=o(n,t?{}:s);t&&(s[t]||(s[t]=[])).push(Object.keys(i).length?i:n)}return n};return o(a(t))}function c(t){let e=t.path||t.composedPath&&t.composedPath();if(e)return e;let o=t.target.parentElement;for(e=[t.target,o];o=o.parentElement;)e.push(o);return e.push(document,window),e}function p(t){return t instanceof Element?t:\"string\"==typeof t?t.split(/>>/g).reduce((t,e,o,n)=>(t=t.querySelector(e),o<n.length-1?t.shadowRoot:t),document):null}function u(t,e=(t=>t)){function o(o){const n=[.001,.01,.1][Number(o.shiftKey||2*o.ctrlKey)]*(o.deltaY<0?1:-1);let i=0,r=t.selectionStart;t.value=t.value.replace(/[\\d.]+/g,(t,o)=>o<=r&&o+t.length>=r?(r=o,e(Number(t),n,i)):(i++,t)),t.focus(),t.setSelectionRange(r,r),o.preventDefault(),t.dispatchEvent(new Event(\"input\"))}r(t,\"focus\",()=>r(window,\"wheel\",o,{passive:!1})),r(t,\"blur\",()=>s(window,\"wheel\",o))}const{min:h,max:d,floor:f,round:m}=Math;function v(t,e,o){e/=100,o/=100;const n=f(t=t/360*6),i=t-n,r=o*(1-e),s=o*(1-i*e),a=o*(1-(1-i)*e),l=n%6;return[255*[o,s,r,r,a,o][l],255*[a,o,o,s,r,r][l],255*[r,r,a,o,o,s][l]]}function b(t,e,o){const n=(2-(e/=100))*(o/=100)/2;return 0!==n&&(e=1===n?0:n<.5?e*o/(2*n):e*o/(2-2*n)),[t,100*e,100*n]}function g(t,e,o){const n=h(t/=255,e/=255,o/=255),i=d(t,e,o),r=i-n;let s,a;if(0===r)s=a=0;else{a=r/i;const n=((i-t)/6+r/2)/r,l=((i-e)/6+r/2)/r,c=((i-o)/6+r/2)/r;t===i?s=c-l:e===i?s=1/3+n-c:o===i&&(s=2/3+l-n),s<0?s+=1:s>1&&(s-=1)}return[360*s,100*a,100*i]}function y(t,e,o,n){e/=100,o/=100;return[...g(255*(1-h(1,(t/=100)*(1-(n/=100))+n)),255*(1-h(1,e*(1-n)+n)),255*(1-h(1,o*(1-n)+n)))]}function _(t,e,o){e/=100;const n=2*(e*=(o/=100)<.5?o:1-o)/(o+e)*100,i=100*(o+e);return[t,isNaN(n)?0:n,i]}function w(t){return g(...t.match(/.{2}/g).map(t=>parseInt(t,16)))}function A(t){t=t.match(/^[a-zA-Z]+$/)?function(t){if(\"black\"===t.toLowerCase())return\"#000\";const e=document.createElement(\"canvas\").getContext(\"2d\");return e.fillStyle=t,\"#000\"===e.fillStyle?null:e.fillStyle}(t):t;const e={cmyk:/^cmyk[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]+([\\d.]+)/i,rgba:/^((rgba)|rgb)[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]*?([\\d.]+|$)/i,hsla:/^((hsla)|hsl)[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]*?([\\d.]+|$)/i,hsva:/^((hsva)|hsv)[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]*?([\\d.]+|$)/i,hexa:/^#?(([\\dA-Fa-f]{3,4})|([\\dA-Fa-f]{6})|([\\dA-Fa-f]{8}))$/i},o=t=>t.map(t=>/^(|\\d+)\\.\\d+|\\d+$/.test(t)?Number(t):void 0);let n;t:for(const i in e){if(!(n=e[i].exec(t)))continue;const r=t=>!!n[2]==(\"number\"==typeof t);switch(i){case\"cmyk\":{const[,t,e,r,s]=o(n);if(t>100||e>100||r>100||s>100)break t;return{values:y(t,e,r,s),type:i}}case\"rgba\":{const[,,,t,e,s,a]=o(n);if(t>255||e>255||s>255||a<0||a>1||!r(a))break t;return{values:[...g(t,e,s),a],a:a,type:i}}case\"hexa\":{let[,t]=n;4!==t.length&&3!==t.length||(t=t.split(\"\").map(t=>t+t).join(\"\"));const e=t.substring(0,6);let o=t.substring(6);return o=o?parseInt(o,16)/255:void 0,{values:[...w(e),o],a:o,type:i}}case\"hsla\":{const[,,,t,e,s,a]=o(n);if(t>360||e>100||s>100||a<0||a>1||!r(a))break t;return{values:[..._(t,e,s),a],a:a,type:i}}case\"hsva\":{const[,,,t,e,s,a]=o(n);if(t>360||e>100||s>100||a<0||a>1||!r(a))break t;return{values:[t,e,s,a],a:a,type:i}}}}return{values:null,type:null}}function C(t=0,e=0,o=0,n=1){const i=(t,e)=>(o=-1)=>e(~o?t.map(t=>Number(t.toFixed(o))):t),r={h:t,s:e,v:o,a:n,toHSVA(){const t=[r.h,r.s,r.v,r.a];return t.toString=i(t,t=>`hsva(${t[0]}, ${t[1]}%, ${t[2]}%, ${r.a})`),t},toHSLA(){const t=[...b(r.h,r.s,r.v),r.a];return t.toString=i(t,t=>`hsla(${t[0]}, ${t[1]}%, ${t[2]}%, ${r.a})`),t},toRGBA(){const t=[...v(r.h,r.s,r.v),r.a];return t.toString=i(t,t=>`rgba(${t[0]}, ${t[1]}, ${t[2]}, ${r.a})`),t},toCMYK(){const t=function(t,e,o){const n=v(t,e,o),i=n[0]/255,r=n[1]/255,s=n[2]/255,a=h(1-i,1-r,1-s);return[100*(1===a?0:(1-i-a)/(1-a)),100*(1===a?0:(1-r-a)/(1-a)),100*(1===a?0:(1-s-a)/(1-a)),100*a]}(r.h,r.s,r.v);return t.toString=i(t,t=>`cmyk(${t[0]}%, ${t[1]}%, ${t[2]}%, ${t[3]}%)`),t},toHEXA(){const t=function(t,e,o){return v(t,e,o).map(t=>m(t).toString(16).padStart(2,\"0\"))}(r.h,r.s,r.v),e=r.a>=1?\"\":Number((255*r.a).toFixed(0)).toString(16).toUpperCase().padStart(2,\"0\");return e&&t.push(e),t.toString=()=>\"#\"+t.join(\"\").toUpperCase(),t},clone:()=>C(r.h,r.s,r.v,r.a)};return r}const k=t=>Math.max(Math.min(t,1),0);function $(t){const e={options:Object.assign({lock:null,onchange:()=>0,onstop:()=>0},t),_keyboard(t){const{options:o}=e,{type:n,key:i}=t;if(document.activeElement===o.wrapper){const{lock:o}=e.options,r=\"ArrowUp\"===i,s=\"ArrowRight\"===i,a=\"ArrowDown\"===i,l=\"ArrowLeft\"===i;if(\"keydown\"===n&&(r||s||a||l)){let n=0,i=0;\"v\"===o?n=r||s?1:-1:\"h\"===o?n=r||s?-1:1:(i=r?-1:a?1:0,n=l?-1:s?1:0),e.update(k(e.cache.x+.01*n),k(e.cache.y+.01*i)),t.preventDefault()}else i.startsWith(\"Arrow\")&&(e.options.onstop(),t.preventDefault())}},_tapstart(t){r(document,[\"mouseup\",\"touchend\",\"touchcancel\"],e._tapstop),r(document,[\"mousemove\",\"touchmove\"],e._tapmove),t.cancelable&&t.preventDefault(),e._tapmove(t)},_tapmove(t){const{options:o,cache:n}=e,{lock:i,element:r,wrapper:s}=o,a=s.getBoundingClientRect();let l=0,c=0;if(t){const e=t&&t.touches&&t.touches[0];l=t?(e||t).clientX:0,c=t?(e||t).clientY:0,l<a.left?l=a.left:l>a.left+a.width&&(l=a.left+a.width),c<a.top?c=a.top:c>a.top+a.height&&(c=a.top+a.height),l-=a.left,c-=a.top}else n&&(l=n.x*a.width,c=n.y*a.height);\"h\"!==i&&(r.style.left=`calc(${l/a.width*100}% - ${r.offsetWidth/2}px)`),\"v\"!==i&&(r.style.top=`calc(${c/a.height*100}% - ${r.offsetHeight/2}px)`),e.cache={x:l/a.width,y:c/a.height};const p=k(l/a.width),u=k(c/a.height);switch(i){case\"v\":return o.onchange(p);case\"h\":return o.onchange(u);default:return o.onchange(p,u)}},_tapstop(){e.options.onstop(),s(document,[\"mouseup\",\"touchend\",\"touchcancel\"],e._tapstop),s(document,[\"mousemove\",\"touchmove\"],e._tapmove)},trigger(){e._tapmove()},update(t=0,o=0){const{left:n,top:i,width:r,height:s}=e.options.wrapper.getBoundingClientRect();\"h\"===e.options.lock&&(o=t),e._tapmove({clientX:n+r*t,clientY:i+s*o})},destroy(){const{options:t,_tapstart:o,_keyboard:n}=e;s(document,[\"keydown\",\"keyup\"],n),s([t.wrapper,t.element],\"mousedown\",o),s([t.wrapper,t.element],\"touchstart\",o,{passive:!1})}},{options:o,_tapstart:n,_keyboard:i}=e;return r([o.wrapper,o.element],\"mousedown\",n),r([o.wrapper,o.element],\"touchstart\",n,{passive:!1}),r(document,[\"keydown\",\"keyup\"],i),e}function S(t={}){t=Object.assign({onchange:()=>0,className:\"\",elements:[]},t);const e=r(t.elements,\"click\",e=>{t.elements.forEach(o=>o.classList[e.target===o?\"add\":\"remove\"](t.className)),t.onchange(e),e.stopPropagation()});return{destroy:()=>s(...e)}}\n/*! NanoPop 2.1.0 MIT | https://github.com/Simonwep/nanopop */\nconst O={variantFlipOrder:{start:\"sme\",middle:\"mse\",end:\"ems\"},positionFlipOrder:{top:\"tbrl\",right:\"rltb\",bottom:\"btrl\",left:\"lrbt\"},position:\"bottom\",margin:8},E=(t,e,o)=>{const n=\"object\"!=typeof t||t instanceof HTMLElement?{reference:t,popper:e,...o}:t;return{update(t=n){const{reference:e,popper:o}=Object.assign(n,t);if(!o||!e)throw new Error(\"Popper- or reference-element missing.\");return((t,e,o)=>{const{container:n,margin:i,position:r,variantFlipOrder:s,positionFlipOrder:a}={container:document.documentElement.getBoundingClientRect(),...O,...o},{left:l,top:c}=e.style;e.style.left=\"0\",e.style.top=\"0\";const p=t.getBoundingClientRect(),u=e.getBoundingClientRect(),h={t:p.top-u.height-i,b:p.bottom+i,r:p.right+i,l:p.left-u.width-i},d={vs:p.left,vm:p.left+p.width/2+-u.width/2,ve:p.left+p.width-u.width,hs:p.top,hm:p.bottom-p.height/2-u.height/2,he:p.bottom-u.height},[f,m=\"middle\"]=r.split(\"-\"),v=a[f],b=s[m],{top:g,left:y,bottom:_,right:w}=n;for(const t of v){const o=\"t\"===t||\"b\"===t,n=h[t],[i,r]=o?[\"top\",\"left\"]:[\"left\",\"top\"],[s,a]=o?[u.height,u.width]:[u.width,u.height],[l,c]=o?[_,w]:[w,_],[p,f]=o?[g,y]:[y,g];if(!(n<p||n+s>l))for(const s of b){const l=d[(o?\"v\":\"h\")+s];if(!(l<f||l+a>c))return e.style[r]=l-u[r]+\"px\",e.style[i]=n-u[i]+\"px\",t+s}}return e.style.left=l,e.style.top=c,null})(e,o,n)}}};function L(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}class x{constructor(t){L(this,\"_initializingActive\",!0),L(this,\"_recalc\",!0),L(this,\"_nanopop\",null),L(this,\"_root\",null),L(this,\"_color\",C()),L(this,\"_lastColor\",C()),L(this,\"_swatchColors\",[]),L(this,\"_setupAnimationFrame\",null),L(this,\"_eventListener\",{init:[],save:[],hide:[],show:[],clear:[],change:[],changestop:[],cancel:[],swatchselect:[]}),this.options=t=Object.assign({...x.DEFAULT_OPTIONS},t);const{swatches:e,components:o,theme:n,sliders:i,lockOpacity:r,padding:s}=t;[\"nano\",\"monolith\"].includes(n)&&!i&&(t.sliders=\"h\"),o.interaction||(o.interaction={});const{preview:a,opacity:l,hue:c,palette:p}=o;o.opacity=!r&&l,o.palette=p||a||l||c,this._preBuild(),this._buildComponents(),this._bindEvents(),this._finalBuild(),e&&e.length&&e.forEach(t=>this.addSwatch(t));const{button:u,app:h}=this._root;this._nanopop=E(u,h,{margin:s}),u.setAttribute(\"role\",\"button\"),u.setAttribute(\"aria-label\",this._t(\"btn:toggle\"));const d=this;this._setupAnimationFrame=requestAnimationFrame((function e(){if(!h.offsetWidth)return requestAnimationFrame(e);d.setColor(t.default),d._rePositioningPicker(),t.defaultRepresentation&&(d._representation=t.defaultRepresentation,d.setColorRepresentation(d._representation)),t.showAlways&&d.show(),d._initializingActive=!1,d._emit(\"init\")}))}_preBuild(){const{options:t}=this;for(const e of[\"el\",\"container\"])t[e]=p(t[e]);this._root=(t=>{const{components:e,useAsButton:o,inline:n,appClass:i,theme:r,lockOpacity:s}=t.options,a=t=>t?\"\":'style=\"display:none\" hidden',c=e=>t._t(e),p=l(`\\n      <div :ref=\"root\" class=\"pickr\">\\n\\n        ${o?\"\":'<button type=\"button\" :ref=\"button\" class=\"pcr-button\"></button>'}\\n\\n        <div :ref=\"app\" class=\"pcr-app ${i||\"\"}\" data-theme=\"${r}\" ${n?'style=\"position: unset\"':\"\"} aria-label=\"${c(\"ui:dialog\")}\" role=\"window\">\\n          <div class=\"pcr-selection\" ${a(e.palette)}>\\n            <div :obj=\"preview\" class=\"pcr-color-preview\" ${a(e.preview)}>\\n              <button type=\"button\" :ref=\"lastColor\" class=\"pcr-last-color\" aria-label=\"${c(\"btn:last-color\")}\"></button>\\n              <div :ref=\"currentColor\" class=\"pcr-current-color\"></div>\\n            </div>\\n\\n            <div :obj=\"palette\" class=\"pcr-color-palette\">\\n              <div :ref=\"picker\" class=\"pcr-picker\"></div>\\n              <div :ref=\"palette\" class=\"pcr-palette\" tabindex=\"0\" aria-label=\"${c(\"aria:palette\")}\" role=\"listbox\"></div>\\n            </div>\\n\\n            <div :obj=\"hue\" class=\"pcr-color-chooser\" ${a(e.hue)}>\\n              <div :ref=\"picker\" class=\"pcr-picker\"></div>\\n              <div :ref=\"slider\" class=\"pcr-hue pcr-slider\" tabindex=\"0\" aria-label=\"${c(\"aria:hue\")}\" role=\"slider\"></div>\\n            </div>\\n\\n            <div :obj=\"opacity\" class=\"pcr-color-opacity\" ${a(e.opacity)}>\\n              <div :ref=\"picker\" class=\"pcr-picker\"></div>\\n              <div :ref=\"slider\" class=\"pcr-opacity pcr-slider\" tabindex=\"0\" aria-label=\"${c(\"aria:opacity\")}\" role=\"slider\"></div>\\n            </div>\\n          </div>\\n\\n          <div class=\"pcr-swatches ${e.palette?\"\":\"pcr-last\"}\" :ref=\"swatches\"></div>\\n\\n          <div :obj=\"interaction\" class=\"pcr-interaction\" ${a(Object.keys(e.interaction).length)}>\\n            <input :ref=\"result\" class=\"pcr-result\" type=\"text\" spellcheck=\"false\" ${a(e.interaction.input)} aria-label=\"${c(\"aria:input\")}\">\\n\\n            <input :arr=\"options\" class=\"pcr-type\" data-type=\"HEXA\" value=\"${s?\"HEX\":\"HEXA\"}\" type=\"button\" ${a(e.interaction.hex)}>\\n            <input :arr=\"options\" class=\"pcr-type\" data-type=\"RGBA\" value=\"${s?\"RGB\":\"RGBA\"}\" type=\"button\" ${a(e.interaction.rgba)}>\\n            <input :arr=\"options\" class=\"pcr-type\" data-type=\"HSLA\" value=\"${s?\"HSL\":\"HSLA\"}\" type=\"button\" ${a(e.interaction.hsla)}>\\n            <input :arr=\"options\" class=\"pcr-type\" data-type=\"HSVA\" value=\"${s?\"HSV\":\"HSVA\"}\" type=\"button\" ${a(e.interaction.hsva)}>\\n            <input :arr=\"options\" class=\"pcr-type\" data-type=\"CMYK\" value=\"CMYK\" type=\"button\" ${a(e.interaction.cmyk)}>\\n\\n            <input :ref=\"save\" class=\"pcr-save\" value=\"${c(\"btn:save\")}\" type=\"button\" ${a(e.interaction.save)} aria-label=\"${c(\"aria:btn:save\")}\">\\n            <input :ref=\"cancel\" class=\"pcr-cancel\" value=\"${c(\"btn:cancel\")}\" type=\"button\" ${a(e.interaction.cancel)} aria-label=\"${c(\"aria:btn:cancel\")}\">\\n            <input :ref=\"clear\" class=\"pcr-clear\" value=\"${c(\"btn:clear\")}\" type=\"button\" ${a(e.interaction.clear)} aria-label=\"${c(\"aria:btn:clear\")}\">\\n          </div>\\n        </div>\\n      </div>\\n    `),u=p.interaction;return u.options.find(t=>!t.hidden&&!t.classList.add(\"active\")),u.type=()=>u.options.find(t=>t.classList.contains(\"active\")),p})(this),t.useAsButton&&(this._root.button=t.el),t.container.appendChild(this._root.root)}_finalBuild(){const t=this.options,e=this._root;if(t.container.removeChild(e.root),t.inline){const o=t.el.parentElement;t.el.nextSibling?o.insertBefore(e.app,t.el.nextSibling):o.appendChild(e.app)}else t.container.appendChild(e.app);t.useAsButton?t.inline&&t.el.remove():t.el.parentNode.replaceChild(e.root,t.el),t.disabled&&this.disable(),t.comparison||(e.button.style.transition=\"none\",t.useAsButton||(e.preview.lastColor.style.transition=\"none\")),this.hide()}_buildComponents(){const t=this,e=this.options.components,o=(t.options.sliders||\"v\").repeat(2),[n,i]=o.match(/^[vh]+$/g)?o:[],r=()=>this._color||(this._color=this._lastColor.clone()),s={palette:$({element:t._root.palette.picker,wrapper:t._root.palette.palette,onstop:()=>t._emit(\"changestop\",\"slider\",t),onchange(o,n){if(!e.palette)return;const i=r(),{_root:s,options:a}=t,{lastColor:l,currentColor:c}=s.preview;t._recalc&&(i.s=100*o,i.v=100-100*n,i.v<0&&(i.v=0),t._updateOutput(\"slider\"));const p=i.toRGBA().toString(0);this.element.style.background=p,this.wrapper.style.background=`\\n                        linear-gradient(to top, rgba(0, 0, 0, ${i.a}), transparent),\\n                        linear-gradient(to left, hsla(${i.h}, 100%, 50%, ${i.a}), rgba(255, 255, 255, ${i.a}))\\n                    `,a.comparison?a.useAsButton||t._lastColor||(l.style.color=p):(s.button.style.color=p,s.button.classList.remove(\"clear\"));const u=i.toHEXA().toString();for(const{el:e,color:o}of t._swatchColors)e.classList[u===o.toHEXA().toString()?\"add\":\"remove\"](\"pcr-active\");c.style.color=p}}),hue:$({lock:\"v\"===i?\"h\":\"v\",element:t._root.hue.picker,wrapper:t._root.hue.slider,onstop:()=>t._emit(\"changestop\",\"slider\",t),onchange(o){if(!e.hue||!e.palette)return;const n=r();t._recalc&&(n.h=360*o),this.element.style.backgroundColor=`hsl(${n.h}, 100%, 50%)`,s.palette.trigger()}}),opacity:$({lock:\"v\"===n?\"h\":\"v\",element:t._root.opacity.picker,wrapper:t._root.opacity.slider,onstop:()=>t._emit(\"changestop\",\"slider\",t),onchange(o){if(!e.opacity||!e.palette)return;const n=r();t._recalc&&(n.a=Math.round(100*o)/100),this.element.style.background=`rgba(0, 0, 0, ${n.a})`,s.palette.trigger()}}),selectable:S({elements:t._root.interaction.options,className:\"active\",onchange(e){t._representation=e.target.getAttribute(\"data-type\").toUpperCase(),t._recalc&&t._updateOutput(\"swatch\")}})};this._components=s}_bindEvents(){const{_root:t,options:e}=this,o=[r(t.interaction.clear,\"click\",()=>this._clearColor()),r([t.interaction.cancel,t.preview.lastColor],\"click\",()=>{this._emit(\"cancel\"),this.setHSVA(...(this._lastColor||this._color).toHSVA(),!0)}),r(t.interaction.save,\"click\",()=>{!this.applyColor()&&!e.showAlways&&this.hide()}),r(t.interaction.result,[\"keyup\",\"input\"],t=>{this.setColor(t.target.value,!0)&&!this._initializingActive&&(this._emit(\"change\",this._color,\"input\",this),this._emit(\"changestop\",\"input\",this)),t.stopImmediatePropagation()}),r(t.interaction.result,[\"focus\",\"blur\"],t=>{this._recalc=\"blur\"===t.type,this._recalc&&this._updateOutput(null)}),r([t.palette.palette,t.palette.picker,t.hue.slider,t.hue.picker,t.opacity.slider,t.opacity.picker],[\"mousedown\",\"touchstart\"],()=>this._recalc=!0,{passive:!0})];if(!e.showAlways){const n=e.closeWithKey;o.push(r(t.button,\"click\",()=>this.isOpen()?this.hide():this.show()),r(document,\"keyup\",t=>this.isOpen()&&(t.key===n||t.code===n)&&this.hide()),r(document,[\"touchstart\",\"mousedown\"],e=>{this.isOpen()&&!c(e).some(e=>e===t.app||e===t.button)&&this.hide()},{capture:!0}))}if(e.adjustableNumbers){const e={rgba:[255,255,255,1],hsva:[360,100,100,1],hsla:[360,100,100,1],cmyk:[100,100,100,100]};u(t.interaction.result,(t,o,n)=>{const i=e[this.getColorRepresentation().toLowerCase()];if(i){const e=i[n],r=t+(e>=100?1e3*o:o);return r<=0?0:Number((r<e?r:e).toPrecision(3))}return t})}if(e.autoReposition&&!e.inline){let t=null;const n=this;o.push(r(window,[\"scroll\",\"resize\"],()=>{n.isOpen()&&(e.closeOnScroll&&n.hide(),null===t?(t=setTimeout(()=>t=null,100),requestAnimationFrame((function e(){n._rePositioningPicker(),null!==t&&requestAnimationFrame(e)}))):(clearTimeout(t),t=setTimeout(()=>t=null,100)))},{capture:!0}))}this._eventBindings=o}_rePositioningPicker(){const{options:t}=this;if(!t.inline){if(!this._nanopop.update({container:document.body.getBoundingClientRect(),position:t.position})){const t=this._root.app,e=t.getBoundingClientRect();t.style.top=(window.innerHeight-e.height)/2+\"px\",t.style.left=(window.innerWidth-e.width)/2+\"px\"}}}_updateOutput(t){const{_root:e,_color:o,options:n}=this;if(e.interaction.type()){const t=\"to\"+e.interaction.type().getAttribute(\"data-type\");e.interaction.result.value=\"function\"==typeof o[t]?o[t]().toString(n.outputPrecision):\"\"}!this._initializingActive&&this._recalc&&this._emit(\"change\",o,t,this)}_clearColor(t=!1){const{_root:e,options:o}=this;o.useAsButton||(e.button.style.color=\"rgba(0, 0, 0, 0.15)\"),e.button.classList.add(\"clear\"),o.showAlways||this.hide(),this._lastColor=null,this._initializingActive||t||(this._emit(\"save\",null),this._emit(\"clear\"))}_parseLocalColor(t){const{values:e,type:o,a:n}=A(t),{lockOpacity:i}=this.options,r=void 0!==n&&1!==n;return e&&3===e.length&&(e[3]=void 0),{values:!e||i&&r?null:e,type:o}}_t(t){return this.options.i18n[t]||x.I18N_DEFAULTS[t]}_emit(t,...e){this._eventListener[t].forEach(t=>t(...e,this))}on(t,e){return this._eventListener[t].push(e),this}off(t,e){const o=this._eventListener[t]||[],n=o.indexOf(e);return~n&&o.splice(n,1),this}addSwatch(t){const{values:e}=this._parseLocalColor(t);if(e){const{_swatchColors:t,_root:o}=this,n=C(...e),i=a(`<button type=\"button\" style=\"color: ${n.toRGBA().toString(0)}\" aria-label=\"${this._t(\"btn:swatch\")}\"/>`);return o.swatches.appendChild(i),t.push({el:i,color:n}),this._eventBindings.push(r(i,\"click\",()=>{this.setHSVA(...n.toHSVA(),!0),this._emit(\"swatchselect\",n),this._emit(\"change\",n,\"swatch\",this)})),!0}return!1}removeSwatch(t){const e=this._swatchColors[t];if(e){const{el:o}=e;return this._root.swatches.removeChild(o),this._swatchColors.splice(t,1),!0}return!1}applyColor(t=!1){const{preview:e,button:o}=this._root,n=this._color.toRGBA().toString(0);return e.lastColor.style.color=n,this.options.useAsButton||(o.style.color=n),o.classList.remove(\"clear\"),this._lastColor=this._color.clone(),this._initializingActive||t||this._emit(\"save\",this._color),this}destroy(){cancelAnimationFrame(this._setupAnimationFrame),this._eventBindings.forEach(t=>s(...t)),Object.keys(this._components).forEach(t=>this._components[t].destroy())}destroyAndRemove(){this.destroy();const{root:t,app:e}=this._root;t.parentElement&&t.parentElement.removeChild(t),e.parentElement.removeChild(e),Object.keys(this).forEach(t=>this[t]=null)}hide(){return this._root.app.classList.remove(\"visible\"),this._emit(\"hide\"),this}show(){return this.options.disabled||(this._root.app.classList.add(\"visible\"),this._rePositioningPicker(),this._emit(\"show\",this._color)),this}isOpen(){return this._root.app.classList.contains(\"visible\")}setHSVA(t=360,e=0,o=0,n=1,i=!1){const r=this._recalc;if(this._recalc=!1,t<0||t>360||e<0||e>100||o<0||o>100||n<0||n>1)return!1;this._color=C(t,e,o,n);const{hue:s,opacity:a,palette:l}=this._components;return s.update(t/360),a.update(n),l.update(e/100,1-o/100),i||this.applyColor(),r&&this._updateOutput(),this._recalc=r,!0}setColor(t,e=!1){if(null===t)return this._clearColor(e),!0;const{values:o,type:n}=this._parseLocalColor(t);if(o){const t=n.toUpperCase(),{options:i}=this._root.interaction,r=i.find(e=>e.getAttribute(\"data-type\")===t);if(r&&!r.hidden)for(const t of i)t.classList[t===r?\"add\":\"remove\"](\"active\");return!!this.setHSVA(...o,e)&&this.setColorRepresentation(t)}return!1}setColorRepresentation(t){return t=t.toUpperCase(),!!this._root.interaction.options.find(e=>e.getAttribute(\"data-type\").startsWith(t)&&!e.click())}getColorRepresentation(){return this._representation}getColor(){return this._color}getSelectedColor(){return this._lastColor}getRoot(){return this._root}disable(){return this.hide(),this.options.disabled=!0,this._root.button.classList.add(\"disabled\"),this}enable(){return this.options.disabled=!1,this._root.button.classList.remove(\"disabled\"),this}}L(x,\"utils\",n),L(x,\"version\",\"1.8.0\"),L(x,\"I18N_DEFAULTS\",{\"ui:dialog\":\"color picker dialog\",\"btn:toggle\":\"toggle color picker dialog\",\"btn:swatch\":\"color swatch\",\"btn:last-color\":\"use previous color\",\"btn:save\":\"Save\",\"btn:cancel\":\"Cancel\",\"btn:clear\":\"Clear\",\"aria:btn:save\":\"save and close\",\"aria:btn:cancel\":\"cancel and close\",\"aria:btn:clear\":\"clear and close\",\"aria:input\":\"color input field\",\"aria:palette\":\"color selection area\",\"aria:hue\":\"hue selection slider\",\"aria:opacity\":\"selection slider\"}),L(x,\"DEFAULT_OPTIONS\",{appClass:null,theme:\"classic\",useAsButton:!1,padding:8,disabled:!1,comparison:!0,closeOnScroll:!1,outputPrecision:0,lockOpacity:!1,autoReposition:!0,container:\"body\",components:{interaction:{}},i18n:{},swatches:null,inline:!1,sliders:null,default:\"#42445a\",defaultRepresentation:null,position:\"bottom-middle\",adjustableNumbers:!0,showAlways:!1,closeWithKey:\"Escape\"}),L(x,\"create\",t=>new x(t));e.default=x}]).default}));\n//# sourceMappingURL=pickr.min.js.map","import {tpmt} from \"./math.js\";\n\nexport function expIn(t) {\n  return tpmt(1 - +t);\n}\n\nexport function expOut(t) {\n  return 1 - tpmt(t);\n}\n\nexport function expInOut(t) {\n  return ((t *= 2) <= 1 ? tpmt(1 - t) : 2 - tpmt(t - 1)) / 2;\n}\n","export const radians = Math.PI / 180;\nexport const degrees = 180 / Math.PI;\n","import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb} from \"./color.js\";\nimport {degrees, radians} from \"./math.js\";\n\n// https://observablehq.com/@mbostock/lab-and-rgb\nconst K = 18,\n    Xn = 0.96422,\n    Yn = 1,\n    Zn = 0.82521,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) return hcl2lab(o);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r),\n      g = rgb2lrgb(o.g),\n      b = rgb2lrgb(o.b),\n      y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn), x, z;\n  if (r === g && g === b) x = z = y; else {\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport function gray(l, opacity) {\n  return new Lab(l, 0, 0, opacity == null ? 1 : opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter: function(k) {\n    return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker: function(k) {\n    return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb: function() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    x = Xn * lab2xyz(x);\n    y = Yn * lab2xyz(y);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      lrgb2rgb( 3.1338561 * x - 1.6168667 * y - 0.4906146 * z),\n      lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z),\n      lrgb2rgb( 0.0719453 * x - 0.2289914 * y + 1.4052427 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction lrgb2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2lrgb(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0 < o.l && o.l < 100 ? 0 : NaN, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * degrees;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function lch(l, c, h, opacity) {\n  return arguments.length === 1 ? hclConvert(l) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\nfunction hcl2lab(o) {\n  if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n  var h = o.h * radians;\n  return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function(k) {\n    return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\n  },\n  darker: function(k) {\n    return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\n  },\n  rgb: function() {\n    return hcl2lab(this).rgb();\n  }\n}));\n","import {hcl as colorHcl} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction hcl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHcl(start)).h, (end = colorHcl(end)).h),\n        c = color(start.c, end.c),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.c = c(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hcl(hue);\nexport var hclLong = hcl(color);\n","/* eslint-disable */\r\n/**\r\n * doc comment for manual.ts\r\n * @remarks \r\n * Manual attempts for animation effects.\r\n * @packageDocumentation\r\n */\r\n\r\nimport * as Color from \"@/assets/color-preset\"\r\nimport { GroupManager, KeyFrame } from \"@/assets/animator\"\r\nimport { KeyframeConfig } from \"@/assets/types\"\r\nimport * as d3Ease from \"d3-ease\"\r\n\r\nexport let colorTransition = function () {\r\n     let keyframes = [] as Array<KeyFrame>\r\n     let colors = Color.calm;\r\n     colors.forEach((c, idx) => {\r\n        keyframes.push(new KeyFrame({\r\n            'color': c,\r\n            'stage': Math.ceil((idx) * 100/(colors.length-1))\r\n        }))\r\n     })\r\n     return keyframes\r\n}\r\n\r\n// I found it only works as a function or there will be import error\r\nexport let coloredShake = () => [\r\n        new KeyFrame({ xoff: -1, yoff: -1, color: 'red', stage: 0 }),\r\n        new KeyFrame({ xoff: 0, yoff: 0, color: 'yellow', stage: 20 }),\r\n        new KeyFrame({ xoff: -1, yoff: 1, color: 'blue', stage: 60 }),\r\n        new KeyFrame({ xoff: 0, yoff: 0, color: 'grey', stage: 80 }),\r\n        new KeyFrame({ xoff: 1, yoff: 1, color: 'green', stage: 100 })\r\n        // new KeyFrame({ xoff: -1, yoff: 1 }),\r\n        // new KeyFrame({ xoff: -1, yoff: -1 }),\r\n        // new KeyFrame({ xoff: 1, yoff: -1 }),\r\n        // new KeyFrame({ xoff: 0, yoff: 1 }),\r\n    ]\r\n\r\nexport let smallShake = () => [\r\n        new KeyFrame({ xoff: 0, yoff: 0, stage: 0 }),\r\n        new KeyFrame({ xoff: 0.5, yoff: 0.5, stage: 5 }),\r\n        new KeyFrame({ xoff: 0, yoff: 0, stage: 10 }),\r\n        new KeyFrame({ xoff: -0.5, yoff: 0, stage: 15 }),\r\n        new KeyFrame({ xoff: 0, yoff: 0, stage: 20 }),\r\n        new KeyFrame({ xoff: 0.5, yoff: -0.5, stage: 25 }),\r\n        new KeyFrame({ xoff: 1, yoff: 0, stage: 100 })\r\n    ]\r\n\r\nexport let shakeNRotate = () => [\r\n        new KeyFrame({ xoff: 1, yoff: 0, rotate: 5, stage: 0 }),\r\n        new KeyFrame({ xoff: 1, yoff: 0 , rotate: 5, stage: 10}),\r\n        new KeyFrame({ xoff: 0, yoff: 0, rotate: -5, stage: 20 }),\r\n        new KeyFrame({ xoff: -1, yoff: 1, rotate: 5, stage: 30 }),\r\n        new KeyFrame({ xoff: -1, yoff: 0, rotate: -5, stage: 40 }),\r\n        new KeyFrame({ xoff: 0, yoff: 0, rotate: -5, stage: 50 }),\r\n        new KeyFrame({ xoff: -1, yoff: -1, rotate: 5, stage: 60 }),\r\n        new KeyFrame({ xoff: 0, yoff: 0, rotate: -5, stage: 100 })\r\n    ]\r\n\r\nexport let scale = () => [\r\n        new KeyFrame({ scale: 0.5 }),\r\n        new KeyFrame({ scale: 1.5 }),\r\n        new KeyFrame({ scale: 1.0 })\r\n]\r\n\r\nexport let xmas = () =>   [\r\n    new KeyFrame({ xoff: -1, yoff: -1, color: '#FF000000', stage: 0}),\r\n    new KeyFrame({ xoff: -1, yoff: 1, color: '#FF0000', stage: 10}),\r\n    new KeyFrame({ xoff: 1, yoff: 1, color: '#FF0000', stage: 20}),\r\n    new KeyFrame({ xoff: 2, yoff: 2, color: 'white', stage: 30}),\r\n    new KeyFrame({ xoff: 1, yoff: -2, color: 'white', stage: 40}),\r\n    new KeyFrame({ xoff: -1, yoff: -2, color: '#FF8F39', stage: 50}),\r\n    new KeyFrame({ xoff: 3, yoff: -3, color: '#FF8F39', stage: 60}),\r\n    new KeyFrame({ xoff: 2, yoff: 2, color: 'red', stage: 70}),\r\n    new KeyFrame({ xoff: 1, yoff: 1, color: 'red', stage: 80}),\r\n    new KeyFrame({ xoff: -1, yoff: -1, color: '#FF8F39', stage: 90}),\r\n    new KeyFrame({ xoff: 1, yoff: 0, color: '#FF8F39', stage: 100})\r\n]\r\n\r\nexport let split = function () {\r\n    \r\n}\r\n\r\nexport let hardCodeGroups = function () {\r\n     let groupManager: GroupManager[] = [\r\n            new GroupManager({\r\n                duration: 500,\r\n                keyFrames: xmas()\r\n            }),\r\n        ]\r\n        // hasty?\r\n        // let groupManager: GroupManager[] = [\r\n        //     new GroupManager({\r\n        //         duration: 2000,\r\n        //         keyFrames: [\r\n        //             new KeyFrame({ xoff: 0, stage: 0}),\r\n        //             new KeyFrame({ xoff: 1000, stage: 100, color: 'red'}),\r\n\r\n        //         ],\r\n        //     }),\r\n        //     new GroupManager({\r\n        //         duration: 2100,\r\n        //         keyFrames: [\r\n        //             new KeyFrame({ xoff: 0, stage: 0}),\r\n        //             new KeyFrame({ xoff: 1000, stage: 100}),\r\n\r\n        //         ],\r\n        //     }),\r\n        //     new GroupManager({\r\n        //         duration: 2200,\r\n        //         keyFrames: [\r\n        //             new KeyFrame({ xoff: 0, stage: 0}),\r\n        //             new KeyFrame({ xoff: 1000, stage: 100}),\r\n\r\n        //         ],\r\n        //     }),\r\n        //     new GroupManager({\r\n        //         duration: 2300,\r\n        //         keyFrames: [\r\n        //             new KeyFrame({ xoff: 0, stage: 0}),\r\n        //             new KeyFrame({ xoff: 1000, stage: 100}),\r\n\r\n        //         ],\r\n        //     }),\r\n        //     new GroupManager({\r\n        //         duration: 2400,\r\n        //         keyFrames: [\r\n        //             new KeyFrame({ xoff: 0, stage: 0}),\r\n        //             new KeyFrame({ xoff: 1000, stage: 100}),\r\n\r\n        //         ],\r\n        //     }),\r\n        //     new GroupManager({\r\n        //         duration: 2500,\r\n        //         keyFrames: [\r\n        //             new KeyFrame({ xoff: 0, stage: 0}),\r\n        //             new KeyFrame({ xoff: 1000, stage: 100}),\r\n\r\n        //         ],\r\n        //     }),\r\n        //     new GroupManager({\r\n        //         duration: 2600,\r\n        //         keyFrames: [\r\n        //             new KeyFrame({ xoff: 0, stage: 0}),\r\n        //             new KeyFrame({ xoff: 1000, stage: 100}),\r\n\r\n        //         ],\r\n        //     }),\r\n        //     new GroupManager({\r\n        //         duration: 2700,\r\n        //         keyFrames: [\r\n        //             new KeyFrame({ xoff: 0, stage: 0}),\r\n        //             new KeyFrame({ xoff: 1000, stage: 100}),\r\n\r\n        //         ],\r\n        //     }),\r\n        // ]\r\n        // bubbly effect\r\n        // let groupManager: GroupManager[] = [\r\n        //     new GroupManager({\r\n        //         duration: 3000,\r\n        //         keyFrames: [\r\n        //             new KeyFrame({ scale: 0.5, stage: 0, color: 'gold' }),\r\n        //             new KeyFrame({ scale: 1.25, stage: 100, color: 'red' }),\r\n\r\n        //         ]\r\n        //     }),\r\n        //     new GroupManager({\r\n        //         duration: 4000,\r\n        //         keyFrames: [\r\n        //             new KeyFrame({ scale: 0.5, stage: 0, color: 'red' }),\r\n        //             new KeyFrame({ scale: 1.125, stage: 100, color: 'green' }),\r\n\r\n        //         ]\r\n        //     }),\r\n        //     new GroupManager({\r\n        //         duration: 3500,\r\n        //         keyFrames: [\r\n        //             new KeyFrame({ scale: 0.5, stage: 0, color: 'green' }),\r\n        //             new KeyFrame({ scale: 1.3, stage: 100, color: 'gold' }),\r\n\r\n        //         ]\r\n        //     }),\r\n        // ] \r\n        // fly away        \r\n        // let groupManager: GroupManager[] = [\r\n        //     new GroupManager({\r\n        //         duration: 3000,\r\n        //         keyFrames: [\r\n        //             new KeyFrame({rotate: 0, stage: 0}),\r\n        //             new KeyFrame({xoff: 200, yoff: -200, scale: 0, rotate: 720, stage: 100}),\r\n\r\n        //         ]\r\n        //     }),\r\n        //     new GroupManager({\r\n        //         duration: 2000,\r\n        //         keyFrames: [\r\n        //             new KeyFrame({rotate: 0, stage: 0}),\r\n        //             new KeyFrame({xoff: 200, yoff: -200, scale: 0, rotate: 720, stage: 100}),\r\n\r\n        //         ]\r\n        //     }),\r\n        //     new GroupManager({\r\n        //         duration: 2100,\r\n        //         keyFrames: [\r\n        //             new KeyFrame({rotate: 0, stage: 0}),\r\n        //             new KeyFrame({xoff: 200, yoff: -200, scale: 0, rotate: 720, stage: 100}),\r\n\r\n        //         ]\r\n        //     }),\r\n        //     new GroupManager({\r\n        //         duration: 2400,\r\n        //         keyFrames: [\r\n        //             new KeyFrame({rotate: 0, stage: 0}),\r\n        //             new KeyFrame({xoff: 200, yoff: -200, scale: 0, rotate: 720, stage: 100}),\r\n\r\n        //         ]\r\n        //     })\r\n        // ]\r\n        // slide away\r\n        //  let groupManager: GroupManager[] = [\r\n        //     new GroupManager({\r\n        //         duration: 3000,\r\n        //         keyFrames: [\r\n        //             new KeyFrame({xoff: 0, stage: 0}),\r\n        //             new KeyFrame({xoff: 1500, scale: 0, stage: 100, color: '#C1C1C1'}),\r\n\r\n        //         ]\r\n        //     }),\r\n        // ]\r\n        // inception style?\r\n        //  let groupManager: GroupManager[] = [\r\n        //     new GroupManager({\r\n        //         ease: d3Ease.easeLinear,\r\n        //         duration: 3000,\r\n        //         keyFrames: [\r\n        //             new KeyFrame({xoff: 0, stage: 0}),\r\n        //             new KeyFrame({xoff: 0, scale: 0, stage: 100}),\r\n        //         ]\r\n        //     }),\r\n        //     new GroupManager({\r\n        //         ease: d3Ease.easeLinear,\r\n        //         duration: 2250,\r\n        //         keyFrames: [\r\n        //             new KeyFrame({xoff: 0, stage: 0}),\r\n        //             new KeyFrame({xoff: 0, scale: 0, stage: 100}),\r\n        //         ]\r\n        //     }),\r\n        //     new GroupManager({\r\n        //         ease: d3Ease.easeLinear,\r\n        //         duration: 2000,\r\n        //         keyFrames: [\r\n        //             new KeyFrame({xoff: 0, stage: 0}),\r\n        //             new KeyFrame({xoff: 0, scale: 0, stage: 100}),\r\n        //         ]\r\n        //     }),\r\n        //     new GroupManager({\r\n        //         ease: d3Ease.easeLinear,\r\n        //         duration: 2500,\r\n        //         keyFrames: [\r\n        //             new KeyFrame({xoff: 0, stage: 0}),\r\n        //             new KeyFrame({xoff: 0, scale: 0, stage: 100}),\r\n        //         ]\r\n        //     }),\r\n        //     new GroupManager({\r\n        //         ease: d3Ease.easeLinear,\r\n        //         duration: 2600,\r\n        //         keyFrames: [\r\n        //             new KeyFrame({xoff: 0, stage: 0}),\r\n        //             new KeyFrame({xoff: 0, scale: 0, stage: 100}),\r\n        //         ]\r\n        //     }),\r\n        //     new GroupManager({\r\n        //         ease: d3Ease.easeLinear,\r\n        //         duration: 2400,\r\n        //         keyFrames: [\r\n        //             new KeyFrame({xoff: 0, stage: 0}),\r\n        //             new KeyFrame({xoff: 0, scale: 0, stage: 100}),\r\n        //         ]\r\n        //     }),\r\n        //     new GroupManager({\r\n        //         ease: d3Ease.easeLinear,\r\n        //         duration: 2700,\r\n        //         keyFrames: [\r\n        //             new KeyFrame({xoff: 0, stage: 0}),\r\n        //             new KeyFrame({xoff: 0, scale: 0, stage: 100}),\r\n        //         ]\r\n        //     }),\r\n        // ]\r\n        // rotation with colorization\r\n        // let groupManager: GroupManager[] = [\r\n        //         new GroupManager({\r\n        //             ease: d3Ease.easeSin,\r\n        //             duration: 3000,\r\n        //             keyFrames: [\r\n        //                 new KeyFrame({xoff: 0, stage: 0}),\r\n        //                 new KeyFrame({xoff: 0, rotate: 720, color:'#0CB04A', stage: 100}),\r\n        //             ]\r\n        //         }),\r\n        //         new GroupManager({\r\n        //             ease: d3Ease.easeCircle,\r\n        //             duration: 3000,\r\n        //             keyFrames: [\r\n        //                 new KeyFrame({xoff: 0, stage: 0}),\r\n        //                 new KeyFrame({xoff: 0, rotate: 360, color:'#0A7533', stage: 100}),\r\n        //             ]\r\n        //         }),\r\n        //         new GroupManager({\r\n        //             ease: d3Ease.easeCubic,\r\n        //             duration: 3000,\r\n        //             keyFrames: [\r\n        //                 new KeyFrame({xoff: 0, stage: 0}),\r\n        //                 new KeyFrame({xoff: 0, rotate: 1080, color: '#FF3A2F', stage: 100}),\r\n        //             ]\r\n        //         }),\r\n        //         new GroupManager({\r\n        //             ease: d3Ease.easePoly,\r\n        //             duration: 3000,\r\n        //             keyFrames: [\r\n        //                 new KeyFrame({xoff: 0, stage: 0}),\r\n        //                 new KeyFrame({xoff: 0, rotate: 1440, color: '#A92921', stage: 100}),\r\n        //             ]\r\n        //         }),\r\n        //     ]\r\n    return groupManager\r\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","/* eslint-disable */\r\n\r\nimport { KeyFrame } from \"./animator\";\r\nimport * as Manual from \"@/assets/manual\";\r\nimport { Mode } from \"@/assets/types\"\r\nimport { FontConfig } from \"@/assets/variable-font\"\r\n\r\nconst minNumGroup = 1;\r\nconst sampleFont = new FontConfig()\r\nconst sampleItalic = sampleFont.italicRange\r\nconst sampleWeight = sampleFont.weightRange\r\nconst sampleItalicInterval = sampleItalic[1] - sampleItalic[0]\r\nconst sampleWeightInterval = sampleWeight[1] - sampleWeight[0]\r\nconst sampleItalicMid = ( sampleItalic[1] + sampleItalic[0] ) / 2\r\nconst sampleWeightMid = ( sampleWeight[1] + sampleWeight[0] ) / 2\r\n\r\nclass KeyFrameHandler {\r\n    public getKeyFrames(mode: Mode, wordLength: number, speed: number, entropy: number, alpha=0) {\r\n        let keyFrames = [] as KeyFrame[][];\r\n        if (mode == Mode.dance) {\r\n            keyFrames = this.getDiscoKeyFrames(wordLength, speed, entropy);\r\n        } else if (mode == Mode.split) {\r\n            keyFrames = this.getSplitKeyframes(wordLength, speed, entropy, alpha)\r\n        } else if (mode == Mode.swing) {\r\n            keyFrames = this.getSwingingKeyFrames(wordLength, speed, entropy)\r\n        }\r\n        else {\r\n            keyFrames = [Manual.colorTransition()];\r\n        }\r\n        return keyFrames;\r\n    }\r\n\r\n    private getSwingingKeyFrames(wordLength: number, speed: number, entropy: number) {\r\n        let keyFrames = [] as KeyFrame[][];\r\n        const maxNumGroup =  Math.floor(wordLength * 0.9);\r\n        let numGroup = Math.max(1, entropy * maxNumGroup)\r\n        for (let index = 0; index < numGroup; index++) {\r\n            let groupKeyFrames = [] as KeyFrame[]\r\n            const italicDelta = sampleItalicInterval * ( entropy * 0.5 + Math.random() * 0.1 + 0.4 )\r\n            const weightDelta = sampleWeightInterval * ( entropy * 0.5 + Math.random() * 0.1 + 0.4 )\r\n            const italicRange = [sampleItalicMid - italicDelta, sampleItalicMid + italicDelta]\r\n            const weightRange = [sampleWeightMid - weightDelta * 0.2, sampleWeightMid + weightDelta]\r\n            let fontMid = new FontConfig()\r\n            fontMid.update({italic: sampleItalicMid, weight: sampleWeightMid})\r\n            let fontStart = new FontConfig()\r\n            fontStart.update({italic: italicRange[0], weight:weightRange[0]})\r\n            let fontEnd = new FontConfig()\r\n            fontEnd.update({italic: italicRange[1], weight: weightRange[1]})\r\n            let fontWideMid = new FontConfig()\r\n            fontWideMid.update({italic: sampleItalicMid, weight: weightRange[1]})\r\n            let fontWideStart = new FontConfig()\r\n            fontWideStart.update({ italic: italicRange[0], weight: weightRange[0] })\r\n \r\n            let animation = [] as KeyFrame[]\r\n            let backupFrames = [\r\n                new KeyFrame({font: fontEnd}),\r\n                new KeyFrame({font: fontEnd}),\r\n                new KeyFrame({font: fontWideMid, xoff: -1}),\r\n                new KeyFrame({font: fontWideStart, xoff: -4}),\r\n                // new KeyFrame({font: fontStart }),\r\n                new KeyFrame({font: fontWideMid, yoff: Math.random()>0.5?-2:2}),\r\n                new KeyFrame({font: fontEnd}),\r\n                new KeyFrame({font: fontEnd}),\r\n            ]\r\n            for(let it = 0; it < Math.max(1, Math.floor(Math.random()*3)); it ++) {\r\n                for(let fid = 0; fid < backupFrames.length; fid ++) {\r\n                    if(Math.random() > 0.2) {\r\n                        animation.push(backupFrames[fid])\r\n                    }\r\n                }\r\n            }\r\n            const iter = 10 * speed;\r\n            const al = animation.length;\r\n            const tl = al * iter - 1;\r\n            if(iter == 0) {\r\n                groupKeyFrames.push(...[\r\n                    new KeyFrame({stage: 0}),\r\n                    new KeyFrame({stage: 100}),\r\n                ])\r\n            }\r\n            for (let i = 0; i < iter; i++) {\r\n                animation.forEach((move, idx) => {\r\n                    const stage = Math.ceil((100 / tl) * (idx + i * al));\r\n                    groupKeyFrames.push({...move, stage: stage});\r\n                });\r\n            }\r\n\r\n            keyFrames.push(groupKeyFrames)\r\n        }\r\n        return keyFrames\r\n    }\r\n\r\n\r\n\r\n\r\n    private getSplitKeyframes(wordLength: number, speed: number, entropy: number, alpha: number) {\r\n        let keyFrames = [] as KeyFrame[][];\r\n        let maxNumGroup =  Math.floor(wordLength * 0.9);\r\n        let numGroup = Math.max(minNumGroup, Math.floor(entropy * maxNumGroup))\r\n        for (let index = 0; index < numGroup; index++) {\r\n            const groupKf = [] as KeyFrame[]\r\n            const theta = alpha + index * 2 * Math.PI / numGroup \r\n            const dis = Math.random() * 4 + 2 + entropy * 18\r\n          //  console.log(theta/(2*Math.PI), numGroup,  dis * Math.cos(theta), dis * Math.sin(theta))\r\n            const iter = Math.floor(10 * speed)\r\n            const _move_left = new KeyFrame({ xoff: 3*dis/5 * Math.cos(theta+ Math.PI/7), yoff: 3*dis/5 * Math.sin(theta+Math.PI/7), rotate: 0});\r\n            const _move_right = new KeyFrame({ xoff: 4*dis/5 * Math.cos(theta - Math.PI/8), yoff: 4*dis/5 * Math.sin(theta+Math.PI/8), rotate: 0});\r\n            const _move = new KeyFrame({ xoff: dis * Math.cos(theta), yoff: dis * Math.sin(theta), rotate: 0});\r\n            const _center = new KeyFrame({ xoff: 0, yoff: 0, rotate: 0 });\r\n            const _rotate = new KeyFrame({ rotate: (theta-Math.PI/4)})\r\n            const _neg_rotate = new KeyFrame({ rotate: (-theta+Math.PI/4)})\r\n            const animation = [\r\n                _center,\r\n                // _move_left,\r\n                // _move_right,\r\n                _move,\r\n                _rotate,\r\n                _rotate,\r\n                _neg_rotate,\r\n                _move,\r\n                _move,\r\n                _move,\r\n                _move,\r\n                // _move_right,\r\n                // _move_left,\r\n                _center,\r\n            ]\r\n            const al = animation.length;\r\n            const tl = al * iter - 1;\r\n            if(iter == 0) {\r\n                groupKf.push(...[\r\n                    new KeyFrame({stage: 0}),\r\n                    new KeyFrame({stage: 100}),\r\n                ])\r\n            }\r\n            for (let i = 0; i < iter; i++) {\r\n                animation.forEach((move, idx) => {\r\n                    const stage = Math.ceil((100 / tl) * (idx + i * al));\r\n                    groupKf.push({...move, stage: stage});\r\n                });\r\n            }\r\n            keyFrames.push(groupKf);\r\n        }\r\n        return keyFrames;\r\n    }\r\n    private getDiscoKeyFrames(wordLength: number, speed: number, entropy: number): KeyFrame[][] {\r\n        const keyFrames = [];\r\n        const maxNumGroup =  10;\r\n        const numGroup = Math.min(wordLength, Math.trunc((maxNumGroup - minNumGroup) * entropy + minNumGroup));\r\n        // const minNumStage = 10;\r\n        // const maxNumStage = 100;\r\n        // const numStage = (maxNumStage - minNumStage) * speed + minNumStage; // at least\r\n        // const steps = 100 / numStage;\r\n        for (let index = 0; index < numGroup; index++) {\r\n            const groupKf = [] as KeyFrame[];\r\n            const randXD = Math.round(Math.random()) * 2 - 1;\r\n            const move = new KeyFrame({ xoff: randXD * (  entropy * 3) });\r\n            const center = new KeyFrame({ xoff: 0, yoff: 0 });\r\n            const randY = Math.random() * 2.0;\r\n            const jump = new KeyFrame({yoff: -randY * (speed + entropy + 1)});\r\n            const animation = [\r\n                move,\r\n                center,\r\n                move,\r\n                jump\r\n            ]\r\n            const iter = 10 * speed;\r\n            const al = animation.length;\r\n            const tl = al * iter - 1;\r\n            if(iter == 0) {\r\n                groupKf.push(...[\r\n                    new KeyFrame({stage: 0}),\r\n                    new KeyFrame({stage: 100}),\r\n                ])\r\n            }\r\n            for (let i = 0; i < iter; i++) {\r\n                animation.forEach((move, idx) => {\r\n                    const stage = Math.ceil((100 / tl) * (idx + i * al));\r\n                    groupKf.push({...move, stage: stage});\r\n                });\r\n            }\r\n            // for (let j = 0; j < numStage + 1; j++) {\r\n            //     const stage = Math.trunc(j * steps);\r\n            //     let kf: KeyFrame;\r\n                // if(j % 2 == 0) { \r\n                //     kf = new KeyFrame({xoff: 0, yoff: 0, stage: stage});\r\n                // } else {\r\n                //     const randxd = Math.round(Math.random()) * 2 - 1;\r\n                //     const randyd = Math.round(Math.random()) * 2 - 1;\r\n                //     const randrd = Math.round(Math.random()) * 2 - 1;\r\n                //     const randx = parseFloat((Math.random() + entropy * 3).toFixed(2));\r\n                //     const randy = parseFloat((Math.random() + entropy * 3).toFixed(2));\r\n                //     const randr = parseFloat((Math.random()).toFixed(2));\r\n                //     kf = new KeyFrame({ xoff: randxd * randx, yoff: randyd * randy, rotate: randrd * randr, stage: stage });\r\n                // }\r\n                // 1. left -> left -> jump\r\n                // left\r\n\r\n                // jump\r\n                // groupKf.push(kf);\r\n            // }\r\n            keyFrames.push(groupKf);\r\n        }\r\n        return keyFrames;\r\n    }\r\n}\r\n\r\nlet shuffle = function <T>(array: T[]) {\r\n    let currIdx = array.length, tempVal, randIdx\r\n    while (0 != currIdx) {\r\n        randIdx = Math.floor(Math.random() * currIdx)\r\n        currIdx -= 1\r\n        tempVal = array[currIdx]\r\n        array[currIdx] = array[randIdx]\r\n        array[randIdx] = tempVal\r\n    }\r\n    return array\r\n}\r\n\r\nexport { KeyFrameHandler }","/* eslint-disable */\r\n/**\r\n * doc comment for jump.ts\r\n * @remarks \r\n * It is working in progress. It trys to tune the webgl program more subtlely.\r\n * @packageDocumentation\r\n */\r\n\r\n\r\n// Reads out a .ttf and triangulates the glyphs using OpenType and Earcut.\r\n// Code made By riv -> https://stackoverflow.com/questions/50554803/triangulate-path-data-from-opentype-js-using-earcut/50581183#50581183\r\n// Original here -> https://jsbin.com/gecakub/edit?html,js,output\r\n\r\n// 1. Reads Bezier curves from `.tff` font file using OpenType.js.\r\n// 2. Converts Bezier curves into closed shapes and sort them by descending area.\r\n// 3. Determines the indices for the holes by figuring out which shapes are inside other shapes.\r\n// 4. Send all points to Earcut with the holes indices as a second parameter.\r\n// 5. Uses earcut's result as indices for the geometry.\r\n// 6. Then, render triangles with webGL.\r\n\r\n\r\nimport opentype from \"opentype.js\"\r\nimport earcut from \"earcut\"\r\nimport { createShader, createProgram } from \"./gl-helper\"\r\n// import { polygonCentroid } from \"d3\"\r\nimport { Word } from './types'\r\n\r\ninterface P {\r\n  x: number,\r\n  y: number\r\n}\r\n\r\n\r\nconst FONTURL = \"https://cdnjs.cloudflare.com/ajax/libs/ink/3.1.10/fonts/Roboto/roboto-regular-webfont.ttf\"\r\nlet time: any = null\r\nlet pace = 80.0\r\n\r\nfunction distance(p1: P, p2: P) {\r\n  const dx = p1.x - p2.x,\r\n    dy = p1.y - p2.y\r\n  return Math.sqrt(dx * dx + dy * dy)\r\n}\r\n\r\nfunction lerp(p1: P, p2: P, t: number) {\r\n  return { x: (1 - t) * p1.x + t * p2.x, y: (1 - t) * p1.y + t * p2.y }\r\n}\r\n\r\nfunction cross(p1: P, p2: P) {\r\n  return p1.x * p2.y - p1.y * p2.x\r\n}\r\n\r\n// bezier discretization\r\nconst MAX_BEZIER_STEPS = 10\r\nconst BEZIER_STEP_SIZE = 3.0\r\n// this is for inside checks - doesn't have to be particularly\r\n// small because glyphs have finite resolution\r\nconst EPSILON = 1e-6\r\n\r\nlet gl: any\r\nlet indices: any\r\n// class for converting path commands into point data\r\nclass Polygon {\r\n  public points: Array<P> = []\r\n  public children: Polygon[] = []\r\n  public area: any = 0.0\r\n\r\n  moveTo(p:P) {\r\n    this.points.push(p)\r\n  }\r\n\r\n  lineTo(p:P) {\r\n    this.points.push(p)\r\n  }\r\n  close() {\r\n    let cur = this.points[this.points.length - 1]\r\n    this.points.forEach(next => {\r\n      this.area += 0.5 * cross(cur, next)\r\n      cur = next\r\n    })\r\n  }\r\n  conicTo(p: P, p1: P) {\r\n    const p0 = this.points[this.points.length - 1]\r\n    const dist = distance(p0, p1) + distance(p1, p)\r\n    const steps = Math.max(\r\n      2,\r\n      Math.min(MAX_BEZIER_STEPS, dist / BEZIER_STEP_SIZE)\r\n    )\r\n    for (let i = 1; i <= steps; ++i) {\r\n      const t = i / steps\r\n      this.points.push(lerp(lerp(p0, p1, t), lerp(p1, p, t), t))\r\n    }\r\n  }\r\n  cubicTo(p: P, p1: P, p2: P) {\r\n    const p0 = this.points[this.points.length - 1]\r\n    const dist = distance(p0, p1) + distance(p1, p2) + distance(p2, p)\r\n    const steps = Math.max(\r\n      2,\r\n      Math.min(MAX_BEZIER_STEPS, dist / BEZIER_STEP_SIZE)\r\n    )\r\n    for (let i = 1; i <= steps; ++i) {\r\n      const t = i / steps\r\n      const a = lerp(lerp(p0, p1, t), lerp(p1, p2, t), t)\r\n      const b = lerp(lerp(p1, p2, t), lerp(p2, p, t), t)\r\n      this.points.push(lerp(a, b, t))\r\n    }\r\n  }\r\n\r\n  inside(p: P) {\r\n    let count = 0,\r\n      cur = this.points[this.points.length - 1]\r\n    this.points.forEach(next => {\r\n      const p0 = cur.y < next.y ? cur : next\r\n      const p1 = cur.y < next.y ? next : cur\r\n      if (p0.y < p.y + EPSILON && p1.y > p.y + EPSILON) {\r\n        if ((p1.x - p0.x) * (p.y - p0.y) > (p.x - p0.x) * (p1.y - p0.y)) {\r\n          count += 1\r\n        }\r\n      }\r\n      cur = next\r\n    })\r\n    return count % 2 !== 0\r\n  }\r\n}\r\n\r\nfunction tick(t: number) {\r\n  gl.uniform1f(time, t / pace)\r\n  gl.drawElements(gl.TRIANGLES, indices.length, gl.UNSIGNED_SHORT, 0)\r\n  requestAnimationFrame(tick)\r\n}\r\n\r\nlet getRoots = function (polys: Polygon[]) {\r\n     // classify contours to find holes and their 'parents'\r\n     const root = []\r\n     for (let i = 0; i < polys.length; ++i) {\r\n         let parent = null\r\n         for (let j = i - 1; j >= 0; --j) {\r\n             // a contour is a hole if it is inside its parent and has different winding\r\n             if (\r\n             polys[j].inside(polys[i].points[0]) &&\r\n             polys[i].area * polys[j].area < 0\r\n             ) {\r\n                 parent = polys[j]\r\n                 break\r\n             }\r\n     }\r\n     if (parent) {\r\n             parent.children.push(polys[i])\r\n         } else {\r\n             root.push(polys[i])\r\n         }\r\n     }\r\n     return root\r\n}\r\n\r\nlet getPolys = function (font: opentype.Font, x=0, y=0, s=12, text=\"Hello World\") {\r\n    // create path\r\n    const path = font.getPath(text, x, y, s)\r\n    // create a list of closed contours\r\n    const polys: Polygon[] = []\r\n    path.commands.forEach(({ type, x, y, x1, y1, x2, y2 }: any) => {\r\n    switch (type) {\r\n        case \"M\":\r\n        polys.push(new Polygon())\r\n        polys[polys.length - 1].moveTo({ x, y })\r\n        break\r\n        case \"L\":\r\n        polys[polys.length - 1].moveTo({ x, y })\r\n        break\r\n        case \"C\":\r\n        polys[polys.length - 1].cubicTo(\r\n            { x, y },\r\n            { x: x1, y: y1 },\r\n            { x: x2, y: y2 }\r\n        )\r\n        break\r\n        case \"Q\":\r\n        polys[polys.length - 1].conicTo({ x, y }, { x: x1, y: y1 })\r\n        break\r\n        case \"Z\":\r\n        polys[polys.length - 1].close()\r\n        break\r\n        }\r\n    })\r\n    // sort contours by descending area\r\n    polys.sort((a, b) => Math.abs(b.area) - Math.abs(a.area))\r\n    return polys\r\n}\r\n\r\nlet getVertexData = function (root: Polygon[], polys: Polygon[]) {\r\n    const totalPoints = polys.reduce((sum: number, p: Polygon) => sum + p.points.length, 0)\r\n    const vertexData = new Float32Array(totalPoints * 2)\r\n    let vertexCount = 0\r\n    indices = []\r\n    let process = function(poly: Polygon) {\r\n    // construct input for earcut\r\n        const coords: number[] = []\r\n        const holes: number[] = []\r\n        poly.points.forEach(({ x, y }) => coords.push(x, y))\r\n        poly.children.forEach(child => {\r\n            // children's children are new, separate shapes\r\n            child.children.forEach(process)\r\n            holes.push(coords.length / 2)\r\n            child.points.forEach(({ x, y }) => coords.push(x, y))\r\n        })\r\n        // add vertex data\r\n        vertexData.set(coords, vertexCount * 2)\r\n        // add index data\r\n        earcut(coords, holes).forEach(i => indices.push(i + vertexCount))\r\n        vertexCount += coords.length / 2\r\n    }\r\n    root.forEach(process)\r\n    return [vertexData, indices]\r\n}\r\n\r\nlet draw = function (font: opentype.Font, words: Word[] = [], statement: string=defaultvs) {\r\n    let canvas = document.getElementById(\"emordle-canvas\") as HTMLCanvasElement\r\n    const width = canvas.width\r\n    const height = canvas.height\r\n    let polyAll: Polygon[] = []\r\n    for (let word of words) {\r\n        let polys = getPolys(font, word.x! - word.width! / 2, word.y, word.size, word.text)\r\n        polyAll = polyAll.concat(polys)\r\n    }\r\n    let root = getRoots(polyAll)\r\n    let [vertexData, indices] = getVertexData(root, polyAll)\r\n    drawOnCanvas(vertexData, indices, statement)\r\n}\r\n\r\nconst defaultvs = ` pos.y += pow(sin( (pos.x) / 500.+ uTime *.02),2.) * 20.;\r\npos.x += sin( pos.y/ 100. + uTime *.8) * .5;\r\n`\r\n\r\nconst staticvs = ` pos.y = pos.y;\r\npos.x = pos.x;\r\n`\r\n\r\nlet vsGenerator = function (speed: number, entropy: number) {\r\n  if (speed == 0) return staticvs\r\n  const waveletNum = Math.max(1, Math.floor(entropy * 10))\r\n  const timeGran = Number((0.01 + speed * 0.3)).toFixed(3)\r\n  const yAmplitude = Number(15.1 + 9.9 * entropy).toFixed(3)\r\n  const yExtent = Number(10.1 + (1.05 - entropy) * 359.9).toFixed(3)\r\n  const xExtent = Number(50.1 + (1.05 - entropy) * 150.1).toFixed(3)\r\n  const xAmplitude = Number(0.02 + 0.58 * entropy).toFixed(3)\r\n  let xPosStr = `sin( pos.y / ${xExtent} + uTime * ${timeGran}) * ${xAmplitude}`\r\n  let yPosStr = `pow(sin( (pos.x) / ${yExtent} + uTime * ${timeGran}), 2.) * ${yAmplitude}`\r\n  let result = `\r\n  pos.x += ${xPosStr};\r\n  pos.y += ${yPosStr};\r\n  `\r\n  return result\r\n  //return defaultvs\r\n}\r\n\r\nlet drawOnCanvas = function (vertexData: Float32Array, indices: Uint16Array, statement: string=defaultvs) {\r\n    const canvas = document.getElementById(\"emordle-canvas\") as HTMLCanvasElement\r\n    gl = canvas.getContext(\"webgl\")\r\n    const width = canvas.width\r\n    const height = canvas.height\r\n    gl.viewport(0, 0, width, height)\r\n    const vs = createShader(gl, gl.VERTEX_SHADER, `\r\n      precision mediump float;\r\n      uniform vec2 uScale;\r\n      uniform vec2 uOffset;\r\n      uniform float uTime;\r\n      attribute vec2 position;\r\n      varying vec4 fragColor;\r\n      void main() {\r\n      vec2 pos = position;\r\n      ${statement}\r\n      gl_Position = vec4(pos * uScale + uOffset, 0.0, 1.0);\r\n      fragColor = vec4(0., 0., 0., 1.);// vec4(sin(uTime*.5)*.5+.5, cos(uTime*.2)*.5+.5, 0., 1. ); // colorful\r\n    }`)\r\n    const ps = createShader(gl, gl.FRAGMENT_SHADER,\r\n        `precision mediump float;\r\n        uniform vec4 uColor;\r\n        uniform vec2 u_resolution;\r\n        varying vec4 fragColor;\r\n        void main() {\r\n        gl_FragColor = uColor;\r\n        vec2 st = gl_FragCoord.xy / u_resolution;\r\n        gl_FragColor = fragColor;\r\n        }`)\r\n    const prog = createProgram(gl, vs, ps)\r\n    gl.bindAttribLocation(prog, 0, \"position\")\r\n    const [uScale, uOffset, uColor, uTime, u_resolutionLoc, fragColor] = [\r\n    \"uScale\",\r\n    \"uOffset\",\r\n    \"uColor\",\r\n    \"uTime\",\r\n    \"u_resolution\",\r\n    \"fragColor\"\r\n    ].map(name => gl.getUniformLocation(prog, name))\r\n    time = uTime\r\n    gl.useProgram(prog)\r\n    gl.uniform1f(uTime, 0)\r\n    gl.uniform2fv(uScale, [2.0 / width, -2.0 / height])\r\n    gl.uniform2fv(uOffset, [0.0, 0.0])\r\n    gl.uniform4fv(uColor, [0.0, 0.0, 0.0, 1.0])\r\n    gl.uniform4fv(fragColor, [0.0, 0.0, 0.0, 1.0])\r\n    gl.uniform2f(u_resolutionLoc, gl.canvas.width, gl.canvas.height)\r\n    gl.clearColor(1.0, 1.0, 1.0, 1.0)\r\n    gl.clear(gl.COLOR_BUFFER_BIT)\r\n    const vertBuffer = gl.createBuffer()\r\n    gl.bindBuffer(gl.ARRAY_BUFFER, vertBuffer)\r\n    gl.bufferData(gl.ARRAY_BUFFER, vertexData, gl.STATIC_DRAW)\r\n    const indxBuffer = gl.createBuffer()\r\n    const indexData = new Uint16Array(indices)\r\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, indxBuffer)\r\n    gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, indexData, gl.STATIC_DRAW)\r\n    gl.enableVertexAttribArray(0)\r\n    gl.vertexAttribPointer(0, 2, gl.FLOAT, true, 8, 0)\r\n    gl.drawElements(gl.TRIANGLES, indices.length, gl.UNSIGNED_SHORT, 0)\r\n    gl.flush()\r\n    tick(Date.now())\r\n}\r\n\r\nlet onloadedFont = function(err: any, font: opentype.Font | undefined) {\r\n    if (err) {\r\n        alert(\"Font could not be loaded: \" + err)\r\n    } else if (font) {\r\n        console.log(font)\r\n        draw(font)\r\n    }\r\n}\r\n\r\nexport let test = function (fontUrl=FONTURL) {\r\n    opentype.load(\r\n        fontUrl,\r\n        onloadedFont\r\n      )    \r\n}\r\ninterface WavingParam {\r\n  words: Word[],\r\n  fontUrl?: string,\r\n  speed: number,\r\n  entropy: number\r\n}\r\nexport let jumpingWordle = function ({words=[], fontUrl=FONTURL, speed=0.5, entropy=0.5 }: WavingParam) {\r\n    opentype.load(\r\n        fontUrl,\r\n        function(err, fontMeta: opentype.Font | undefined) {\r\n            if (err) {\r\n                console.log(fontUrl)\r\n                alert(\"Font could not be loaded: \" + err)\r\n            } else if (fontMeta) {\r\n                let statement = vsGenerator(speed, entropy)\r\n                draw(fontMeta, words, statement)\r\n            }\r\n        }\r\n    )\r\n}","/* eslint-disable */\r\n/**\r\n * doc comment for animator.ts\r\n * @remarks \r\n * the latest design for animation unit\r\n * the logic is to use Animator to control GroupManager\r\n * @packageDocumentation\r\n */\r\nimport * as d3Timer from 'd3-timer'\r\nimport * as d3Ease from 'd3-ease'\r\nimport * as d3Itpl from 'd3-interpolate'\r\nimport { PlotHandler } from './plot'\r\nimport * as Gif from \"@/assets/lib/gif/gif\"\r\nimport { kmeans } from '@/assets/lib/kmeans'\r\nimport { FontConfig } from \"@/assets/variable-font\"\r\nimport * as Manual from \"@/assets/manual\"\r\nimport { KeyframeConfig, GroupingMode, Word, Mode, MetaConfig, GroupManagerConfig, AnimatorPlayParams} from \"@/assets/types\"\r\nimport { KeyFrameHandler } from './keyframe-handler'\r\nimport { Meta } from './animation'\r\nimport { jumpingWordle } from \"@/assets/jump\"\r\n\r\nclass KeyFrame implements KeyframeConfig {\r\n    public x: number = 0\r\n    public y: number = 0\r\n    public xoff: number = 0\r\n    public yoff: number = 0\r\n    public rotate: number = 0\r\n    public scale: number = 1\r\n    public opacity: number = 1\r\n    public color: string = 'black'\r\n    public stage: number = 0\r\n    public duration: number = 10\r\n    public font: FontConfig = new FontConfig() \r\n    constructor(configs: Partial<KeyframeConfig>) {\r\n        Object.assign(this, configs);\r\n    }\r\n}\r\n\r\nclass GroupManager implements GroupManagerConfig {\r\n    public order: number = 0;\r\n    public delay: number = 0;\r\n    public duration: number = 2000;\r\n    public ease: (a: number) => (number) = (a:number) => a; //d3Ease.easeCubic\r\n    public words: Array<MetaConfig> = [];\r\n    public origin: Array<MetaConfig> = [];\r\n    public keyFrames: Array<KeyFrame> = [];\r\n    public frameCounter: number = 0;\r\n    public font: FontConfig = new FontConfig();\r\n    constructor(configs: Partial<GroupManager>) {\r\n        Object.assign(this, configs);\r\n    }\r\n\r\n    public updateWord(ckf: KeyFrame, nkf: KeyFrame, frameAt: number, phase: number) {\r\n        this.font.setValWithRatio('width', 1);\r\n        // this.font.setValWithRatio('italic', Math.abs(Math.sin(Date.now()/1000)));\r\n        // this.font.setValWithRatio('weight', phase);\r\n        const color = d3Itpl.interpolateHcl(ckf.color, nkf.color)(frameAt);\r\n        this.font.update({\r\n            italic: (nkf.font.italic - ckf.font.italic) * this.ease(frameAt),\r\n            weight: (nkf.font.weight - ckf.font.weight) * this.ease(frameAt),\r\n        })\r\n        const fontString = this.font.getCss();\r\n        // assign by value  \r\n        this.words.forEach((d) => {\r\n            const xoff = (nkf.xoff - ckf.xoff) * this.ease(frameAt);\r\n            const yoff = (nkf.yoff - ckf.yoff) * this.ease(frameAt);\r\n            const scale = (nkf.scale - ckf.scale) * this.ease(frameAt);\r\n            const rotate = (nkf.rotate - ckf.rotate) * this.ease(frameAt);\r\n            d.x = d.x! + xoff;\r\n            d.y = d.y! + yoff;\r\n            d.rotate = rotate;\r\n            d.size = d.trues! * (1 + scale);\r\n         //   d.color = d.color || color;\r\n            d.fontString = fontString;\r\n        });\r\n    }\r\n\r\n    public setFrameCounter(fc: number) {\r\n        this.frameCounter = fc;\r\n    }\r\n\r\n    public reset() {\r\n        this.words = this.origin.map(a => Object.assign({}, a));\r\n        this.frameCounter = 0;\r\n    }\r\n}\r\n\r\n/** obatin animating frames and control the groups */\r\nclass WordleAnimator {\r\n    public data: Array<Word> = [];\r\n    public timer?: d3Timer.Timer | undefined;\r\n    readonly words: Array<MetaConfig> = new Array();\r\n    public duration: number = 30000;\r\n    public groupManagers: Array<GroupManager> = [];\r\n    public plotHandler?: PlotHandler;\r\n    public mode: Mode = Mode.dance;\r\n    public extent: number = 0.5;\r\n    public speed: number = 0.5;\r\n    public entropy: number = 0.5;\r\n    public gif: any;\r\n    public wordMap: Map<string, number> = new Map()\r\n    constructor(configs: Partial<WordleAnimator>) {\r\n        Object.assign(this, configs);\r\n        this.data.forEach((word: Word, idx: number) => {\r\n            this.wordMap.set(word.text!, idx)\r\n            this.words.push(new Meta(word, this.plotHandler!.width, this.plotHandler!.height))\r\n        })\r\n    }\r\n\r\n    public createManagers(numGroups: number, field: Partial<GroupManager>={}) {\r\n        this.groupManagers = new Array(numGroups);\r\n        for(var i = 0; i < numGroups; ++i) {\r\n            this.groupManagers[i] = new GroupManager(field);\r\n        }\r\n    }\r\n\r\n    public assignKeyFrame(keyFrames: KeyFrame[][]) {\r\n        this.groupManagers.forEach((gm, idx) => {\r\n            gm.keyFrames = keyFrames[idx];\r\n        });\r\n    }\r\n\r\n    /** Devide the words into groups\r\n     *  1. create groupNum group managers\r\n     *  2. assign words to each group manager according to the mode\r\n     */\r\n    public divideGroup(mode: GroupingMode, centers: [number, number][]=[]) {\r\n        let numGroup = centers.length == 0 ? this.groupManagers.length : centers.length;\r\n        let numWordsPerGroup = Math.ceil(this.words.length / numGroup);\r\n        let assignedWords = [] as MetaConfig[];\r\n        if (mode !== GroupingMode.xy) {\r\n            if (mode === GroupingMode.random) {\r\n                assignedWords = shuffle(this.words);\r\n            } else if (mode === GroupingMode.x) {\r\n                assignedWords = this.words.sort((a, b) => a.x! - b.x!);\r\n            } else if (mode == GroupingMode.y) {\r\n                assignedWords = this.words.sort((a, b) => a.y! - b.y!);\r\n            }\r\n            this.groupManagers.forEach((group, i) => {\r\n                const startIdx = numWordsPerGroup * i;\r\n                const endIdx = startIdx + numWordsPerGroup;\r\n                const words = assignedWords.slice(startIdx, endIdx);\r\n                group.origin = words.map(x => Object.assign({}, x));\r\n                group.words = words.map(x => Object.assign({}, x));\r\n            })\r\n        }\r\n        else {  // divide by xy\r\n            let positions = this.words.map((word: MetaConfig) => [word.x, word.y]);\r\n            let alias = centers.length == 0? \"kmeans\": centers \r\n            let result = kmeans(positions, numGroup, alias);\r\n            let wordBags = getMatrix(numGroup, 0) as Array<Array<MetaConfig>>;\r\n            result.indexes.forEach((d: number, idx: number) => {\r\n                wordBags[d].push(this.words[idx]);\r\n            });\r\n            this.groupManagers.forEach((group, idx) => {\r\n                const words = wordBags[idx];\r\n                group.origin = words.map(x => Object.assign({}, x));\r\n                group.words = words.map(x => Object.assign({}, x));\r\n            });\r\n        }\r\n    }\r\n\r\n    public reset() {\r\n        this.groupManagers.forEach(gm => {\r\n            gm.words = gm.origin.map((v) => Object.assign({}, v));\r\n            gm.frameCounter = 0;\r\n        })\r\n    }\r\n\r\n    public update(field: string, value: any) {\r\n        if (field === 'duration') this.duration = (value as number)\r\n        if (field === 'mode') this.mode = (value as Mode)\r\n    }\r\n\r\n    /** Play the animated wordle.\r\n     * @param {boolean} gifFlag whether to produce Gif\r\n     * 1. get keyframes with given extent, speed, entropy\r\n     *  - extent - extent at which\r\n     */\r\n    public play({gifFlag = false, replay = false} : AnimatorPlayParams = {}) {\r\n        let mode = this.mode\r\n        let svgFlag = mode !== Mode.wave\r\n        this.reset()\r\n        if (mode === Mode.wave) this.playWaving({gifFlag, replay})\r\n        if (mode === Mode.swing) this.playSwinging({gifFlag, replay})\r\n        if (mode === Mode.dance) this.playDancing({gifFlag, replay})\r\n        if (mode === Mode.split) this.playSplitting({gifFlag, replay})\r\n        this.plotHandler!.svg.style('display', svgFlag? '': 'none')\r\n        this.plotHandler!.canvas!.style.display = svgFlag? 'none': ''\r\n    }\r\n\r\n    public playWaving({gifFlag = false, replay = false} : AnimatorPlayParams = {}) {\r\n        let data = this.data.map(v => Object.assign({}, v))\r\n        let font = data[0].font\r\n        jumpingWordle({\r\n            words: data,\r\n            entropy: this.entropy,\r\n            speed: this.speed,\r\n            fontUrl: `./font/${font}.ttf`\r\n        })\r\n    }\r\n\r\n    public playSwinging({gifFlag = false, replay = false} : AnimatorPlayParams = {}) {\r\n        if (!replay) {\r\n            this.plotHandler?.plotOnSvg(this.data);\r\n            const keyFrameHandler = new KeyFrameHandler();\r\n            const wordLength = this.words.length;\r\n            const keyFrames = keyFrameHandler.getKeyFrames(Mode.swing, wordLength, this.speed, this.entropy);\r\n            const numGroups = keyFrames.length;\r\n            const divideMode = this.entropy > 0.5? GroupingMode.random : GroupingMode.y\r\n            this.createManagers(numGroups);\r\n            this.assignKeyFrame(keyFrames);\r\n            this.divideGroup(divideMode);\r\n        } else {\r\n            this.reset();\r\n        }  \r\n        this.startPlay(gifFlag, replay)      \r\n    }\r\n\r\n    public playSplitting({gifFlag = false, replay = false} : AnimatorPlayParams = {}) {\r\n        if (!replay) {\r\n            this.plotHandler?.plotOnSvg(this.data);\r\n            const keyFrameHandler =  new KeyFrameHandler();\r\n            const wordLength = this.words.length;\r\n            let centers = [] as Array<[number, number]>\r\n            let a = this.plotHandler!.width / 4, b = this.plotHandler!.height / 4\r\n            let alpha = Math.random() * Math.PI/4\r\n            const keyFrames = keyFrameHandler.getKeyFrames(Mode.split, wordLength, this.speed, this.entropy, alpha);\r\n            const numGroups = keyFrames.length;\r\n            for (let idx = 0; idx < numGroups; idx ++) {\r\n                let theta = idx * 2 * Math.PI / numGroups + alpha\r\n                let x = a * Math.cos(theta)\r\n                let y = b * Math.sin(theta)\r\n                centers.push([x, y])\r\n            }\r\n            this.createManagers(numGroups, {ease: d3Ease.easeExp});\r\n            this.assignKeyFrame(keyFrames);\r\n            this.divideGroup(GroupingMode.xy, centers);\r\n        } else {\r\n            this.reset();\r\n        }\r\n        this.startPlay(gifFlag, replay)\r\n    }\r\n\r\n\r\n    public playDancing({gifFlag = false, replay = false} : AnimatorPlayParams = {}) {\r\n        if (!replay) {\r\n            this.plotHandler?.plotOnSvg(this.data);\r\n            const keyFrameHandler = new KeyFrameHandler();\r\n            const wordLength = this.words.length;\r\n            const keyFrames = keyFrameHandler.getKeyFrames(Mode.dance, wordLength, this.extent , this.speed, this.entropy);\r\n            const numGroups = keyFrames.length;\r\n            const divideMode = getDivideMode();\r\n            this.createManagers(numGroups);\r\n            this.assignKeyFrame(keyFrames);\r\n            this.divideGroup(divideMode);\r\n        } else {\r\n            this.reset();\r\n        }  \r\n        this.startPlay(gifFlag, replay)      \r\n    }\r\n    /** Core function to play the animation according to the keyframes\r\n     *\r\n     * @param gifFlag \r\n     * @param replay \r\n     */\r\n    public startPlay(gifFlag = false, replay = false) {\r\n        const gms = this.groupManagers;\r\n        this.timer?.stop();\r\n        this.timer = d3Timer.timer((elapsed) => {\r\n            if (elapsed < this.duration) {      \r\n                let totalWords: Array<Word> = new Array<Word>(this.words.length);\r\n                gms.forEach((gm, _) => { \r\n                    let fc = gm.frameCounter;\r\n                    const keyFrames = gm.keyFrames;\r\n                    const ckf = keyFrames[fc];\r\n                    const nkf = keyFrames[fc + 1];\r\n                    const cfa = nkf.stage / 100 * this.duration;\r\n                    if( elapsed >= cfa ) {\r\n                        gm.setFrameCounter(fc + 1);\r\n                    }\r\n                    const fs = ckf.stage / 100 * this.duration; \r\n                    const frameAt = (elapsed - fs) / (cfa - fs);\r\n                    const phase = elapsed / gm.duration;\r\n                    gm.updateWord(ckf, nkf, frameAt, phase);\r\n                    gm.words.forEach((word, _) => {\r\n                        totalWords[this.wordMap.get(word.text!)!] = word\r\n                    })\r\n                })\r\n                this.plotHandler?.updateOnSvg(totalWords);\r\n                if (gifFlag) {\r\n                    this.gif.addFrame(this.plotHandler?.canvas, { copy: true, delay: this.duration / 256 });\r\n                }\r\n            }\r\n            else {\r\n                this.timer?.stop()\r\n                if (gifFlag) {\r\n                    this.gif.render()\r\n                }\r\n                this.play({gifFlag: gifFlag, replay: true});\r\n            }\r\n        }, 10)\r\n    }\r\n\r\n    private getTotalWords() {\r\n        let res = [] as Array<Word>;\r\n        this.groupManagers.forEach((group: GroupManager, idx: number) => {\r\n            res = res.concat(group.words)\r\n        })\r\n        return res\r\n    }\r\n\r\n    public stop() {\r\n        this.timer?.stop()\r\n    }\r\n    /**Generate Gif for a round\r\n     * Reference: https://github.com/jnordberg/gif.js\r\n    @param quality the sampling rate\r\n    */\r\n    public createGif(quality: number = 5) {\r\n        this.gif = new Gif({\r\n            quality: quality\r\n        })\r\n        let param = getKeyFrames();\r\n        this.gif.on('finished', function (blob: any) {\r\n            let wlink = document.createElement('a')\r\n            wlink.setAttribute('target', '_blank')\r\n            wlink.setAttribute('href', URL.createObjectURL(blob))\r\n            wlink.setAttribute('download', \"animation.gif\")\r\n            wlink.addEventListener('click', function () {\r\n                this.remove()\r\n            })\r\n            wlink.click()\r\n\r\n            let plink = document.createElement('a')\r\n            plink.setAttribute('target', '_blank')\r\n            plink.setAttribute('href', \"data:text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(param)))\r\n            plink.setAttribute('download', \"param.json\")\r\n            plink.addEventListener('click', function () {\r\n                this.remove()\r\n            })\r\n            plink.click()\r\n        })\r\n        return this\r\n    }\r\n\r\n    /** Group the words according to position.\r\n     */\r\n    private assignWords(groupNum: number, numWordsPerGroup: number, wordsCopy: MetaConfig[]) {\r\n        for (let i = 0; i < groupNum; i++) {\r\n            let startIdx = numWordsPerGroup * i;\r\n            let endIdx = startIdx + numWordsPerGroup;\r\n            this.groupManagers[i].words = wordsCopy.slice(startIdx, endIdx);\r\n        }\r\n    }\r\n\r\n}\r\n\r\nfunction getDivideMode() {\r\n    return GroupingMode.x;\r\n}\r\n\r\n// separate key frame getter logic from wordle class\r\nfunction getKeyFrames() {\r\n    // logic to get keyframes, hard coded for now\r\n    return [Manual.smallShake(), Manual.colorTransition(), Manual.shakeNRotate()];\r\n}\r\n\r\n\r\nlet shuffle = function <T>(array: T[]) {\r\n    let currIdx = array.length, tempVal, randIdx\r\n    while (0 != currIdx) {\r\n        randIdx = Math.floor(Math.random() * currIdx)\r\n        currIdx -= 1\r\n        tempVal = array[currIdx]\r\n        array[currIdx] = array[randIdx]\r\n        array[randIdx] = tempVal\r\n    }\r\n    return array\r\n}\r\n\r\nlet getMatrix = function <T>(row: number, col: number) {\r\n    let matrix = [] as Array<Array<T>>\r\n    for (let i = 0; i < row; i++) {\r\n        if (col !== 0) {\r\n            matrix.push(new Array(col).fill(0))\r\n        }\r\n        else {\r\n            let slot = [] as Array<T>\r\n            matrix.push(slot)\r\n        }\r\n    }\r\n    return matrix\r\n}\r\n\r\nexport { WordleAnimator, KeyFrame, GroupManager }","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./KeyframeList.vue?vue&type=style&index=0&id=456474e6&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Slider.vue?vue&type=style&index=0&id=78773d8c&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./GroupPanel.vue?vue&type=style&index=0&id=06031fd4&lang=scss&scoped=true\""],"sourceRoot":""}