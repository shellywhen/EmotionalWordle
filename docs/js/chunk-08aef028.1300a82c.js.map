{"version":3,"sources":["webpack:///./node_modules/vue-property-decorator/lib/helpers/metadata.js","webpack:///./node_modules/vue-property-decorator/lib/decorators/Prop.js","webpack:///./node_modules/vue-property-decorator/lib/decorators/Watch.js","webpack:///./src/components/ui/Slider.vue","webpack:///./src/components/ui/Slider.vue?dbd0","webpack:///./src/components/ui/Slider.vue?099f","webpack:///./node_modules/core-js/internals/this-number-value.js","webpack:///./src/views/Emordle.vue?7621","webpack:///./node_modules/d3-array/src/ticks.js","webpack:///./node_modules/d3-array/src/ascending.js","webpack:///./node_modules/d3-array/src/bisector.js","webpack:///./node_modules/d3-array/src/number.js","webpack:///./node_modules/d3-array/src/bisect.js","webpack:///./node_modules/d3-interpolate/src/round.js","webpack:///./node_modules/d3-scale/src/constant.js","webpack:///./node_modules/d3-scale/src/number.js","webpack:///./node_modules/d3-scale/src/continuous.js","webpack:///./node_modules/d3-scale/src/init.js","webpack:///./node_modules/d3-format/src/formatSpecifier.js","webpack:///./node_modules/d3-format/src/formatDecimal.js","webpack:///./node_modules/d3-format/src/exponent.js","webpack:///./node_modules/d3-format/src/formatPrefixAuto.js","webpack:///./node_modules/d3-format/src/defaultLocale.js","webpack:///./node_modules/d3-format/src/precisionPrefix.js","webpack:///./node_modules/d3-format/src/formatGroup.js","webpack:///./node_modules/d3-format/src/formatNumerals.js","webpack:///./node_modules/d3-format/src/formatTrim.js","webpack:///./node_modules/d3-format/src/formatRounded.js","webpack:///./node_modules/d3-format/src/formatTypes.js","webpack:///./node_modules/d3-format/src/identity.js","webpack:///./node_modules/d3-format/src/locale.js","webpack:///./node_modules/d3-format/src/precisionRound.js","webpack:///./node_modules/d3-format/src/precisionFixed.js","webpack:///./node_modules/d3-scale/src/tickFormat.js","webpack:///./node_modules/d3-scale/src/linear.js","webpack:///./node_modules/core-js/internals/whitespaces.js","webpack:///./node_modules/core-js/internals/string-trim.js","webpack:///./src/views/Emordle.vue","webpack:///./src/components/GroupPanel.vue","webpack:///./src/components/KeyframeList.vue","webpack:///./src/components/KeyframeList.vue?91e4","webpack:///./src/components/KeyframeList.vue?1ed3","webpack:///./src/assets/color-picker.ts","webpack:///./src/components/GroupPanel.vue?e1ef","webpack:///./src/components/GroupPanel.vue?ca89","webpack:///./src/views/Emordle.vue?c947","webpack:///./src/views/Emordle.vue?4d69","webpack:///./node_modules/tslib/tslib.es6.js","webpack:///./node_modules/core-js/modules/es.number.constructor.js","webpack:///./node_modules/core-js/modules/es.object.keys.js","webpack:///./node_modules/core-js/modules/es.math.trunc.js","webpack:///./node_modules/core-js/modules/es.number.to-fixed.js","webpack:///./node_modules/core-js/modules/es.object.get-own-property-descriptors.js","webpack:///./node_modules/core-js/modules/es.object.get-own-property-descriptor.js","webpack:///./node_modules/@simonwep/pickr/dist/pickr.min.js","webpack:///./node_modules/d3-ease/src/exp.js","webpack:///./node_modules/d3-color/src/math.js","webpack:///./node_modules/d3-color/src/lab.js","webpack:///./node_modules/d3-interpolate/src/hcl.js","webpack:///./src/assets/manual.ts","webpack:///./node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack:///./src/assets/keyframe-handler.ts","webpack:///./src/assets/jump.ts","webpack:///./src/assets/animator.ts","webpack:///./src/components/KeyframeList.vue?faa9","webpack:///./src/components/ui/Slider.vue?c62d","webpack:///./src/components/GroupPanel.vue?fd0f"],"names":["reflectMetadataIsSupported","Reflect","getMetadata","applyMetadata","options","target","key","Array","isArray","hasOwnProperty","type","Object","Prop","componentOptions","k","props","Watch","path","_a","deep","_b","immediate","handler","watch","create","push","class","label","showValue","value","rangeClass","min","max","step","callback","a","className","init","range","this","val","default","render","__scopeId","classof","module","exports","TypeError","e10","Math","sqrt","e5","e2","reverse","n","ticks","i","stop","start","count","tickIncrement","isFinite","ceil","floor","power","log","LN10","error","pow","tickStep","step0","abs","step1","b","NaN","f","delta","compare","left","x","lo","hi","length","mid","right","center","d","ascendingComparator","ascending","ascendingBisect","bisector","bisectRight","number","bisect","t","round","constants","unit","identity","normalize","isNaN","clamper","bimap","domain","interpolate","d0","d1","r0","r1","polymap","j","r","slice","copy","source","clamp","unknown","transformer","transform","untransform","piecewise","output","input","rescale","scale","map","invert","y","_","arguments","from","rangeRound","u","continuous","initRange","re","formatSpecifier","specifier","match","exec","Error","FormatSpecifier","fill","align","sign","symbol","zero","width","comma","precision","trim","undefined","prototype","toString","toLocaleString","replace","formatDecimalParts","p","toExponential","indexOf","coefficient","prefixExponent","g","grouping","substring","join","thousands","numerals","out","i1","s","i0","exponent","toFixed","formatDecimal","toPrecision","formatRounded","formatPrefixAuto","toUpperCase","prefixes","group","locale","formatGroup","call","Number","currencyPrefix","currency","currencySuffix","decimal","formatNumerals","String","percent","minus","nan","newFormat","formatTypes","prefix","test","toLowerCase","suffix","formatType","maybeSuffix","format","c","valuePrefix","valueSuffix","valueNegative","formatTrim","charCodeAt","Infinity","padding","formatPrefix","e","defaultLocale","definition","tickFormat","precisionPrefix","precisionRound","precisionFixed","linearish","nice","prestep","maxIter","linear","apply","requireObjectCoercible","whitespaces","whitespace","ltrim","RegExp","rtrim","createMethod","TYPE","$this","string","end","for","openFile","id","name","accept","handleUpload","$event","wordleData","collection","item","tag","tendencies","tendency","animationMode","animationModes","speedCallback","entropyCallback","play","getGif","height","styleScheme","zoomLevel","viewBox","preserveAspectRatio","groups","index","font","groupIndex","wordContent","colorScheme","durationCallback","delayCallback","keyframes","kf","xoff","yoff","rotate","style","color","xPadding","svgEle","d3","node","svgWidth","getBoundingClientRect","svgHeight","gap","stage","svg","containers","append","attr","selectAll","data","enter","classed","on","parentNode","select","text","swatches","defaultColor","colorList","identifier","el","theme","components","preview","opacity","hue","interaction","hex","rgba","hsla","hsva","cmyk","clear","save","delay","duration","console","colors","forEach","idx","v","setValWithRatio","words","keyFrames","Slider","KeyframeList","fileReader","FileReader","uploadFilename","speed","entropy","customColor","animator","extent","positive","negative","split","dance","wave","swing","plotHandler","addEventListener","parseFile","fileNames","tasks","Promise","all","then","dataList","property","filter","assign","assignColor","update","mode","reset","pv","parseFloat","event","file","files","readAsText","dataset","random","ele","state","replay","res","result","JSON","parse","createGif","gifFlag","document","createElement","href","URL","createObjectURL","Blob","stringify","download","click","remove","getElementById","groupManagers","fontStyle","fontWeight","fontFamily","GroupPanel","word","__decorate","decorators","desc","getOwnPropertyDescriptor","decorate","defineProperty","DESCRIPTORS","global","isForced","redefine","has","inheritIfRequired","toPrimitive","fails","getOwnPropertyNames","NUMBER","NativeNumber","NumberPrototype","BROKEN_CLASSOF","toNumber","argument","first","third","radix","maxCode","digits","code","it","parseInt","NumberWrapper","dummy","valueOf","keys","constructor","$","toObject","nativeKeys","FAILS_ON_PRIMITIVES","stat","forced","trunc","toInteger","thisNumberValue","repeat","nativeToFixed","acc","x2","FORCED","proto","fractionDigits","z","fractDigits","multiply","c2","divide","dataToString","RangeError","ownKeys","toIndexedObject","getOwnPropertyDescriptorModule","createProperty","sham","getOwnPropertyDescriptors","object","descriptor","O","nativeGetOwnPropertyDescriptor","window","o","l","m","enumerable","get","Symbol","toStringTag","__esModule","bind","HTMLCollection","NodeList","capture","innerHTML","firstElementChild","getAttribute","removeAttribute","children","composedPath","parentElement","Element","reduce","querySelector","shadowRoot","shiftKey","ctrlKey","deltaY","selectionStart","focus","setSelectionRange","preventDefault","dispatchEvent","Event","passive","h","w","A","getContext","fillStyle","hexa","values","C","padStart","clone","lock","onchange","onstop","activeElement","wrapper","cache","startsWith","_tapstop","_tapmove","cancelable","element","touches","clientX","clientY","top","offsetWidth","offsetHeight","_tapstart","_keyboard","S","elements","classList","stopPropagation","destroy","variantFlipOrder","middle","positionFlipOrder","bottom","position","margin","E","HTMLElement","reference","popper","container","documentElement","vs","vm","ve","hs","hm","he","L","configurable","writable","hide","show","change","changestop","cancel","swatchselect","DEFAULT_OPTIONS","sliders","lockOpacity","includes","palette","_preBuild","_buildComponents","_bindEvents","_finalBuild","addSwatch","button","app","_root","_nanopop","setAttribute","_t","_setupAnimationFrame","requestAnimationFrame","setColor","_rePositioningPicker","defaultRepresentation","_representation","setColorRepresentation","showAlways","_initializingActive","_emit","useAsButton","inline","appClass","find","hidden","add","contains","appendChild","root","removeChild","nextSibling","insertBefore","replaceChild","disabled","disable","comparison","transition","lastColor","_color","_lastColor","picker","currentColor","_recalc","_updateOutput","toRGBA","background","toHEXA","_swatchColors","slider","backgroundColor","trigger","selectable","_components","_clearColor","setHSVA","toHSVA","applyColor","stopImmediatePropagation","closeWithKey","isOpen","some","adjustableNumbers","getColorRepresentation","autoReposition","closeOnScroll","setTimeout","clearTimeout","_eventBindings","body","innerHeight","innerWidth","outputPrecision","i18n","I18N_DEFAULTS","_eventListener","splice","_parseLocalColor","cancelAnimationFrame","expInOut","radians","PI","degrees","K","Xn","Yn","Zn","t0","t1","t2","t3","labConvert","Lab","Hcl","hcl2lab","rgb2lrgb","xyz2lab","lab","lab2xyz","lrgb2rgb","hclConvert","atan2","hcl","cos","sin","define","brighter","darker","rgb","enumerableOnly","getOwnPropertySymbols","symbols","sym","_objectSpread2","defineProperties","minNumGroup","sampleFont","sampleItalic","italicRange","sampleWeight","weightRange","sampleItalicInterval","sampleWeightInterval","sampleItalicMid","sampleWeightMid","wordLength","alpha","getDiscoKeyFrames","getSplitKeyframes","getSwingingKeyFrames","maxNumGroup","numGroup","groupKeyFrames","italicDelta","weightDelta","fontMid","italic","weight","fontStart","fontEnd","fontWideMid","fontWideStart","animation","backupFrames","fid","iter","al","tl","move","groupKf","theta","dis","_move","_center","_rotate","_neg_rotate","randXD","randY","jump","FONTURL","time","pace","distance","p1","p2","dx","dy","lerp","cross","gl","MAX_BEZIER_STEPS","BEZIER_STEP_SIZE","EPSILON","points","area","cur","next","p0","dist","steps","tick","uniform1f","drawElements","TRIANGLES","UNSIGNED_SHORT","getRoots","polys","parent","inside","getPolys","getPath","commands","x1","y1","y2","moveTo","cubicTo","conicTo","close","sort","totalPoints","sum","vertexData","Float32Array","vertexCount","process","poly","coords","holes","child","set","statement","defaultvs","canvas","polyAll","size","concat","indices","staticvs","vsGenerator","timeGran","yAmplitude","yExtent","xExtent","xAmplitude","xPosStr","yPosStr","viewport","VERTEX_SHADER","ps","FRAGMENT_SHADER","prog","bindAttribLocation","getUniformLocation","uScale","uOffset","uColor","uTime","u_resolutionLoc","fragColor","useProgram","uniform2fv","uniform4fv","uniform2f","clearColor","COLOR_BUFFER_BIT","vertBuffer","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","indxBuffer","indexData","Uint16Array","ELEMENT_ARRAY_BUFFER","enableVertexAttribArray","vertexAttribPointer","FLOAT","flush","Date","now","fontUrl","load","err","fontMeta","alert","configs","order","ease","origin","frameCounter","ckf","nkf","frameAt","phase","fontString","getCss","trues","fc","wordMap","Map","numGroups","field","gm","centers","numWordsPerGroup","assignedWords","xy","startIdx","endIdx","positions","alias","kmeans","wordBags","getMatrix","indexes","svgFlag","playWaving","playSwinging","playDancing","playSplitting","display","plotOnSvg","keyFrameHandler","getKeyFrames","divideMode","createManagers","assignKeyFrame","divideGroup","startPlay","getDivideMode","gms","timer","elapsed","totalWords","cfa","setFrameCounter","fs","updateWord","updateOnSvg","gif","addFrame","quality","param","blob","wlink","plink","encodeURIComponent","groupNum","wordsCopy","array","tempVal","randIdx","currIdx","row","col","matrix","slot"],"mappings":"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","file":"js/chunk-08aef028.1300a82c.js","sourcesContent":["/** @see {@link https://github.com/vuejs/vue-class-component/blob/master/src/reflect.ts} */\nvar reflectMetadataIsSupported = typeof Reflect !== 'undefined' && typeof Reflect.getMetadata !== 'undefined';\nexport function applyMetadata(options, target, key) {\n    if (reflectMetadataIsSupported) {\n        if (!Array.isArray(options) &&\n            typeof options !== 'function' &&\n            !options.hasOwnProperty('type') &&\n            typeof options.type === 'undefined') {\n            var type = Reflect.getMetadata('design:type', target, key);\n            if (type !== Object) {\n                options.type = type;\n            }\n        }\n    }\n}\n","import { createDecorator } from 'vue-class-component';\nimport { applyMetadata } from '../helpers/metadata';\n/**\n * decorator of a prop\n * @param  options the options for the prop\n * @return PropertyDecorator | void\n */\nexport function Prop(options) {\n    if (options === void 0) { options = {}; }\n    return function (target, key) {\n        applyMetadata(options, target, key);\n        createDecorator(function (componentOptions, k) {\n            ;\n            (componentOptions.props || (componentOptions.props = {}))[k] = options;\n        })(target, key);\n    };\n}\n","import { createDecorator } from 'vue-class-component';\n/**\n * decorator of a watch function\n * @param  path the path or the expression to observe\n * @param  WatchOption\n * @return MethodDecorator\n */\nexport function Watch(path, options) {\n    if (options === void 0) { options = {}; }\n    var _a = options.deep, deep = _a === void 0 ? false : _a, _b = options.immediate, immediate = _b === void 0 ? false : _b;\n    return createDecorator(function (componentOptions, handler) {\n        if (typeof componentOptions.watch !== 'object') {\n            componentOptions.watch = Object.create(null);\n        }\n        var watch = componentOptions.watch;\n        if (typeof watch[path] === 'object' && !Array.isArray(watch[path])) {\n            watch[path] = [watch[path]];\n        }\n        else if (typeof watch[path] === 'undefined') {\n            watch[path] = [];\n        }\n        watch[path].push({ handler: handler, deep: deep, immediate: immediate });\n    });\n}\n","<template>\r\n  <div class=\"slider-container\">\r\n    <div class=\"config-tag slider-tag\">\r\n      <span>{{ label }}</span>\r\n      <span v-if=\"showValue\"> &nbsp;&nbsp; {{ value }} </span>\r\n    </div>\r\n    <input\r\n      type=\"range\"\r\n      :class=\"rangeClass\"\r\n      :min=\"min\"\r\n      :max=\"max\"\r\n      :step=\"step\"\r\n      v-model=\"value\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\n/* eslint-disable */\r\nimport { Prop, Watch } from \"vue-property-decorator\";\r\nimport { Vue } from \"vue-class-component\";\r\nimport * as d3 from \"d3\";\r\ntype Callback = (x: number) => void;\r\nexport default class Slider extends Vue {\r\n  @Prop({ default: 0 }) public min: number = 0;\r\n  @Prop({ default: 1 }) public max: number = 1;\r\n  @Prop({ default: 0.1 }) public step: number = 0.1;\r\n  @Prop({ default: (a: number) => {} }) public callback: Callback = (a: number) => {};\r\n  @Prop({ default: \"\" }) public label: string = \"\";\r\n  @Prop({ default: \"slider\" }) public className: string = \"slider\";\r\n  @Prop({ default: 0 }) public init: number = 0;\r\n  @Prop({ default: false }) public showValue: boolean = false\r\n  public value = 0;\r\n  public range = 1;\r\n  get rangeClass(): string {\r\n    return this.className + \" slider\";\r\n  }\r\n  created() {\r\n    this.value = this.init\r\n  }\r\n  @Watch(\"value\")\r\n  public valueChanged(val: number): void {\r\n    this.callback(val);\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n$deep-gray: #aaaeb3;\r\n$gray: #7a7a7a;\r\n$light-gray: #e2e6ea;\r\n$normal: #2c3e50;\r\n.slider-container {\r\n  width: 100%;\r\n  text-align: left;\r\n  margin-top: 2px;\r\n  .slider-tag {\r\n    position: relative;\r\n    // margin-bottom: -2vh;\r\n    color: black;\r\n    span:nth-child(2) {\r\n      position: absolute;\r\n      right: 0;\r\n    }\r\n  }\r\n}\r\n.slider {\r\n  -webkit-appearance: none;\r\n  width: 100%;\r\n  height: 0.8vh;\r\n  border-radius: 0.8vh;\r\n  background: $light-gray;\r\n  outline: none;\r\n  opacity: 0.7;\r\n  -webkit-transition: 0.2s;\r\n  transition: opacity 0.2s;\r\n}\r\n.slider::-webkit-slider-thumb {\r\n  -webkit-appearance: none;\r\n  appearance: none;\r\n  width: 2vh;\r\n  height: 2vh;\r\n  border-radius: 50%;\r\n  background: $deep-gray;\r\n  cursor: pointer;\r\n  &:hover {\r\n      background: $gray;\r\n    }\r\n}\r\n.slider::-moz-range-thumb {\r\n  width: 2vh;\r\n  height: 2vh;\r\n  border-radius: 50%;\r\n  background: $deep-gray;\r\n  cursor: pointer;\r\n}\r\n</style>\r\n","\r\n/* eslint-disable */\r\nimport { Prop, Watch } from \"vue-property-decorator\";\r\nimport { Vue } from \"vue-class-component\";\r\nimport * as d3 from \"d3\";\r\ntype Callback = (x: number) => void;\r\nexport default class Slider extends Vue {\r\n  @Prop({ default: 0 }) public min: number = 0;\r\n  @Prop({ default: 1 }) public max: number = 1;\r\n  @Prop({ default: 0.1 }) public step: number = 0.1;\r\n  @Prop({ default: (a: number) => {} }) public callback: Callback = (a: number) => {};\r\n  @Prop({ default: \"\" }) public label: string = \"\";\r\n  @Prop({ default: \"slider\" }) public className: string = \"slider\";\r\n  @Prop({ default: 0 }) public init: number = 0;\r\n  @Prop({ default: false }) public showValue: boolean = false\r\n  public value = 0;\r\n  public range = 1;\r\n  get rangeClass(): string {\r\n    return this.className + \" slider\";\r\n  }\r\n  created() {\r\n    this.value = this.init\r\n  }\r\n  @Watch(\"value\")\r\n  public valueChanged(val: number): void {\r\n    this.callback(val);\r\n  }\r\n}\r\n","import { render } from \"./Slider.vue?vue&type=template&id=78773d8c&scoped=true\"\nimport script from \"./Slider.vue?vue&type=script&lang=ts\"\nexport * from \"./Slider.vue?vue&type=script&lang=ts\"\n\nimport \"./Slider.vue?vue&type=style&index=0&id=78773d8c&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-78773d8c\"\n\nexport default script","var classof = require('../internals/classof-raw');\n\n// `thisNumberValue` abstract operation\n// https://tc39.github.io/ecma262/#sec-thisnumbervalue\nmodule.exports = function (value) {\n  if (typeof value != 'number' && classof(value) != 'Number') {\n    throw TypeError('Incorrect invocation');\n  }\n  return +value;\n};\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Emordle.vue?vue&type=style&index=0&id=1274acf8&lang=scss\"","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    step = -step;\n    start = Math.ceil(start * step);\n    stop = Math.floor(stop * step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending.js\";\n\nexport default function(f) {\n  let delta = f;\n  let compare = f;\n\n  if (f.length === 1) {\n    delta = (d, x) => f(d) - x;\n    compare = ascendingComparator(f);\n  }\n\n  function left(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    while (lo < hi) {\n      const mid = (lo + hi) >>> 1;\n      if (compare(a[mid], x) < 0) lo = mid + 1;\n      else hi = mid;\n    }\n    return lo;\n  }\n\n  function right(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    while (lo < hi) {\n      const mid = (lo + hi) >>> 1;\n      if (compare(a[mid], x) > 0) hi = mid;\n      else lo = mid + 1;\n    }\n    return lo;\n  }\n\n  function center(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    const i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n\n  return {left, center, right};\n}\n\nfunction ascendingComparator(f) {\n  return (d, x) => ascending(f(d), x);\n}\n","export default function(x) {\n  return x === null ? NaN : +x;\n}\n\nexport function* numbers(values, valueof) {\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  }\n}\n","import ascending from \"./ascending.js\";\nimport bisector from \"./bisector.js\";\nimport number from \"./number.js\";\n\nconst ascendingBisect = bisector(ascending);\nexport const bisectRight = ascendingBisect.right;\nexport const bisectLeft = ascendingBisect.left;\nexport const bisectCenter = bisector(number).center;\nexport default bisectRight;\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n","export default function constants(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function number(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport constant from \"./constant.js\";\nimport number from \"./number.js\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(a, b) {\n  var t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    var n = Math.min(domain.length, range.length);\n    if (clamp !== identity) clamp = clamper(domain[0], domain[n - 1]);\n    piecewise = n > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = Array.from(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? true : identity, rescale()) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous() {\n  return transformer()(identity, identity);\n}\n","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: {\n      if (typeof domain === \"function\") this.interpolator(domain);\n      else this.range(domain);\n      break;\n    }\n    default: {\n      this.domain(domain);\n      if (typeof interpolator === \"function\") this.interpolator(interpolator);\n      else this.range(interpolator);\n      break;\n    }\n  }\n  return this;\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","export default function(x) {\n  return Math.abs(x = Math.round(x)) >= 1e21\n      ? x.toLocaleString(\"en\").replace(/,/g, \"\")\n      : x.toString(10);\n}\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimalParts(1.23) returns [\"123\", 0].\nexport function formatDecimalParts(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimalParts(Math.abs(x)), x ? x[1] : NaN;\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimalParts(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatDecimal from \"./formatDecimal.js\";\nimport formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": (x, p) => (x * 100).toFixed(p),\n  \"b\": (x) => Math.round(x).toString(2),\n  \"c\": (x) => x + \"\",\n  \"d\": formatDecimal,\n  \"e\": (x, p) => x.toExponential(p),\n  \"f\": (x, p) => x.toFixed(p),\n  \"g\": (x, p) => x.toPrecision(p),\n  \"o\": (x) => Math.round(x).toString(8),\n  \"p\": (x, p) => formatRounded(x * 100, p),\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": (x) => Math.round(x).toString(16).toUpperCase(),\n  \"x\": (x) => Math.round(x).toString(16)\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"−\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function tickFormat(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport tickFormat from \"./tickFormat.js\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain();\n    var i0 = 0;\n    var i1 = d.length - 1;\n    var start = d[i0];\n    var stop = d[i1];\n    var prestep;\n    var step;\n    var maxIter = 10;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n    \n    while (maxIter-- > 0) {\n      step = tickIncrement(start, stop, count);\n      if (step === prestep) {\n        d[i0] = start\n        d[i1] = stop\n        return domain(d);\n      } else if (step > 0) {\n        start = Math.floor(start / step) * step;\n        stop = Math.ceil(stop / step) * step;\n      } else if (step < 0) {\n        start = Math.ceil(start * step) / step;\n        stop = Math.floor(stop * step) / step;\n      } else {\n        break;\n      }\n      prestep = step;\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous();\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","// a string of all valid unicode whitespaces\n// eslint-disable-next-line max-len\nmodule.exports = '\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var requireObjectCoercible = require('../internals/require-object-coercible');\nvar whitespaces = require('../internals/whitespaces');\n\nvar whitespace = '[' + whitespaces + ']';\nvar ltrim = RegExp('^' + whitespace + whitespace + '*');\nvar rtrim = RegExp(whitespace + whitespace + '*$');\n\n// `String.prototype.{ trim, trimStart, trimEnd, trimLeft, trimRight }` methods implementation\nvar createMethod = function (TYPE) {\n  return function ($this) {\n    var string = String(requireObjectCoercible($this));\n    if (TYPE & 1) string = string.replace(ltrim, '');\n    if (TYPE & 2) string = string.replace(rtrim, '');\n    return string;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.{ trimLeft, trimStart }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimstart\n  start: createMethod(1),\n  // `String.prototype.{ trimRight, trimEnd }` methods\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trimend\n  end: createMethod(2),\n  // `String.prototype.trim` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.trim\n  trim: createMethod(3)\n};\n","<template>\r\n  <div class=\"interface\">\r\n    <div class=\"wrapper row\">\r\n      <div class=\"parameters row col-2\">\r\n        <div>\r\n          <div class=\"wrapper\">\r\n            <span class=\"config-tag\">Dataset</span>\r\n             <div class=\"wrapper\">\r\n              <label class=\"form-label\" for=\"wordleUpload\">\r\n                Upload <span class=\"code\">JSON</span>\r\n              </label>\r\n              <button class=\"button\" @click=\"openFile\">\r\n                <i class=\"fas fa-cloud-upload-alt light\"></i>\r\n                <span class=\"code\">&nbsp;&nbsp;CSV</span>\r\n              </button>\r\n              <input\r\n                type=\"file\"\r\n                class=\"form-control-sm\"\r\n                id=\"wordleUpload\"\r\n                name=\"wordleUpload\"\r\n                accept=\"text/txt\"\r\n                @change=\"handleUpload($event)\"\r\n              />\r\n            </div>\r\n            <select name=\"dataset\" id=\"dataset\" v-model=\"wordleData\">\r\n              <option\r\n                v-for=\"item in collection\"\r\n                v-bind:key=\"item.tag\"\r\n                v-bind:value=\"item\"\r\n              >\r\n                {{ item.tag }}\r\n              </option>\r\n            </select>\r\n           \r\n          </div>\r\n          <br />\r\n          <div class=\"wrapper\">\r\n            <span class=\"config-tag\">Emotion</span>\r\n            <div class=\"config-radio\">\r\n              <div v-for=\"item in tendencies\" :key=\"item\">\r\n                <input\r\n                  type=\"radio\"\r\n                  :value=\"item\"\r\n                  :id=\"'mode-' + item[0]\"\r\n                  v-model=\"tendency\"\r\n                />\r\n                <label :for=\"'mode-' + item[0]\">\r\n                  {{ item }}\r\n                </label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"wrapper\">\r\n            <span class=\"config-tag\">Animation Scheme</span>\r\n            <select name=\"emotion-select\" v-model=\"animationMode\">\r\n              <option\r\n                v-for=\"item in animationModes\"\r\n                v-bind:key=\"item\"\r\n                v-bind:value=\"item\"\r\n              >\r\n                {{ item }}\r\n              </option>\r\n            </select>\r\n          </div>\r\n          <br />\r\n          <div class=\"slider-wrapper\">\r\n            <Slider\r\n              init=\"0.5\"\r\n              step=\"0.05\"\r\n              label=\"Speed\"\r\n              className=\"speed\"\r\n              :callback=\"speedCallback\"\r\n            ></Slider>\r\n          </div>\r\n          <div class=\"slider-wrapper\">\r\n            <Slider\r\n              init=\"0.5\"\r\n              step=\"0.05\"\r\n              label=\"Entropy\"\r\n              className=\"entropy\"\r\n              :callback=\"entropyCallback\"\r\n            ></Slider>\r\n          </div>\r\n          <br />\r\n          <div class=\"wrapper-mid row\">\r\n            <!-- <div class=\"col-4\">\r\n              <i\r\n                id=\"pauseButton\"\r\n                @click=\"pause()\"\r\n                class=\"fas fa-pause-circle lg light\"\r\n              ></i>\r\n            </div> -->\r\n            <div class=\"col-12\">\r\n              <i\r\n                id=\"playButton\"\r\n                @click=\"play()\"\r\n                class=\"fas fa-play-circle active lg light\"\r\n              ></i>\r\n            </div>\r\n            <!-- <div class=\"col-4\">\r\n              <i\r\n                id=\"replayButton\"\r\n                @click=\"replay()\"\r\n                class=\"fas fa-arrow-circle-left lg light\"\r\n              ></i>\r\n            </div> -->\r\n          </div>\r\n          <br />\r\n          <button type=\"button\" class=\"button\" @click=\"getGif\">\r\n            <i class=\"fas fa-check light\"></i>\r\n            <span class=\"code\">&nbsp;&nbsp;Generate</span>\r\n          </button>\r\n          <!-- <button type=\"button\" class=\"button\" @click=\"showGroup\">\r\n            <i class=\"fas fa-search light\"></i>\r\n            <span class=\"code\">&nbsp;&nbsp;Config</span>\r\n          </button> -->\r\n        </div>\r\n      </div>\r\n      <div class=\"col-10\">\r\n        <svg\r\n          id=\"emordle-svg\"\r\n          :height=\"styleScheme.height * zoomLevel\"\r\n          :width=\"styleScheme.width\"\r\n          :viewBox=\"\r\n            `${0} ${(-styleScheme.height * (1 - zoomLevel)) / 2} ${\r\n              styleScheme.width\r\n            } ${styleScheme.height+40}`\r\n          \"\r\n          preserveAspectRatio=\"xMidYMid meet\"\r\n        ></svg>\r\n        <canvas\r\n          id=\"emordle-canvas\"\r\n          :height=\"styleScheme.height * zoomLevel\"\r\n          :width=\"styleScheme.width\"\r\n        >\r\n        </canvas>\r\n        <div class=\"group-configs\">\r\n          <div\r\n            v-for=\"(item, index) in groups\"\r\n            v-bind:key=\"item\"\r\n            v-bind:class=\"`group-config group_config_${index}`\"\r\n          >\r\n            <GroupPanel\r\n              :group=\"item\"\r\n              :font=\"font\"\r\n              :groupIndex=\"index\"\r\n            ></GroupPanel>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script lang=\"ts\">\r\n/* eslint-disable */\r\nimport { Options, Vue } from \"vue-class-component\";\r\nimport { Prop, Watch } from \"vue-property-decorator\";\r\nimport { createColorPicker } from \"@/assets/color-picker\";\r\nimport Slider from \"@/components/ui/Slider.vue\";\r\nimport GroupPanel from \"@/components/GroupPanel.vue\";\r\nimport { Dataset, Word, EmotionMode, Mode, Style, GroupManagerConfig } from \"@/assets/types\";\r\nimport * as ColorPreset from \"@/assets/color-preset\";\r\nimport * as d3 from \"d3\";\r\nimport * as dsv from \"d3-dsv\";\r\nimport { FontConfig } from \"@/assets/variable-font\";\r\nimport { PlotHandler } from \"@/assets/plot\";\r\nimport { WordleAnimator } from \"@/assets/animator\";\r\n\r\n@Options({\r\n  components: {\r\n    Slider,\r\n    GroupPanel,\r\n  },\r\n})\r\nexport default class Emordle extends Vue {\r\n  public wordleData: Dataset | null = null;\r\n  public collection: Dataset[] = [];\r\n  public fileReader = new FileReader();\r\n  public zoomLevel: number = 0.8;\r\n  public uploadFilename: string = \"\";\r\n  public font = new FontConfig();\r\n  public duration: number = 5000;\r\n  public speed: number = 0.5;\r\n  public entropy: number = 0.5;\r\n  public customColor = \"#000000\";\r\n  public animator: null | WordleAnimator = null;\r\n  public extent: number = 0.5;\r\n  public tendencies: Array<EmotionMode> = [EmotionMode.positive, EmotionMode.negative];\r\n  public tendency: EmotionMode = EmotionMode.positive\r\n  public animationModes: Array<Mode> = [Mode.split, Mode.dance, Mode.wave, Mode.swing]\r\n  public animationMode: Mode = Mode.dance\r\n  get groups() {\r\n    if (!this.animator) return [] as Array<GroupManagerConfig>;\r\n    return this.animator.groupManagers;\r\n  }\r\n  get styleScheme() {\r\n    return {\r\n      fontStyle: \"regular\",\r\n      fontWeight: \"400\",\r\n      fontFamily: this.font.name,\r\n      height: 520,\r\n      width: 800,\r\n      font: this.font,\r\n    };\r\n  }\r\n  public plotHandler: undefined | PlotHandler = undefined;\r\n  mounted() {\r\n    this.fileReader.addEventListener(\"load\", this.parseFile, false);\r\n    //let fileNames = [\"2020_search\", \"xmas\", \"xmas-emoji\", \"thx\", \"Poe\", \"creep\", \"creep_emoji\", \"creep_mask\"]\r\n    let fileNames = [ \"Poe\", \"thx\", \"2020_search\", \"xmas\", \"ingredients\"];\r\n    let tasks = fileNames.map((tag: string) =>\r\n      d3.json(`./dataset/layout/layout_${tag}.json`)\r\n    );\r\n    Promise.all(tasks).then((dataList: any) => {\r\n      this.collection = dataList.map((data: Word[], idx: number) => {\r\n        return {\r\n          tag: fileNames[idx],\r\n          data: data,\r\n        };\r\n      });\r\n      this.wordleData = this.collection[0];\r\n      d3.select(\"#dataset\")\r\n        .selectAll(\"option\")\r\n        .property(\"selected\", \"false\")\r\n        .filter((v: any) => v[\"data-tag\"] == this.collection[0].tag)\r\n        .property(\"selected\", true);\r\n    });\r\n  }\r\n  @Watch(\"wordleData\")\r\n  wordleDataChanged() {\r\n    if (!this.wordleData) return;\r\n    let copy = this.wordleData.data.map((v) => Object.assign({}, v))\r\n    if(!('color' in copy[0])) copy = assignColor(copy)\r\n    this.font.update({name: copy[0].font})\r\n    this.plotHandler = new PlotHandler(\r\n      \"emordle-canvas\",\r\n      \"emordle-svg\",\r\n      this.styleScheme,\r\n      true\r\n    );\r\n    if(this.animator) this.animator!.stop();\r\n    this.animator = new WordleAnimator({\r\n      data: copy,\r\n      duration: this.duration,\r\n      plotHandler: this.plotHandler,\r\n      mode: this.animationMode\r\n    });\r\n    this.animator.play();\r\n  }\r\n  @Watch(\"animationMode\")\r\n  aniModeChanged() {\r\n    if(!this.wordleData) return\r\n    this.animator!.update('mode', this.animationMode)\r\n    this.animator!.reset()\r\n    this.animator!.play()\r\n  }\r\n  speedCallback(v: string) {\r\n    if (!this.wordleData) return;\r\n    const pv = parseFloat(v);\r\n    this.speed = pv;\r\n    this.animator!.speed = pv;\r\n    this.animator?.reset();\r\n    this.animator!.play();\r\n  }\r\n  entropyCallback(v: string) {\r\n    if (!this.wordleData) return;\r\n    const pv = parseFloat(v);\r\n    this.entropy = pv;\r\n    this.animator!.entropy = pv;\r\n    this.animator!.reset();\r\n    this.animator!.play();\r\n  }\r\n  handleUpload(event: any) {\r\n    let file = event.target.files[0];\r\n    if (!file) return;\r\n    this.fileReader.readAsText(file);\r\n    this.uploadFilename = file.name.split('.').slice(0, -1).join('.')\r\n    this.collection.forEach((dataset: Dataset) => {\r\n      if (dataset.tag == this.uploadFilename) {\r\n        this.uploadFilename +=\r\n          Math.random().toString() + Math.random.toString();\r\n      }\r\n    });\r\n  }\r\n  // showGroup() {\r\n  //   let ele = \".group-configs\";\r\n  //   let state = !d3.select(ele).classed(\"active\");\r\n  //   d3.select(ele).classed(\"active\", state);\r\n  //   console.log(state);\r\n  // }\r\n  // pause() {\r\n  //   let ele = \"#pauseButton\";\r\n  //   let state = !d3.select(ele).classed(\"active\");\r\n  //   d3.select(ele).classed(\"active\", state);\r\n  //   d3.select(\"#playButton\").classed(\"active\", !state);\r\n  //   if (!this.animator) return;\r\n  //   this.animator.stop();\r\n  // }\r\n  play() {\r\n    let ele = \"#playButton\";\r\n    let state = !d3.select(ele).classed(\"active\");\r\n    d3.select(ele)\r\n      .classed(\"active\", state)\r\n      .classed(\"fa-play-circle\", state)\r\n      .classed(\"fa-pause-circle\", !state)\r\n    // d3.select(\"#pauseButton\").classed(\"active\", !state);\r\n    if (!this.animator) return;\r\n    if (!state)  this.animator.stop()\r\n    else this.animator.play({replay: true})\r\n  }\r\n  // replay() {\r\n  //   if (!this.animator) return;\r\n  //   this.animator.play();\r\n  // }\r\n  parseFile() {\r\n    let res = this.fileReader.result;\r\n    if (!res || typeof res !== \"string\") return;\r\n    console.log(this.fileReader)\r\n    let data = JSON.parse(res)\r\n    let dataset = {\r\n      data: data,\r\n      tag: this.uploadFilename,\r\n    };\r\n    this.collection.push(dataset);\r\n    d3.select(\"#dataset\").property(\"value\", dataset);\r\n    this.wordleData = dataset;\r\n  }\r\n  downloadGif() {\r\n    if (!this.animator) return;\r\n    this.animator.createGif().play({ gifFlag: true });\r\n  }\r\n  downloadJson() {\r\n    if (!this.wordleData) return;\r\n    const a = document.createElement(\"a\");\r\n    a.href = URL.createObjectURL(\r\n      new Blob([JSON.stringify(this.wordleData.data)], { type: `text/json` })\r\n    );\r\n    a.download = `layout_${this.wordleData.tag}.json`;\r\n    a.click();\r\n    a.remove();\r\n  }\r\n  openFile() {\r\n    document.getElementById(\"wordleUpload\")!.click();\r\n  }\r\n}\r\nlet assignColor = function (words: Word[]) {\r\n  words.forEach((word: Word, idx: number) => {\r\n    word.color = \"black\";\r\n  });\r\n  return words;\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\n@import \"@/assets/scss/_ui.scss\";\r\n.group-configs {\r\n  visibility: hidden;\r\n  display: none;\r\n  // display: flex;\r\n    &.active {\r\n    visibility: visible;\r\n    flex-wrap: wrap; /* | wrap-reverse;*/\r\n    -webkit-flex-wrap: wrap;\r\n  }\r\n  .group-config {\r\n    width: fit-content;\r\n    margin: 1vh 1vw;\r\n  }\r\n}\r\n</style>","/* eslint-disable */\r\n<template>\r\n  <div class=\"groupConfig\">\r\n    <div class=\"word-group-div\">\r\n      <span v-for=\"item in wordContent\" v-bind:key=\"item\" class=\"word-content\">\r\n        {{ item }}\r\n      </span>\r\n    </div>\r\n    <div class=\"color-set\">\r\n      <div class=\"group-color\">\r\n        <div\r\n          v-for=\"(item, index) in colorScheme\"\r\n          v-bind:key=\"item\"\r\n          :id=\"`color_${groupIndex}_${index}`\"\r\n          class=\"color-block\"\r\n        ></div>\r\n      </div>\r\n    </div>\r\n    <div class=\"sliders\">\r\n      <div class=\"slider-wrapper\">\r\n        <Slider\r\n          max=\"8000\"\r\n          min=\"1000\"\r\n          init=\"5000\"\r\n          step=\"500\"\r\n          label=\"Speed\"\r\n          className=\"duration\"\r\n          :callback=\"durationCallback\"\r\n        ></Slider>\r\n      </div>\r\n      <div class=\"slider-wrapper\">\r\n        <Slider\r\n          max=\"8000\"\r\n          min=\"1000\"\r\n          init=\"5000\"\r\n          step=\"500\"\r\n          label=\"Delay\"\r\n          className=\"delay\"\r\n          :callback=\"delayCallback\"\r\n        ></Slider>\r\n      </div>\r\n      <!-- <div class=\"slider-wrapper\">\r\n        <Slider\r\n          label=\"f: widh\"\r\n          className=\"widh\"\r\n          :callback=\"widhCallback\"\r\n        ></Slider>\r\n      </div>\r\n      <div class=\"slider-wrapper\">\r\n        <Slider\r\n          label=\"f: wght\"\r\n          className=\"wght\"\r\n          :callback=\"wghtCallback\"\r\n        ></Slider>\r\n      </div>\r\n      <div class=\"slider-wrapper\">\r\n        <Slider\r\n          label=\"f: ital\"\r\n          className=\"ital\"\r\n          :callback=\"italCallback\"\r\n        ></Slider>\r\n      </div> -->\r\n      <div class=\"keyframes\">\r\n        <KeyframeList :keyframes=\"keyframes\" :groupIndex=\"groupIndex\"></KeyframeList>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script lang=\"ts\">\r\n/* eslint-disable */\r\nimport { Prop, Watch } from \"vue-property-decorator\";\r\nimport { Options, Vue } from \"vue-class-component\";\r\nimport Slider from \"@/components/ui/Slider.vue\";\r\nimport KeyframeList from \"@/components/KeyframeList.vue\";\r\nimport * as d3 from \"d3\";\r\nimport * as ColorPreset from \"@/assets/color-preset\";\r\nimport { createColorPicker } from \"@/assets/color-picker\";\r\nimport { FontConfig } from \"@/assets/variable-font\";\r\nimport { KeyframeConfig, GroupManagerConfig, Word } from \"@/assets/types\";\r\nimport { GroupManager } from \"@/assets/animator\"\r\n@Options({\r\n  components: {\r\n    Slider,\r\n    KeyframeList\r\n  },\r\n})\r\nexport default class GroupPanel extends Vue {\r\n  @Prop({}) public group: GroupManagerConfig = new GroupManager({})\r\n  @Prop({}) public font: FontConfig = new FontConfig()\r\n  @Prop({}) public groupIndex: number = 0\r\n  private colorScheme: Array<string> = ColorPreset.exciting\r\n  private delay: number = 0\r\n  private duration: number = 2000\r\n  get wordContent(): Array<string> {\r\n    if(!this.group) return []\r\n    return this.group.words.map((v: Word) => v.text || \"\")\r\n  }\r\n  get keyframes(): Array<KeyframeConfig> {\r\n    if(!this.group) return []\r\n    return this.group.keyFrames\r\n  }\r\n  created() { \r\n    \r\n  }\r\n  mounted() {\r\n    // let colors = this.colorScheme\r\n    //  this.colorScheme.forEach((c, idx) => {\r\n    //   createColorPicker(c, colors, `#color_${this.groupIndex}_${idx}`)\r\n    // })\r\n  }\r\n  @Watch(\"group\")\r\n  public groupChanged(val: GroupManagerConfig): void {\r\n    console.log(val, 'nonono')\r\n     let colors = this.colorScheme\r\n     this.colorScheme.forEach((c, idx) => {\r\n      createColorPicker(c, colors, `#color_${this.groupIndex}_${idx}`)\r\n    })\r\n  }\r\n  wghtCallback(v: number) {\r\n    this.font.setValWithRatio(\"weight\", v);\r\n  }\r\n  italCallback(v: number) {\r\n    this.font.setValWithRatio(\"italic\", v);\r\n  }\r\n  widhCallback(v: number) {\r\n    this.font.setValWithRatio(\"width\", v);\r\n  }\r\n  durationCallback(v: number) {\r\n    this.duration = v;\r\n  }\r\n  delayCallback(v: number) {\r\n    this.delay = v;\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n$deep-gray: #343a40;\r\n$gray: #c0c0c0;\r\n$light-gray: #f8f9fa;\r\n.group-color {\r\n  display: flex;\r\n}\r\n.groupConfig {\r\n  border: $gray solid 1px;\r\n  border-radius: 5px;\r\n  padding: 10px;\r\n  width: 20vw;\r\n  .pickr {\r\n    flex-wrap: wrap;\r\n    -webkit-flex-wrap: wrap;\r\n    margin-left: 2px;\r\n  }\r\n  .sliders {\r\n    width: 100%;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    -webkit-flex-wrap: wrap;\r\n    align-items: center;\r\n    justify-content: center;\r\n    .slider-wrapper {\r\n      width: 48%;\r\n      margin: 0 0.3vw 0 0;\r\n    }\r\n  }\r\n  .word-group-div {\r\n    line-height: 0.8;\r\n    // display: none;\r\n    .word-content {\r\n      margin-left: .2em;\r\n      padding: 0.1em 0.1em;\r\n      color: $deep-gray;\r\n      background-color: $light-gray;\r\n      display: inline-block;\r\n      font-size: .75em;\r\n      font-weight: 700;\r\n      line-height: 1;\r\n      text-align: center;\r\n      white-space: nowrap;\r\n      vertical-align: baseline;\r\n      border-radius: .25rem;\r\n    }\r\n  }\r\n}\r\n</style>","/* eslint-disable */\r\n<template>\r\n  <div class=\"keyframe-configs\">\r\n    <svg :class=\"`stage-overview stage_overview_${groupIndex}`\">\r\n    </svg>\r\n      <div v-for=\"kf in keyframes\" v-bind:key=\"kf\" class=\"keyframe-config\">\r\n      <span>×</span>\r\n      <span> {{ kf.scale }} </span>\r\n      <span>→</span>\r\n      <span>{{ kf.xoff }}</span>\r\n      <span>↓</span>\r\n      <span>{{ kf.yoff }}</span>\r\n      <span>↻</span>\r\n      <span>{{ `${kf.rotate}°` }}</span>\r\n      <span>&nbsp;<button class=\"color-btn\" :style=\"{ 'background-color': kf.color }\"></button> </span>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script lang=\"ts\">\r\n/* eslint-disable */\r\nimport { Prop, Watch } from \"vue-property-decorator\";\r\nimport { Vue } from \"vue-class-component\";\r\nimport * as d3 from \"d3\";\r\nimport * as d3Scale from \"d3-scale\";\r\nimport * as ColorPreset from \"@/assets/color-preset\";\r\nimport { createColorPicker } from \"@/assets/color-picker\";\r\nimport { FontConfig } from \"@/assets/variable-font\";\r\nimport { KeyframeConfig } from \"@/assets/types\";\r\nconst xPadding = 0.08;\r\nconst yPadding = 0.1;\r\nexport default class KeyframeList extends Vue {\r\n  @Prop({}) public keyframes: Array<KeyframeConfig> = [] as Array<KeyframeConfig>\r\n  @Prop({}) public groupIndex: number = 0\r\n  created() {\r\n  }\r\n  mounted() {\r\n    let svgEle = d3.select('.stage-overview').node() as SVGElement\r\n    let svgWidth = svgEle.getBoundingClientRect().width\r\n    let svgHeight = svgEle.getBoundingClientRect().height\r\n    let scale = d3Scale.scaleLinear().range([0, svgWidth * (1-2*xPadding)]).domain([0,100])\r\n    let invertScale = scale.invert\r\n    let gap = svgWidth * (1 - 2 * xPadding) / this.keyframes.length * 0.9\r\n    for (let i = 1; i < this.keyframes.length; i ++) {\r\n      gap = Math.min((this.keyframes[i].stage - this.keyframes[i-1].stage) * 0.9, gap) \r\n    }\r\n    let svg = d3.select(`.stage_overview_${this.groupIndex}`)\r\n    let containers = svg.append('g')\r\n      .attr('transform', `translate(${svgWidth * xPadding}, 0)`)\r\n      .selectAll('circle')\r\n      .data(this.keyframes)\r\n      .enter()\r\n      .append('g')\r\n      .attr('transform', d => `translate(${scale(d.stage)}, 0)`)\r\n      .classed('stage-hint', true )\r\n    containers.append('rect')\r\n      .classed('overlay-rect', true)\r\n      .attr('x', - gap / 2)\r\n      .attr('y', 0)\r\n      .attr('width', gap)\r\n      .attr('height', svgHeight)\r\n      .on('mouseover', function(this: any, e: any, d: any) {\r\n        d3.select(this.parentNode!).select('text').classed('active', true)\r\n\r\n      })\r\n      .on('mouseout', function(this: any, e: any, d: any) {\r\n        d3.select(this.parentNode).select('text').classed('active', false)\r\n      })\r\n    containers.append('circle')\r\n      .classed('stage-point', true)\r\n      .attr('cx', 0)\r\n      .attr('cy', svgHeight / 2)\r\n      .attr('r', 3)\r\n    containers.append('text')\r\n      .classed('annotation', true)\r\n      .attr('y', svgHeight / 4)\r\n      .text(d => `${Number(d.stage/100).toPrecision(4).substring(1, 4)}`)\r\n\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n.color-btn {\r\n  width: .8rem;\r\n  height: .8rem;\r\n  border-radius: 1.6rem;\r\n  text-size: x-small;\r\n}\r\n.keyframe-configs {\r\n  width:100%;\r\n  font-size: x-small;\r\n  svg {\r\n    width: 100%;\r\n    height: 10vh;\r\n  }\r\n  .keyframe-config {\r\n    span {\r\n      margin-left: 0.2rem;\r\n    }\r\n  }\r\n}\r\n.overlay-rect {\r\n    fill: white;\r\n    opacity: 0;\r\n}\r\n.stage-point {\r\n  fill: steelblue;\r\n}\r\n.annotation {\r\n  fill: black;\r\n  text-anchor: middle;\r\n  font-size: 10px;\r\n  visibility: hidden;\r\n  &.active {\r\n    visibility: visible;\r\n  }\r\n}\r\n</style>","\r\n/* eslint-disable */\r\nimport { Prop, Watch } from \"vue-property-decorator\";\r\nimport { Vue } from \"vue-class-component\";\r\nimport * as d3 from \"d3\";\r\nimport * as d3Scale from \"d3-scale\";\r\nimport * as ColorPreset from \"@/assets/color-preset\";\r\nimport { createColorPicker } from \"@/assets/color-picker\";\r\nimport { FontConfig } from \"@/assets/variable-font\";\r\nimport { KeyframeConfig } from \"@/assets/types\";\r\nconst xPadding = 0.08;\r\nconst yPadding = 0.1;\r\nexport default class KeyframeList extends Vue {\r\n  @Prop({}) public keyframes: Array<KeyframeConfig> = [] as Array<KeyframeConfig>\r\n  @Prop({}) public groupIndex: number = 0\r\n  created() {\r\n  }\r\n  mounted() {\r\n    let svgEle = d3.select('.stage-overview').node() as SVGElement\r\n    let svgWidth = svgEle.getBoundingClientRect().width\r\n    let svgHeight = svgEle.getBoundingClientRect().height\r\n    let scale = d3Scale.scaleLinear().range([0, svgWidth * (1-2*xPadding)]).domain([0,100])\r\n    let invertScale = scale.invert\r\n    let gap = svgWidth * (1 - 2 * xPadding) / this.keyframes.length * 0.9\r\n    for (let i = 1; i < this.keyframes.length; i ++) {\r\n      gap = Math.min((this.keyframes[i].stage - this.keyframes[i-1].stage) * 0.9, gap) \r\n    }\r\n    let svg = d3.select(`.stage_overview_${this.groupIndex}`)\r\n    let containers = svg.append('g')\r\n      .attr('transform', `translate(${svgWidth * xPadding}, 0)`)\r\n      .selectAll('circle')\r\n      .data(this.keyframes)\r\n      .enter()\r\n      .append('g')\r\n      .attr('transform', d => `translate(${scale(d.stage)}, 0)`)\r\n      .classed('stage-hint', true )\r\n    containers.append('rect')\r\n      .classed('overlay-rect', true)\r\n      .attr('x', - gap / 2)\r\n      .attr('y', 0)\r\n      .attr('width', gap)\r\n      .attr('height', svgHeight)\r\n      .on('mouseover', function(this: any, e: any, d: any) {\r\n        d3.select(this.parentNode!).select('text').classed('active', true)\r\n\r\n      })\r\n      .on('mouseout', function(this: any, e: any, d: any) {\r\n        d3.select(this.parentNode).select('text').classed('active', false)\r\n      })\r\n    containers.append('circle')\r\n      .classed('stage-point', true)\r\n      .attr('cx', 0)\r\n      .attr('cy', svgHeight / 2)\r\n      .attr('r', 3)\r\n    containers.append('text')\r\n      .classed('annotation', true)\r\n      .attr('y', svgHeight / 4)\r\n      .text(d => `${Number(d.stage/100).toPrecision(4).substring(1, 4)}`)\r\n\r\n  }\r\n}\r\n","import { render } from \"./KeyframeList.vue?vue&type=template&id=456474e6\"\nimport script from \"./KeyframeList.vue?vue&type=script&lang=ts\"\nexport * from \"./KeyframeList.vue?vue&type=script&lang=ts\"\n\nimport \"./KeyframeList.vue?vue&type=style&index=0&id=456474e6&lang=scss\"\nscript.render = render\n\nexport default script","/* eslint-disable */\r\n/**\r\n * doc comment for color-picker.ts.\r\n * create a color picker.\r\n * @packageDocumentation\r\n */\r\nimport Pickr from \"@simonwep/pickr\"\r\nimport { rainbow } from \"@/assets/color-preset\"\r\nlet swatches = rainbow\r\nlet createColorPicker = function (defaultColor: string, colorList:Array<string> = swatches, identifier: string = '.color-picker') {\r\n    const pickr = Pickr.create({\r\n        el: identifier,\r\n        theme: 'nano',\r\n        swatches: colorList,\r\n        default: defaultColor,\r\n        components: {\r\n            // Main components\r\n            preview: true,\r\n            opacity: true,\r\n            hue: true,\r\n            // Input / output Options\r\n            interaction: {\r\n                hex: true,\r\n                rgba: true,\r\n                hsla: true,\r\n                hsva: true,\r\n                cmyk: true,\r\n                input: true,\r\n                clear: true,\r\n                save: true\r\n            }\r\n        }\r\n    })\r\n}\r\n\r\n\r\nexport {\r\n    createColorPicker\r\n}","\r\n/* eslint-disable */\r\nimport { Prop, Watch } from \"vue-property-decorator\";\r\nimport { Options, Vue } from \"vue-class-component\";\r\nimport Slider from \"@/components/ui/Slider.vue\";\r\nimport KeyframeList from \"@/components/KeyframeList.vue\";\r\nimport * as d3 from \"d3\";\r\nimport * as ColorPreset from \"@/assets/color-preset\";\r\nimport { createColorPicker } from \"@/assets/color-picker\";\r\nimport { FontConfig } from \"@/assets/variable-font\";\r\nimport { KeyframeConfig, GroupManagerConfig, Word } from \"@/assets/types\";\r\nimport { GroupManager } from \"@/assets/animator\"\r\n@Options({\r\n  components: {\r\n    Slider,\r\n    KeyframeList\r\n  },\r\n})\r\nexport default class GroupPanel extends Vue {\r\n  @Prop({}) public group: GroupManagerConfig = new GroupManager({})\r\n  @Prop({}) public font: FontConfig = new FontConfig()\r\n  @Prop({}) public groupIndex: number = 0\r\n  private colorScheme: Array<string> = ColorPreset.exciting\r\n  private delay: number = 0\r\n  private duration: number = 2000\r\n  get wordContent(): Array<string> {\r\n    if(!this.group) return []\r\n    return this.group.words.map((v: Word) => v.text || \"\")\r\n  }\r\n  get keyframes(): Array<KeyframeConfig> {\r\n    if(!this.group) return []\r\n    return this.group.keyFrames\r\n  }\r\n  created() { \r\n    \r\n  }\r\n  mounted() {\r\n    // let colors = this.colorScheme\r\n    //  this.colorScheme.forEach((c, idx) => {\r\n    //   createColorPicker(c, colors, `#color_${this.groupIndex}_${idx}`)\r\n    // })\r\n  }\r\n  @Watch(\"group\")\r\n  public groupChanged(val: GroupManagerConfig): void {\r\n    console.log(val, 'nonono')\r\n     let colors = this.colorScheme\r\n     this.colorScheme.forEach((c, idx) => {\r\n      createColorPicker(c, colors, `#color_${this.groupIndex}_${idx}`)\r\n    })\r\n  }\r\n  wghtCallback(v: number) {\r\n    this.font.setValWithRatio(\"weight\", v);\r\n  }\r\n  italCallback(v: number) {\r\n    this.font.setValWithRatio(\"italic\", v);\r\n  }\r\n  widhCallback(v: number) {\r\n    this.font.setValWithRatio(\"width\", v);\r\n  }\r\n  durationCallback(v: number) {\r\n    this.duration = v;\r\n  }\r\n  delayCallback(v: number) {\r\n    this.delay = v;\r\n  }\r\n}\r\n","import { render } from \"./GroupPanel.vue?vue&type=template&id=06031fd4&scoped=true\"\nimport script from \"./GroupPanel.vue?vue&type=script&lang=ts\"\nexport * from \"./GroupPanel.vue?vue&type=script&lang=ts\"\n\nimport \"./GroupPanel.vue?vue&type=style&index=0&id=06031fd4&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-06031fd4\"\n\nexport default script","\r\n/* eslint-disable */\r\nimport { Options, Vue } from \"vue-class-component\";\r\nimport { Prop, Watch } from \"vue-property-decorator\";\r\nimport { createColorPicker } from \"@/assets/color-picker\";\r\nimport Slider from \"@/components/ui/Slider.vue\";\r\nimport GroupPanel from \"@/components/GroupPanel.vue\";\r\nimport { Dataset, Word, EmotionMode, Mode, Style, GroupManagerConfig } from \"@/assets/types\";\r\nimport * as ColorPreset from \"@/assets/color-preset\";\r\nimport * as d3 from \"d3\";\r\nimport * as dsv from \"d3-dsv\";\r\nimport { FontConfig } from \"@/assets/variable-font\";\r\nimport { PlotHandler } from \"@/assets/plot\";\r\nimport { WordleAnimator } from \"@/assets/animator\";\r\n\r\n@Options({\r\n  components: {\r\n    Slider,\r\n    GroupPanel,\r\n  },\r\n})\r\nexport default class Emordle extends Vue {\r\n  public wordleData: Dataset | null = null;\r\n  public collection: Dataset[] = [];\r\n  public fileReader = new FileReader();\r\n  public zoomLevel: number = 0.8;\r\n  public uploadFilename: string = \"\";\r\n  public font = new FontConfig();\r\n  public duration: number = 5000;\r\n  public speed: number = 0.5;\r\n  public entropy: number = 0.5;\r\n  public customColor = \"#000000\";\r\n  public animator: null | WordleAnimator = null;\r\n  public extent: number = 0.5;\r\n  public tendencies: Array<EmotionMode> = [EmotionMode.positive, EmotionMode.negative];\r\n  public tendency: EmotionMode = EmotionMode.positive\r\n  public animationModes: Array<Mode> = [Mode.split, Mode.dance, Mode.wave, Mode.swing]\r\n  public animationMode: Mode = Mode.dance\r\n  get groups() {\r\n    if (!this.animator) return [] as Array<GroupManagerConfig>;\r\n    return this.animator.groupManagers;\r\n  }\r\n  get styleScheme() {\r\n    return {\r\n      fontStyle: \"regular\",\r\n      fontWeight: \"400\",\r\n      fontFamily: this.font.name,\r\n      height: 520,\r\n      width: 800,\r\n      font: this.font,\r\n    };\r\n  }\r\n  public plotHandler: undefined | PlotHandler = undefined;\r\n  mounted() {\r\n    this.fileReader.addEventListener(\"load\", this.parseFile, false);\r\n    //let fileNames = [\"2020_search\", \"xmas\", \"xmas-emoji\", \"thx\", \"Poe\", \"creep\", \"creep_emoji\", \"creep_mask\"]\r\n    let fileNames = [ \"Poe\", \"thx\", \"2020_search\", \"xmas\", \"ingredients\"];\r\n    let tasks = fileNames.map((tag: string) =>\r\n      d3.json(`./dataset/layout/layout_${tag}.json`)\r\n    );\r\n    Promise.all(tasks).then((dataList: any) => {\r\n      this.collection = dataList.map((data: Word[], idx: number) => {\r\n        return {\r\n          tag: fileNames[idx],\r\n          data: data,\r\n        };\r\n      });\r\n      this.wordleData = this.collection[0];\r\n      d3.select(\"#dataset\")\r\n        .selectAll(\"option\")\r\n        .property(\"selected\", \"false\")\r\n        .filter((v: any) => v[\"data-tag\"] == this.collection[0].tag)\r\n        .property(\"selected\", true);\r\n    });\r\n  }\r\n  @Watch(\"wordleData\")\r\n  wordleDataChanged() {\r\n    if (!this.wordleData) return;\r\n    let copy = this.wordleData.data.map((v) => Object.assign({}, v))\r\n    if(!('color' in copy[0])) copy = assignColor(copy)\r\n    this.font.update({name: copy[0].font})\r\n    this.plotHandler = new PlotHandler(\r\n      \"emordle-canvas\",\r\n      \"emordle-svg\",\r\n      this.styleScheme,\r\n      true\r\n    );\r\n    if(this.animator) this.animator!.stop();\r\n    this.animator = new WordleAnimator({\r\n      data: copy,\r\n      duration: this.duration,\r\n      plotHandler: this.plotHandler,\r\n      mode: this.animationMode\r\n    });\r\n    this.animator.play();\r\n  }\r\n  @Watch(\"animationMode\")\r\n  aniModeChanged() {\r\n    if(!this.wordleData) return\r\n    this.animator!.update('mode', this.animationMode)\r\n    this.animator!.reset()\r\n    this.animator!.play()\r\n  }\r\n  speedCallback(v: string) {\r\n    if (!this.wordleData) return;\r\n    const pv = parseFloat(v);\r\n    this.speed = pv;\r\n    this.animator!.speed = pv;\r\n    this.animator?.reset();\r\n    this.animator!.play();\r\n  }\r\n  entropyCallback(v: string) {\r\n    if (!this.wordleData) return;\r\n    const pv = parseFloat(v);\r\n    this.entropy = pv;\r\n    this.animator!.entropy = pv;\r\n    this.animator!.reset();\r\n    this.animator!.play();\r\n  }\r\n  handleUpload(event: any) {\r\n    let file = event.target.files[0];\r\n    if (!file) return;\r\n    this.fileReader.readAsText(file);\r\n    this.uploadFilename = file.name.split('.').slice(0, -1).join('.')\r\n    this.collection.forEach((dataset: Dataset) => {\r\n      if (dataset.tag == this.uploadFilename) {\r\n        this.uploadFilename +=\r\n          Math.random().toString() + Math.random.toString();\r\n      }\r\n    });\r\n  }\r\n  // showGroup() {\r\n  //   let ele = \".group-configs\";\r\n  //   let state = !d3.select(ele).classed(\"active\");\r\n  //   d3.select(ele).classed(\"active\", state);\r\n  //   console.log(state);\r\n  // }\r\n  // pause() {\r\n  //   let ele = \"#pauseButton\";\r\n  //   let state = !d3.select(ele).classed(\"active\");\r\n  //   d3.select(ele).classed(\"active\", state);\r\n  //   d3.select(\"#playButton\").classed(\"active\", !state);\r\n  //   if (!this.animator) return;\r\n  //   this.animator.stop();\r\n  // }\r\n  play() {\r\n    let ele = \"#playButton\";\r\n    let state = !d3.select(ele).classed(\"active\");\r\n    d3.select(ele)\r\n      .classed(\"active\", state)\r\n      .classed(\"fa-play-circle\", state)\r\n      .classed(\"fa-pause-circle\", !state)\r\n    // d3.select(\"#pauseButton\").classed(\"active\", !state);\r\n    if (!this.animator) return;\r\n    if (!state)  this.animator.stop()\r\n    else this.animator.play({replay: true})\r\n  }\r\n  // replay() {\r\n  //   if (!this.animator) return;\r\n  //   this.animator.play();\r\n  // }\r\n  parseFile() {\r\n    let res = this.fileReader.result;\r\n    if (!res || typeof res !== \"string\") return;\r\n    console.log(this.fileReader)\r\n    let data = JSON.parse(res)\r\n    let dataset = {\r\n      data: data,\r\n      tag: this.uploadFilename,\r\n    };\r\n    this.collection.push(dataset);\r\n    d3.select(\"#dataset\").property(\"value\", dataset);\r\n    this.wordleData = dataset;\r\n  }\r\n  downloadGif() {\r\n    if (!this.animator) return;\r\n    this.animator.createGif().play({ gifFlag: true });\r\n  }\r\n  downloadJson() {\r\n    if (!this.wordleData) return;\r\n    const a = document.createElement(\"a\");\r\n    a.href = URL.createObjectURL(\r\n      new Blob([JSON.stringify(this.wordleData.data)], { type: `text/json` })\r\n    );\r\n    a.download = `layout_${this.wordleData.tag}.json`;\r\n    a.click();\r\n    a.remove();\r\n  }\r\n  openFile() {\r\n    document.getElementById(\"wordleUpload\")!.click();\r\n  }\r\n}\r\nlet assignColor = function (words: Word[]) {\r\n  words.forEach((word: Word, idx: number) => {\r\n    word.color = \"black\";\r\n  });\r\n  return words;\r\n};\r\n","import { render } from \"./Emordle.vue?vue&type=template&id=1274acf8\"\nimport script from \"./Emordle.vue?vue&type=script&lang=ts\"\nexport * from \"./Emordle.vue?vue&type=script&lang=ts\"\n\nimport \"./Emordle.vue?vue&type=style&index=0&id=1274acf8&lang=scss\"\nscript.render = render\n\nexport default script","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","'use strict';\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar isForced = require('../internals/is-forced');\nvar redefine = require('../internals/redefine');\nvar has = require('../internals/has');\nvar classof = require('../internals/classof-raw');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar toPrimitive = require('../internals/to-primitive');\nvar fails = require('../internals/fails');\nvar create = require('../internals/object-create');\nvar getOwnPropertyNames = require('../internals/object-get-own-property-names').f;\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar defineProperty = require('../internals/object-define-property').f;\nvar trim = require('../internals/string-trim').trim;\n\nvar NUMBER = 'Number';\nvar NativeNumber = global[NUMBER];\nvar NumberPrototype = NativeNumber.prototype;\n\n// Opera ~12 has broken Object#toString\nvar BROKEN_CLASSOF = classof(create(NumberPrototype)) == NUMBER;\n\n// `ToNumber` abstract operation\n// https://tc39.github.io/ecma262/#sec-tonumber\nvar toNumber = function (argument) {\n  var it = toPrimitive(argument, false);\n  var first, third, radix, maxCode, digits, length, index, code;\n  if (typeof it == 'string' && it.length > 2) {\n    it = trim(it);\n    first = it.charCodeAt(0);\n    if (first === 43 || first === 45) {\n      third = it.charCodeAt(2);\n      if (third === 88 || third === 120) return NaN; // Number('+0x1') should be NaN, old V8 fix\n    } else if (first === 48) {\n      switch (it.charCodeAt(1)) {\n        case 66: case 98: radix = 2; maxCode = 49; break; // fast equal of /^0b[01]+$/i\n        case 79: case 111: radix = 8; maxCode = 55; break; // fast equal of /^0o[0-7]+$/i\n        default: return +it;\n      }\n      digits = it.slice(2);\n      length = digits.length;\n      for (index = 0; index < length; index++) {\n        code = digits.charCodeAt(index);\n        // parseInt parses a string to a first unavailable symbol\n        // but ToNumber should return NaN if a string contains unavailable symbols\n        if (code < 48 || code > maxCode) return NaN;\n      } return parseInt(digits, radix);\n    }\n  } return +it;\n};\n\n// `Number` constructor\n// https://tc39.github.io/ecma262/#sec-number-constructor\nif (isForced(NUMBER, !NativeNumber(' 0o1') || !NativeNumber('0b1') || NativeNumber('+0x1'))) {\n  var NumberWrapper = function Number(value) {\n    var it = arguments.length < 1 ? 0 : value;\n    var dummy = this;\n    return dummy instanceof NumberWrapper\n      // check on 1..constructor(foo) case\n      && (BROKEN_CLASSOF ? fails(function () { NumberPrototype.valueOf.call(dummy); }) : classof(dummy) != NUMBER)\n        ? inheritIfRequired(new NativeNumber(toNumber(it)), dummy, NumberWrapper) : toNumber(it);\n  };\n  for (var keys = DESCRIPTORS ? getOwnPropertyNames(NativeNumber) : (\n    // ES3:\n    'MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,' +\n    // ES2015 (in case, if modules with ES2015 Number statics required before):\n    'EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,' +\n    'MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,' +\n    // ESNext\n    'fromString,range'\n  ).split(','), j = 0, key; keys.length > j; j++) {\n    if (has(NativeNumber, key = keys[j]) && !has(NumberWrapper, key)) {\n      defineProperty(NumberWrapper, key, getOwnPropertyDescriptor(NativeNumber, key));\n    }\n  }\n  NumberWrapper.prototype = NumberPrototype;\n  NumberPrototype.constructor = NumberWrapper;\n  redefine(global, NUMBER, NumberWrapper);\n}\n","var $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar nativeKeys = require('../internals/object-keys');\nvar fails = require('../internals/fails');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeKeys(1); });\n\n// `Object.keys` method\n// https://tc39.github.io/ecma262/#sec-object.keys\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  keys: function keys(it) {\n    return nativeKeys(toObject(it));\n  }\n});\n","var $ = require('../internals/export');\n\nvar ceil = Math.ceil;\nvar floor = Math.floor;\n\n// `Math.trunc` method\n// https://tc39.github.io/ecma262/#sec-math.trunc\n$({ target: 'Math', stat: true }, {\n  trunc: function trunc(it) {\n    return (it > 0 ? floor : ceil)(it);\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar toInteger = require('../internals/to-integer');\nvar thisNumberValue = require('../internals/this-number-value');\nvar repeat = require('../internals/string-repeat');\nvar fails = require('../internals/fails');\n\nvar nativeToFixed = 1.0.toFixed;\nvar floor = Math.floor;\n\nvar pow = function (x, n, acc) {\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\n\nvar log = function (x) {\n  var n = 0;\n  var x2 = x;\n  while (x2 >= 4096) {\n    n += 12;\n    x2 /= 4096;\n  }\n  while (x2 >= 2) {\n    n += 1;\n    x2 /= 2;\n  } return n;\n};\n\nvar FORCED = nativeToFixed && (\n  0.00008.toFixed(3) !== '0.000' ||\n  0.9.toFixed(0) !== '1' ||\n  1.255.toFixed(2) !== '1.25' ||\n  1000000000000000128.0.toFixed(0) !== '1000000000000000128'\n) || !fails(function () {\n  // V8 ~ Android 4.3-\n  nativeToFixed.call({});\n});\n\n// `Number.prototype.toFixed` method\n// https://tc39.github.io/ecma262/#sec-number.prototype.tofixed\n$({ target: 'Number', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line max-statements\n  toFixed: function toFixed(fractionDigits) {\n    var number = thisNumberValue(this);\n    var fractDigits = toInteger(fractionDigits);\n    var data = [0, 0, 0, 0, 0, 0];\n    var sign = '';\n    var result = '0';\n    var e, z, j, k;\n\n    var multiply = function (n, c) {\n      var index = -1;\n      var c2 = c;\n      while (++index < 6) {\n        c2 += n * data[index];\n        data[index] = c2 % 1e7;\n        c2 = floor(c2 / 1e7);\n      }\n    };\n\n    var divide = function (n) {\n      var index = 6;\n      var c = 0;\n      while (--index >= 0) {\n        c += data[index];\n        data[index] = floor(c / n);\n        c = (c % n) * 1e7;\n      }\n    };\n\n    var dataToString = function () {\n      var index = 6;\n      var s = '';\n      while (--index >= 0) {\n        if (s !== '' || index === 0 || data[index] !== 0) {\n          var t = String(data[index]);\n          s = s === '' ? t : s + repeat.call('0', 7 - t.length) + t;\n        }\n      } return s;\n    };\n\n    if (fractDigits < 0 || fractDigits > 20) throw RangeError('Incorrect fraction digits');\n    // eslint-disable-next-line no-self-compare\n    if (number != number) return 'NaN';\n    if (number <= -1e21 || number >= 1e21) return String(number);\n    if (number < 0) {\n      sign = '-';\n      number = -number;\n    }\n    if (number > 1e-21) {\n      e = log(number * pow(2, 69, 1)) - 69;\n      z = e < 0 ? number * pow(2, -e, 1) : number / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if (e > 0) {\n        multiply(0, z);\n        j = fractDigits;\n        while (j >= 7) {\n          multiply(1e7, 0);\n          j -= 7;\n        }\n        multiply(pow(10, j, 1), 0);\n        j = e - 1;\n        while (j >= 23) {\n          divide(1 << 23);\n          j -= 23;\n        }\n        divide(1 << j);\n        multiply(1, 1);\n        divide(2);\n        result = dataToString();\n      } else {\n        multiply(0, z);\n        multiply(1 << -e, 0);\n        result = dataToString() + repeat.call('0', fractDigits);\n      }\n    }\n    if (fractDigits > 0) {\n      k = result.length;\n      result = sign + (k <= fractDigits\n        ? '0.' + repeat.call('0', fractDigits - k) + result\n        : result.slice(0, k - fractDigits) + '.' + result.slice(k - fractDigits));\n    } else {\n      result = sign + result;\n    } return result;\n  }\n});\n","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar ownKeys = require('../internals/own-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar createProperty = require('../internals/create-property');\n\n// `Object.getOwnPropertyDescriptors` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptors\n$({ target: 'Object', stat: true, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIndexedObject(object);\n    var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var index = 0;\n    var key, descriptor;\n    while (keys.length > index) {\n      descriptor = getOwnPropertyDescriptor(O, key = keys[index++]);\n      if (descriptor !== undefined) createProperty(result, key, descriptor);\n    }\n    return result;\n  }\n});\n","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar nativeGetOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetOwnPropertyDescriptor(1); });\nvar FORCED = !DESCRIPTORS || FAILS_ON_PRIMITIVES;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptor\n$({ target: 'Object', stat: true, forced: FORCED, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(it, key) {\n    return nativeGetOwnPropertyDescriptor(toIndexedObject(it), key);\n  }\n});\n","/*! Pickr 1.8.0 MIT | https://github.com/Simonwep/pickr */\n!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.Pickr=e():t.Pickr=e()}(window,(function(){return function(t){var e={};function o(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,\"a\",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p=\"\",o(o.s=0)}([function(t,e,o){\"use strict\";o.r(e);var n={};function i(t,e,o,n,i={}){e instanceof HTMLCollection||e instanceof NodeList?e=Array.from(e):Array.isArray(e)||(e=[e]),Array.isArray(o)||(o=[o]);for(const r of e)for(const e of o)r[t](e,n,{capture:!1,...i});return Array.prototype.slice.call(arguments,1)}o.r(n),o.d(n,\"on\",(function(){return r})),o.d(n,\"off\",(function(){return s})),o.d(n,\"createElementFromString\",(function(){return a})),o.d(n,\"createFromTemplate\",(function(){return l})),o.d(n,\"eventPath\",(function(){return c})),o.d(n,\"resolveElement\",(function(){return p})),o.d(n,\"adjustableInputNumbers\",(function(){return u}));const r=i.bind(null,\"addEventListener\"),s=i.bind(null,\"removeEventListener\");function a(t){const e=document.createElement(\"div\");return e.innerHTML=t.trim(),e.firstElementChild}function l(t){const e=(t,e)=>{const o=t.getAttribute(e);return t.removeAttribute(e),o},o=(t,n={})=>{const i=e(t,\":obj\"),r=e(t,\":ref\"),s=i?n[i]={}:n;r&&(n[r]=t);for(const n of Array.from(t.children)){const t=e(n,\":arr\"),i=o(n,t?{}:s);t&&(s[t]||(s[t]=[])).push(Object.keys(i).length?i:n)}return n};return o(a(t))}function c(t){let e=t.path||t.composedPath&&t.composedPath();if(e)return e;let o=t.target.parentElement;for(e=[t.target,o];o=o.parentElement;)e.push(o);return e.push(document,window),e}function p(t){return t instanceof Element?t:\"string\"==typeof t?t.split(/>>/g).reduce((t,e,o,n)=>(t=t.querySelector(e),o<n.length-1?t.shadowRoot:t),document):null}function u(t,e=(t=>t)){function o(o){const n=[.001,.01,.1][Number(o.shiftKey||2*o.ctrlKey)]*(o.deltaY<0?1:-1);let i=0,r=t.selectionStart;t.value=t.value.replace(/[\\d.]+/g,(t,o)=>o<=r&&o+t.length>=r?(r=o,e(Number(t),n,i)):(i++,t)),t.focus(),t.setSelectionRange(r,r),o.preventDefault(),t.dispatchEvent(new Event(\"input\"))}r(t,\"focus\",()=>r(window,\"wheel\",o,{passive:!1})),r(t,\"blur\",()=>s(window,\"wheel\",o))}const{min:h,max:d,floor:f,round:m}=Math;function v(t,e,o){e/=100,o/=100;const n=f(t=t/360*6),i=t-n,r=o*(1-e),s=o*(1-i*e),a=o*(1-(1-i)*e),l=n%6;return[255*[o,s,r,r,a,o][l],255*[a,o,o,s,r,r][l],255*[r,r,a,o,o,s][l]]}function b(t,e,o){const n=(2-(e/=100))*(o/=100)/2;return 0!==n&&(e=1===n?0:n<.5?e*o/(2*n):e*o/(2-2*n)),[t,100*e,100*n]}function g(t,e,o){const n=h(t/=255,e/=255,o/=255),i=d(t,e,o),r=i-n;let s,a;if(0===r)s=a=0;else{a=r/i;const n=((i-t)/6+r/2)/r,l=((i-e)/6+r/2)/r,c=((i-o)/6+r/2)/r;t===i?s=c-l:e===i?s=1/3+n-c:o===i&&(s=2/3+l-n),s<0?s+=1:s>1&&(s-=1)}return[360*s,100*a,100*i]}function y(t,e,o,n){e/=100,o/=100;return[...g(255*(1-h(1,(t/=100)*(1-(n/=100))+n)),255*(1-h(1,e*(1-n)+n)),255*(1-h(1,o*(1-n)+n)))]}function _(t,e,o){e/=100;const n=2*(e*=(o/=100)<.5?o:1-o)/(o+e)*100,i=100*(o+e);return[t,isNaN(n)?0:n,i]}function w(t){return g(...t.match(/.{2}/g).map(t=>parseInt(t,16)))}function A(t){t=t.match(/^[a-zA-Z]+$/)?function(t){if(\"black\"===t.toLowerCase())return\"#000\";const e=document.createElement(\"canvas\").getContext(\"2d\");return e.fillStyle=t,\"#000\"===e.fillStyle?null:e.fillStyle}(t):t;const e={cmyk:/^cmyk[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]+([\\d.]+)/i,rgba:/^((rgba)|rgb)[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]*?([\\d.]+|$)/i,hsla:/^((hsla)|hsl)[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]*?([\\d.]+|$)/i,hsva:/^((hsva)|hsv)[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]+([\\d.]+)[\\D]*?([\\d.]+|$)/i,hexa:/^#?(([\\dA-Fa-f]{3,4})|([\\dA-Fa-f]{6})|([\\dA-Fa-f]{8}))$/i},o=t=>t.map(t=>/^(|\\d+)\\.\\d+|\\d+$/.test(t)?Number(t):void 0);let n;t:for(const i in e){if(!(n=e[i].exec(t)))continue;const r=t=>!!n[2]==(\"number\"==typeof t);switch(i){case\"cmyk\":{const[,t,e,r,s]=o(n);if(t>100||e>100||r>100||s>100)break t;return{values:y(t,e,r,s),type:i}}case\"rgba\":{const[,,,t,e,s,a]=o(n);if(t>255||e>255||s>255||a<0||a>1||!r(a))break t;return{values:[...g(t,e,s),a],a:a,type:i}}case\"hexa\":{let[,t]=n;4!==t.length&&3!==t.length||(t=t.split(\"\").map(t=>t+t).join(\"\"));const e=t.substring(0,6);let o=t.substring(6);return o=o?parseInt(o,16)/255:void 0,{values:[...w(e),o],a:o,type:i}}case\"hsla\":{const[,,,t,e,s,a]=o(n);if(t>360||e>100||s>100||a<0||a>1||!r(a))break t;return{values:[..._(t,e,s),a],a:a,type:i}}case\"hsva\":{const[,,,t,e,s,a]=o(n);if(t>360||e>100||s>100||a<0||a>1||!r(a))break t;return{values:[t,e,s,a],a:a,type:i}}}}return{values:null,type:null}}function C(t=0,e=0,o=0,n=1){const i=(t,e)=>(o=-1)=>e(~o?t.map(t=>Number(t.toFixed(o))):t),r={h:t,s:e,v:o,a:n,toHSVA(){const t=[r.h,r.s,r.v,r.a];return t.toString=i(t,t=>`hsva(${t[0]}, ${t[1]}%, ${t[2]}%, ${r.a})`),t},toHSLA(){const t=[...b(r.h,r.s,r.v),r.a];return t.toString=i(t,t=>`hsla(${t[0]}, ${t[1]}%, ${t[2]}%, ${r.a})`),t},toRGBA(){const t=[...v(r.h,r.s,r.v),r.a];return t.toString=i(t,t=>`rgba(${t[0]}, ${t[1]}, ${t[2]}, ${r.a})`),t},toCMYK(){const t=function(t,e,o){const n=v(t,e,o),i=n[0]/255,r=n[1]/255,s=n[2]/255,a=h(1-i,1-r,1-s);return[100*(1===a?0:(1-i-a)/(1-a)),100*(1===a?0:(1-r-a)/(1-a)),100*(1===a?0:(1-s-a)/(1-a)),100*a]}(r.h,r.s,r.v);return t.toString=i(t,t=>`cmyk(${t[0]}%, ${t[1]}%, ${t[2]}%, ${t[3]}%)`),t},toHEXA(){const t=function(t,e,o){return v(t,e,o).map(t=>m(t).toString(16).padStart(2,\"0\"))}(r.h,r.s,r.v),e=r.a>=1?\"\":Number((255*r.a).toFixed(0)).toString(16).toUpperCase().padStart(2,\"0\");return e&&t.push(e),t.toString=()=>\"#\"+t.join(\"\").toUpperCase(),t},clone:()=>C(r.h,r.s,r.v,r.a)};return r}const k=t=>Math.max(Math.min(t,1),0);function $(t){const e={options:Object.assign({lock:null,onchange:()=>0,onstop:()=>0},t),_keyboard(t){const{options:o}=e,{type:n,key:i}=t;if(document.activeElement===o.wrapper){const{lock:o}=e.options,r=\"ArrowUp\"===i,s=\"ArrowRight\"===i,a=\"ArrowDown\"===i,l=\"ArrowLeft\"===i;if(\"keydown\"===n&&(r||s||a||l)){let n=0,i=0;\"v\"===o?n=r||s?1:-1:\"h\"===o?n=r||s?-1:1:(i=r?-1:a?1:0,n=l?-1:s?1:0),e.update(k(e.cache.x+.01*n),k(e.cache.y+.01*i)),t.preventDefault()}else i.startsWith(\"Arrow\")&&(e.options.onstop(),t.preventDefault())}},_tapstart(t){r(document,[\"mouseup\",\"touchend\",\"touchcancel\"],e._tapstop),r(document,[\"mousemove\",\"touchmove\"],e._tapmove),t.cancelable&&t.preventDefault(),e._tapmove(t)},_tapmove(t){const{options:o,cache:n}=e,{lock:i,element:r,wrapper:s}=o,a=s.getBoundingClientRect();let l=0,c=0;if(t){const e=t&&t.touches&&t.touches[0];l=t?(e||t).clientX:0,c=t?(e||t).clientY:0,l<a.left?l=a.left:l>a.left+a.width&&(l=a.left+a.width),c<a.top?c=a.top:c>a.top+a.height&&(c=a.top+a.height),l-=a.left,c-=a.top}else n&&(l=n.x*a.width,c=n.y*a.height);\"h\"!==i&&(r.style.left=`calc(${l/a.width*100}% - ${r.offsetWidth/2}px)`),\"v\"!==i&&(r.style.top=`calc(${c/a.height*100}% - ${r.offsetHeight/2}px)`),e.cache={x:l/a.width,y:c/a.height};const p=k(l/a.width),u=k(c/a.height);switch(i){case\"v\":return o.onchange(p);case\"h\":return o.onchange(u);default:return o.onchange(p,u)}},_tapstop(){e.options.onstop(),s(document,[\"mouseup\",\"touchend\",\"touchcancel\"],e._tapstop),s(document,[\"mousemove\",\"touchmove\"],e._tapmove)},trigger(){e._tapmove()},update(t=0,o=0){const{left:n,top:i,width:r,height:s}=e.options.wrapper.getBoundingClientRect();\"h\"===e.options.lock&&(o=t),e._tapmove({clientX:n+r*t,clientY:i+s*o})},destroy(){const{options:t,_tapstart:o,_keyboard:n}=e;s(document,[\"keydown\",\"keyup\"],n),s([t.wrapper,t.element],\"mousedown\",o),s([t.wrapper,t.element],\"touchstart\",o,{passive:!1})}},{options:o,_tapstart:n,_keyboard:i}=e;return r([o.wrapper,o.element],\"mousedown\",n),r([o.wrapper,o.element],\"touchstart\",n,{passive:!1}),r(document,[\"keydown\",\"keyup\"],i),e}function S(t={}){t=Object.assign({onchange:()=>0,className:\"\",elements:[]},t);const e=r(t.elements,\"click\",e=>{t.elements.forEach(o=>o.classList[e.target===o?\"add\":\"remove\"](t.className)),t.onchange(e),e.stopPropagation()});return{destroy:()=>s(...e)}}\n/*! NanoPop 2.1.0 MIT | https://github.com/Simonwep/nanopop */\nconst O={variantFlipOrder:{start:\"sme\",middle:\"mse\",end:\"ems\"},positionFlipOrder:{top:\"tbrl\",right:\"rltb\",bottom:\"btrl\",left:\"lrbt\"},position:\"bottom\",margin:8},E=(t,e,o)=>{const n=\"object\"!=typeof t||t instanceof HTMLElement?{reference:t,popper:e,...o}:t;return{update(t=n){const{reference:e,popper:o}=Object.assign(n,t);if(!o||!e)throw new Error(\"Popper- or reference-element missing.\");return((t,e,o)=>{const{container:n,margin:i,position:r,variantFlipOrder:s,positionFlipOrder:a}={container:document.documentElement.getBoundingClientRect(),...O,...o},{left:l,top:c}=e.style;e.style.left=\"0\",e.style.top=\"0\";const p=t.getBoundingClientRect(),u=e.getBoundingClientRect(),h={t:p.top-u.height-i,b:p.bottom+i,r:p.right+i,l:p.left-u.width-i},d={vs:p.left,vm:p.left+p.width/2+-u.width/2,ve:p.left+p.width-u.width,hs:p.top,hm:p.bottom-p.height/2-u.height/2,he:p.bottom-u.height},[f,m=\"middle\"]=r.split(\"-\"),v=a[f],b=s[m],{top:g,left:y,bottom:_,right:w}=n;for(const t of v){const o=\"t\"===t||\"b\"===t,n=h[t],[i,r]=o?[\"top\",\"left\"]:[\"left\",\"top\"],[s,a]=o?[u.height,u.width]:[u.width,u.height],[l,c]=o?[_,w]:[w,_],[p,f]=o?[g,y]:[y,g];if(!(n<p||n+s>l))for(const s of b){const l=d[(o?\"v\":\"h\")+s];if(!(l<f||l+a>c))return e.style[r]=l-u[r]+\"px\",e.style[i]=n-u[i]+\"px\",t+s}}return e.style.left=l,e.style.top=c,null})(e,o,n)}}};function L(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}class x{constructor(t){L(this,\"_initializingActive\",!0),L(this,\"_recalc\",!0),L(this,\"_nanopop\",null),L(this,\"_root\",null),L(this,\"_color\",C()),L(this,\"_lastColor\",C()),L(this,\"_swatchColors\",[]),L(this,\"_setupAnimationFrame\",null),L(this,\"_eventListener\",{init:[],save:[],hide:[],show:[],clear:[],change:[],changestop:[],cancel:[],swatchselect:[]}),this.options=t=Object.assign({...x.DEFAULT_OPTIONS},t);const{swatches:e,components:o,theme:n,sliders:i,lockOpacity:r,padding:s}=t;[\"nano\",\"monolith\"].includes(n)&&!i&&(t.sliders=\"h\"),o.interaction||(o.interaction={});const{preview:a,opacity:l,hue:c,palette:p}=o;o.opacity=!r&&l,o.palette=p||a||l||c,this._preBuild(),this._buildComponents(),this._bindEvents(),this._finalBuild(),e&&e.length&&e.forEach(t=>this.addSwatch(t));const{button:u,app:h}=this._root;this._nanopop=E(u,h,{margin:s}),u.setAttribute(\"role\",\"button\"),u.setAttribute(\"aria-label\",this._t(\"btn:toggle\"));const d=this;this._setupAnimationFrame=requestAnimationFrame((function e(){if(!h.offsetWidth)return requestAnimationFrame(e);d.setColor(t.default),d._rePositioningPicker(),t.defaultRepresentation&&(d._representation=t.defaultRepresentation,d.setColorRepresentation(d._representation)),t.showAlways&&d.show(),d._initializingActive=!1,d._emit(\"init\")}))}_preBuild(){const{options:t}=this;for(const e of[\"el\",\"container\"])t[e]=p(t[e]);this._root=(t=>{const{components:e,useAsButton:o,inline:n,appClass:i,theme:r,lockOpacity:s}=t.options,a=t=>t?\"\":'style=\"display:none\" hidden',c=e=>t._t(e),p=l(`\\n      <div :ref=\"root\" class=\"pickr\">\\n\\n        ${o?\"\":'<button type=\"button\" :ref=\"button\" class=\"pcr-button\"></button>'}\\n\\n        <div :ref=\"app\" class=\"pcr-app ${i||\"\"}\" data-theme=\"${r}\" ${n?'style=\"position: unset\"':\"\"} aria-label=\"${c(\"ui:dialog\")}\" role=\"window\">\\n          <div class=\"pcr-selection\" ${a(e.palette)}>\\n            <div :obj=\"preview\" class=\"pcr-color-preview\" ${a(e.preview)}>\\n              <button type=\"button\" :ref=\"lastColor\" class=\"pcr-last-color\" aria-label=\"${c(\"btn:last-color\")}\"></button>\\n              <div :ref=\"currentColor\" class=\"pcr-current-color\"></div>\\n            </div>\\n\\n            <div :obj=\"palette\" class=\"pcr-color-palette\">\\n              <div :ref=\"picker\" class=\"pcr-picker\"></div>\\n              <div :ref=\"palette\" class=\"pcr-palette\" tabindex=\"0\" aria-label=\"${c(\"aria:palette\")}\" role=\"listbox\"></div>\\n            </div>\\n\\n            <div :obj=\"hue\" class=\"pcr-color-chooser\" ${a(e.hue)}>\\n              <div :ref=\"picker\" class=\"pcr-picker\"></div>\\n              <div :ref=\"slider\" class=\"pcr-hue pcr-slider\" tabindex=\"0\" aria-label=\"${c(\"aria:hue\")}\" role=\"slider\"></div>\\n            </div>\\n\\n            <div :obj=\"opacity\" class=\"pcr-color-opacity\" ${a(e.opacity)}>\\n              <div :ref=\"picker\" class=\"pcr-picker\"></div>\\n              <div :ref=\"slider\" class=\"pcr-opacity pcr-slider\" tabindex=\"0\" aria-label=\"${c(\"aria:opacity\")}\" role=\"slider\"></div>\\n            </div>\\n          </div>\\n\\n          <div class=\"pcr-swatches ${e.palette?\"\":\"pcr-last\"}\" :ref=\"swatches\"></div>\\n\\n          <div :obj=\"interaction\" class=\"pcr-interaction\" ${a(Object.keys(e.interaction).length)}>\\n            <input :ref=\"result\" class=\"pcr-result\" type=\"text\" spellcheck=\"false\" ${a(e.interaction.input)} aria-label=\"${c(\"aria:input\")}\">\\n\\n            <input :arr=\"options\" class=\"pcr-type\" data-type=\"HEXA\" value=\"${s?\"HEX\":\"HEXA\"}\" type=\"button\" ${a(e.interaction.hex)}>\\n            <input :arr=\"options\" class=\"pcr-type\" data-type=\"RGBA\" value=\"${s?\"RGB\":\"RGBA\"}\" type=\"button\" ${a(e.interaction.rgba)}>\\n            <input :arr=\"options\" class=\"pcr-type\" data-type=\"HSLA\" value=\"${s?\"HSL\":\"HSLA\"}\" type=\"button\" ${a(e.interaction.hsla)}>\\n            <input :arr=\"options\" class=\"pcr-type\" data-type=\"HSVA\" value=\"${s?\"HSV\":\"HSVA\"}\" type=\"button\" ${a(e.interaction.hsva)}>\\n            <input :arr=\"options\" class=\"pcr-type\" data-type=\"CMYK\" value=\"CMYK\" type=\"button\" ${a(e.interaction.cmyk)}>\\n\\n            <input :ref=\"save\" class=\"pcr-save\" value=\"${c(\"btn:save\")}\" type=\"button\" ${a(e.interaction.save)} aria-label=\"${c(\"aria:btn:save\")}\">\\n            <input :ref=\"cancel\" class=\"pcr-cancel\" value=\"${c(\"btn:cancel\")}\" type=\"button\" ${a(e.interaction.cancel)} aria-label=\"${c(\"aria:btn:cancel\")}\">\\n            <input :ref=\"clear\" class=\"pcr-clear\" value=\"${c(\"btn:clear\")}\" type=\"button\" ${a(e.interaction.clear)} aria-label=\"${c(\"aria:btn:clear\")}\">\\n          </div>\\n        </div>\\n      </div>\\n    `),u=p.interaction;return u.options.find(t=>!t.hidden&&!t.classList.add(\"active\")),u.type=()=>u.options.find(t=>t.classList.contains(\"active\")),p})(this),t.useAsButton&&(this._root.button=t.el),t.container.appendChild(this._root.root)}_finalBuild(){const t=this.options,e=this._root;if(t.container.removeChild(e.root),t.inline){const o=t.el.parentElement;t.el.nextSibling?o.insertBefore(e.app,t.el.nextSibling):o.appendChild(e.app)}else t.container.appendChild(e.app);t.useAsButton?t.inline&&t.el.remove():t.el.parentNode.replaceChild(e.root,t.el),t.disabled&&this.disable(),t.comparison||(e.button.style.transition=\"none\",t.useAsButton||(e.preview.lastColor.style.transition=\"none\")),this.hide()}_buildComponents(){const t=this,e=this.options.components,o=(t.options.sliders||\"v\").repeat(2),[n,i]=o.match(/^[vh]+$/g)?o:[],r=()=>this._color||(this._color=this._lastColor.clone()),s={palette:$({element:t._root.palette.picker,wrapper:t._root.palette.palette,onstop:()=>t._emit(\"changestop\",\"slider\",t),onchange(o,n){if(!e.palette)return;const i=r(),{_root:s,options:a}=t,{lastColor:l,currentColor:c}=s.preview;t._recalc&&(i.s=100*o,i.v=100-100*n,i.v<0&&(i.v=0),t._updateOutput(\"slider\"));const p=i.toRGBA().toString(0);this.element.style.background=p,this.wrapper.style.background=`\\n                        linear-gradient(to top, rgba(0, 0, 0, ${i.a}), transparent),\\n                        linear-gradient(to left, hsla(${i.h}, 100%, 50%, ${i.a}), rgba(255, 255, 255, ${i.a}))\\n                    `,a.comparison?a.useAsButton||t._lastColor||(l.style.color=p):(s.button.style.color=p,s.button.classList.remove(\"clear\"));const u=i.toHEXA().toString();for(const{el:e,color:o}of t._swatchColors)e.classList[u===o.toHEXA().toString()?\"add\":\"remove\"](\"pcr-active\");c.style.color=p}}),hue:$({lock:\"v\"===i?\"h\":\"v\",element:t._root.hue.picker,wrapper:t._root.hue.slider,onstop:()=>t._emit(\"changestop\",\"slider\",t),onchange(o){if(!e.hue||!e.palette)return;const n=r();t._recalc&&(n.h=360*o),this.element.style.backgroundColor=`hsl(${n.h}, 100%, 50%)`,s.palette.trigger()}}),opacity:$({lock:\"v\"===n?\"h\":\"v\",element:t._root.opacity.picker,wrapper:t._root.opacity.slider,onstop:()=>t._emit(\"changestop\",\"slider\",t),onchange(o){if(!e.opacity||!e.palette)return;const n=r();t._recalc&&(n.a=Math.round(100*o)/100),this.element.style.background=`rgba(0, 0, 0, ${n.a})`,s.palette.trigger()}}),selectable:S({elements:t._root.interaction.options,className:\"active\",onchange(e){t._representation=e.target.getAttribute(\"data-type\").toUpperCase(),t._recalc&&t._updateOutput(\"swatch\")}})};this._components=s}_bindEvents(){const{_root:t,options:e}=this,o=[r(t.interaction.clear,\"click\",()=>this._clearColor()),r([t.interaction.cancel,t.preview.lastColor],\"click\",()=>{this._emit(\"cancel\"),this.setHSVA(...(this._lastColor||this._color).toHSVA(),!0)}),r(t.interaction.save,\"click\",()=>{!this.applyColor()&&!e.showAlways&&this.hide()}),r(t.interaction.result,[\"keyup\",\"input\"],t=>{this.setColor(t.target.value,!0)&&!this._initializingActive&&(this._emit(\"change\",this._color,\"input\",this),this._emit(\"changestop\",\"input\",this)),t.stopImmediatePropagation()}),r(t.interaction.result,[\"focus\",\"blur\"],t=>{this._recalc=\"blur\"===t.type,this._recalc&&this._updateOutput(null)}),r([t.palette.palette,t.palette.picker,t.hue.slider,t.hue.picker,t.opacity.slider,t.opacity.picker],[\"mousedown\",\"touchstart\"],()=>this._recalc=!0,{passive:!0})];if(!e.showAlways){const n=e.closeWithKey;o.push(r(t.button,\"click\",()=>this.isOpen()?this.hide():this.show()),r(document,\"keyup\",t=>this.isOpen()&&(t.key===n||t.code===n)&&this.hide()),r(document,[\"touchstart\",\"mousedown\"],e=>{this.isOpen()&&!c(e).some(e=>e===t.app||e===t.button)&&this.hide()},{capture:!0}))}if(e.adjustableNumbers){const e={rgba:[255,255,255,1],hsva:[360,100,100,1],hsla:[360,100,100,1],cmyk:[100,100,100,100]};u(t.interaction.result,(t,o,n)=>{const i=e[this.getColorRepresentation().toLowerCase()];if(i){const e=i[n],r=t+(e>=100?1e3*o:o);return r<=0?0:Number((r<e?r:e).toPrecision(3))}return t})}if(e.autoReposition&&!e.inline){let t=null;const n=this;o.push(r(window,[\"scroll\",\"resize\"],()=>{n.isOpen()&&(e.closeOnScroll&&n.hide(),null===t?(t=setTimeout(()=>t=null,100),requestAnimationFrame((function e(){n._rePositioningPicker(),null!==t&&requestAnimationFrame(e)}))):(clearTimeout(t),t=setTimeout(()=>t=null,100)))},{capture:!0}))}this._eventBindings=o}_rePositioningPicker(){const{options:t}=this;if(!t.inline){if(!this._nanopop.update({container:document.body.getBoundingClientRect(),position:t.position})){const t=this._root.app,e=t.getBoundingClientRect();t.style.top=(window.innerHeight-e.height)/2+\"px\",t.style.left=(window.innerWidth-e.width)/2+\"px\"}}}_updateOutput(t){const{_root:e,_color:o,options:n}=this;if(e.interaction.type()){const t=\"to\"+e.interaction.type().getAttribute(\"data-type\");e.interaction.result.value=\"function\"==typeof o[t]?o[t]().toString(n.outputPrecision):\"\"}!this._initializingActive&&this._recalc&&this._emit(\"change\",o,t,this)}_clearColor(t=!1){const{_root:e,options:o}=this;o.useAsButton||(e.button.style.color=\"rgba(0, 0, 0, 0.15)\"),e.button.classList.add(\"clear\"),o.showAlways||this.hide(),this._lastColor=null,this._initializingActive||t||(this._emit(\"save\",null),this._emit(\"clear\"))}_parseLocalColor(t){const{values:e,type:o,a:n}=A(t),{lockOpacity:i}=this.options,r=void 0!==n&&1!==n;return e&&3===e.length&&(e[3]=void 0),{values:!e||i&&r?null:e,type:o}}_t(t){return this.options.i18n[t]||x.I18N_DEFAULTS[t]}_emit(t,...e){this._eventListener[t].forEach(t=>t(...e,this))}on(t,e){return this._eventListener[t].push(e),this}off(t,e){const o=this._eventListener[t]||[],n=o.indexOf(e);return~n&&o.splice(n,1),this}addSwatch(t){const{values:e}=this._parseLocalColor(t);if(e){const{_swatchColors:t,_root:o}=this,n=C(...e),i=a(`<button type=\"button\" style=\"color: ${n.toRGBA().toString(0)}\" aria-label=\"${this._t(\"btn:swatch\")}\"/>`);return o.swatches.appendChild(i),t.push({el:i,color:n}),this._eventBindings.push(r(i,\"click\",()=>{this.setHSVA(...n.toHSVA(),!0),this._emit(\"swatchselect\",n),this._emit(\"change\",n,\"swatch\",this)})),!0}return!1}removeSwatch(t){const e=this._swatchColors[t];if(e){const{el:o}=e;return this._root.swatches.removeChild(o),this._swatchColors.splice(t,1),!0}return!1}applyColor(t=!1){const{preview:e,button:o}=this._root,n=this._color.toRGBA().toString(0);return e.lastColor.style.color=n,this.options.useAsButton||(o.style.color=n),o.classList.remove(\"clear\"),this._lastColor=this._color.clone(),this._initializingActive||t||this._emit(\"save\",this._color),this}destroy(){cancelAnimationFrame(this._setupAnimationFrame),this._eventBindings.forEach(t=>s(...t)),Object.keys(this._components).forEach(t=>this._components[t].destroy())}destroyAndRemove(){this.destroy();const{root:t,app:e}=this._root;t.parentElement&&t.parentElement.removeChild(t),e.parentElement.removeChild(e),Object.keys(this).forEach(t=>this[t]=null)}hide(){return this._root.app.classList.remove(\"visible\"),this._emit(\"hide\"),this}show(){return this.options.disabled||(this._root.app.classList.add(\"visible\"),this._rePositioningPicker(),this._emit(\"show\",this._color)),this}isOpen(){return this._root.app.classList.contains(\"visible\")}setHSVA(t=360,e=0,o=0,n=1,i=!1){const r=this._recalc;if(this._recalc=!1,t<0||t>360||e<0||e>100||o<0||o>100||n<0||n>1)return!1;this._color=C(t,e,o,n);const{hue:s,opacity:a,palette:l}=this._components;return s.update(t/360),a.update(n),l.update(e/100,1-o/100),i||this.applyColor(),r&&this._updateOutput(),this._recalc=r,!0}setColor(t,e=!1){if(null===t)return this._clearColor(e),!0;const{values:o,type:n}=this._parseLocalColor(t);if(o){const t=n.toUpperCase(),{options:i}=this._root.interaction,r=i.find(e=>e.getAttribute(\"data-type\")===t);if(r&&!r.hidden)for(const t of i)t.classList[t===r?\"add\":\"remove\"](\"active\");return!!this.setHSVA(...o,e)&&this.setColorRepresentation(t)}return!1}setColorRepresentation(t){return t=t.toUpperCase(),!!this._root.interaction.options.find(e=>e.getAttribute(\"data-type\").startsWith(t)&&!e.click())}getColorRepresentation(){return this._representation}getColor(){return this._color}getSelectedColor(){return this._lastColor}getRoot(){return this._root}disable(){return this.hide(),this.options.disabled=!0,this._root.button.classList.add(\"disabled\"),this}enable(){return this.options.disabled=!1,this._root.button.classList.remove(\"disabled\"),this}}L(x,\"utils\",n),L(x,\"version\",\"1.8.0\"),L(x,\"I18N_DEFAULTS\",{\"ui:dialog\":\"color picker dialog\",\"btn:toggle\":\"toggle color picker dialog\",\"btn:swatch\":\"color swatch\",\"btn:last-color\":\"use previous color\",\"btn:save\":\"Save\",\"btn:cancel\":\"Cancel\",\"btn:clear\":\"Clear\",\"aria:btn:save\":\"save and close\",\"aria:btn:cancel\":\"cancel and close\",\"aria:btn:clear\":\"clear and close\",\"aria:input\":\"color input field\",\"aria:palette\":\"color selection area\",\"aria:hue\":\"hue selection slider\",\"aria:opacity\":\"selection slider\"}),L(x,\"DEFAULT_OPTIONS\",{appClass:null,theme:\"classic\",useAsButton:!1,padding:8,disabled:!1,comparison:!0,closeOnScroll:!1,outputPrecision:0,lockOpacity:!1,autoReposition:!0,container:\"body\",components:{interaction:{}},i18n:{},swatches:null,inline:!1,sliders:null,default:\"#42445a\",defaultRepresentation:null,position:\"bottom-middle\",adjustableNumbers:!0,showAlways:!1,closeWithKey:\"Escape\"}),L(x,\"create\",t=>new x(t));e.default=x}]).default}));\n//# sourceMappingURL=pickr.min.js.map","import {tpmt} from \"./math.js\";\n\nexport function expIn(t) {\n  return tpmt(1 - +t);\n}\n\nexport function expOut(t) {\n  return 1 - tpmt(t);\n}\n\nexport function expInOut(t) {\n  return ((t *= 2) <= 1 ? tpmt(1 - t) : 2 - tpmt(t - 1)) / 2;\n}\n","export const radians = Math.PI / 180;\nexport const degrees = 180 / Math.PI;\n","import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb} from \"./color.js\";\nimport {degrees, radians} from \"./math.js\";\n\n// https://observablehq.com/@mbostock/lab-and-rgb\nconst K = 18,\n    Xn = 0.96422,\n    Yn = 1,\n    Zn = 0.82521,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) return hcl2lab(o);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r),\n      g = rgb2lrgb(o.g),\n      b = rgb2lrgb(o.b),\n      y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn), x, z;\n  if (r === g && g === b) x = z = y; else {\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport function gray(l, opacity) {\n  return new Lab(l, 0, 0, opacity == null ? 1 : opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter: function(k) {\n    return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker: function(k) {\n    return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb: function() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    x = Xn * lab2xyz(x);\n    y = Yn * lab2xyz(y);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      lrgb2rgb( 3.1338561 * x - 1.6168667 * y - 0.4906146 * z),\n      lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z),\n      lrgb2rgb( 0.0719453 * x - 0.2289914 * y + 1.4052427 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction lrgb2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2lrgb(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0 < o.l && o.l < 100 ? 0 : NaN, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * degrees;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function lch(l, c, h, opacity) {\n  return arguments.length === 1 ? hclConvert(l) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\nfunction hcl2lab(o) {\n  if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n  var h = o.h * radians;\n  return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function(k) {\n    return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\n  },\n  darker: function(k) {\n    return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\n  },\n  rgb: function() {\n    return hcl2lab(this).rgb();\n  }\n}));\n","import {hcl as colorHcl} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction hcl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHcl(start)).h, (end = colorHcl(end)).h),\n        c = color(start.c, end.c),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.c = c(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hcl(hue);\nexport var hclLong = hcl(color);\n","/* eslint-disable */\r\n/**\r\n * doc comment for manual.ts\r\n * @remarks \r\n * Manual attempts for animation effects.\r\n * @packageDocumentation\r\n */\r\n\r\nimport * as Color from \"@/assets/color-preset\"\r\nimport { GroupManager, KeyFrame } from \"@/assets/animator\"\r\nimport { KeyframeConfig } from \"@/assets/types\"\r\nimport * as d3Ease from \"d3-ease\"\r\n\r\nexport let colorTransition = function () {\r\n     let keyframes = [] as Array<KeyFrame>\r\n     let colors = Color.calm;\r\n     colors.forEach((c, idx) => {\r\n        keyframes.push(new KeyFrame({\r\n            'color': c,\r\n            'stage': Math.ceil((idx) * 100/(colors.length-1))\r\n        }))\r\n     })\r\n     return keyframes\r\n}\r\n\r\n// I found it only works as a function or there will be import error\r\nexport let coloredShake = () => [\r\n        new KeyFrame({ xoff: -1, yoff: -1, color: 'red', stage: 0 }),\r\n        new KeyFrame({ xoff: 0, yoff: 0, color: 'yellow', stage: 20 }),\r\n        new KeyFrame({ xoff: -1, yoff: 1, color: 'blue', stage: 60 }),\r\n        new KeyFrame({ xoff: 0, yoff: 0, color: 'grey', stage: 80 }),\r\n        new KeyFrame({ xoff: 1, yoff: 1, color: 'green', stage: 100 })\r\n        // new KeyFrame({ xoff: -1, yoff: 1 }),\r\n        // new KeyFrame({ xoff: -1, yoff: -1 }),\r\n        // new KeyFrame({ xoff: 1, yoff: -1 }),\r\n        // new KeyFrame({ xoff: 0, yoff: 1 }),\r\n    ]\r\n\r\nexport let smallShake = () => [\r\n        new KeyFrame({ xoff: 0, yoff: 0, stage: 0 }),\r\n        new KeyFrame({ xoff: 0.5, yoff: 0.5, stage: 5 }),\r\n        new KeyFrame({ xoff: 0, yoff: 0, stage: 10 }),\r\n        new KeyFrame({ xoff: -0.5, yoff: 0, stage: 15 }),\r\n        new KeyFrame({ xoff: 0, yoff: 0, stage: 20 }),\r\n        new KeyFrame({ xoff: 0.5, yoff: -0.5, stage: 25 }),\r\n        new KeyFrame({ xoff: 1, yoff: 0, stage: 100 })\r\n    ]\r\n\r\nexport let shakeNRotate = () => [\r\n        new KeyFrame({ xoff: 1, yoff: 0, rotate: 5, stage: 0 }),\r\n        new KeyFrame({ xoff: 1, yoff: 0 , rotate: 5, stage: 10}),\r\n        new KeyFrame({ xoff: 0, yoff: 0, rotate: -5, stage: 20 }),\r\n        new KeyFrame({ xoff: -1, yoff: 1, rotate: 5, stage: 30 }),\r\n        new KeyFrame({ xoff: -1, yoff: 0, rotate: -5, stage: 40 }),\r\n        new KeyFrame({ xoff: 0, yoff: 0, rotate: -5, stage: 50 }),\r\n        new KeyFrame({ xoff: -1, yoff: -1, rotate: 5, stage: 60 }),\r\n        new KeyFrame({ xoff: 0, yoff: 0, rotate: -5, stage: 100 })\r\n    ]\r\n\r\nexport let scale = () => [\r\n        new KeyFrame({ scale: 0.5 }),\r\n        new KeyFrame({ scale: 1.5 }),\r\n        new KeyFrame({ scale: 1.0 })\r\n]\r\n\r\nexport let xmas = () =>   [\r\n    new KeyFrame({ xoff: -1, yoff: -1, color: '#FF000000', stage: 0}),\r\n    new KeyFrame({ xoff: -1, yoff: 1, color: '#FF0000', stage: 10}),\r\n    new KeyFrame({ xoff: 1, yoff: 1, color: '#FF0000', stage: 20}),\r\n    new KeyFrame({ xoff: 2, yoff: 2, color: 'white', stage: 30}),\r\n    new KeyFrame({ xoff: 1, yoff: -2, color: 'white', stage: 40}),\r\n    new KeyFrame({ xoff: -1, yoff: -2, color: '#FF8F39', stage: 50}),\r\n    new KeyFrame({ xoff: 3, yoff: -3, color: '#FF8F39', stage: 60}),\r\n    new KeyFrame({ xoff: 2, yoff: 2, color: 'red', stage: 70}),\r\n    new KeyFrame({ xoff: 1, yoff: 1, color: 'red', stage: 80}),\r\n    new KeyFrame({ xoff: -1, yoff: -1, color: '#FF8F39', stage: 90}),\r\n    new KeyFrame({ xoff: 1, yoff: 0, color: '#FF8F39', stage: 100})\r\n]\r\n\r\nexport let split = function () {\r\n    \r\n}\r\n\r\nexport let hardCodeGroups = function () {\r\n     let groupManager: GroupManager[] = [\r\n            new GroupManager({\r\n                duration: 500,\r\n                keyFrames: xmas()\r\n            }),\r\n        ]\r\n        // hasty?\r\n        // let groupManager: GroupManager[] = [\r\n        //     new GroupManager({\r\n        //         duration: 2000,\r\n        //         keyFrames: [\r\n        //             new KeyFrame({ xoff: 0, stage: 0}),\r\n        //             new KeyFrame({ xoff: 1000, stage: 100, color: 'red'}),\r\n\r\n        //         ],\r\n        //     }),\r\n        //     new GroupManager({\r\n        //         duration: 2100,\r\n        //         keyFrames: [\r\n        //             new KeyFrame({ xoff: 0, stage: 0}),\r\n        //             new KeyFrame({ xoff: 1000, stage: 100}),\r\n\r\n        //         ],\r\n        //     }),\r\n        //     new GroupManager({\r\n        //         duration: 2200,\r\n        //         keyFrames: [\r\n        //             new KeyFrame({ xoff: 0, stage: 0}),\r\n        //             new KeyFrame({ xoff: 1000, stage: 100}),\r\n\r\n        //         ],\r\n        //     }),\r\n        //     new GroupManager({\r\n        //         duration: 2300,\r\n        //         keyFrames: [\r\n        //             new KeyFrame({ xoff: 0, stage: 0}),\r\n        //             new KeyFrame({ xoff: 1000, stage: 100}),\r\n\r\n        //         ],\r\n        //     }),\r\n        //     new GroupManager({\r\n        //         duration: 2400,\r\n        //         keyFrames: [\r\n        //             new KeyFrame({ xoff: 0, stage: 0}),\r\n        //             new KeyFrame({ xoff: 1000, stage: 100}),\r\n\r\n        //         ],\r\n        //     }),\r\n        //     new GroupManager({\r\n        //         duration: 2500,\r\n        //         keyFrames: [\r\n        //             new KeyFrame({ xoff: 0, stage: 0}),\r\n        //             new KeyFrame({ xoff: 1000, stage: 100}),\r\n\r\n        //         ],\r\n        //     }),\r\n        //     new GroupManager({\r\n        //         duration: 2600,\r\n        //         keyFrames: [\r\n        //             new KeyFrame({ xoff: 0, stage: 0}),\r\n        //             new KeyFrame({ xoff: 1000, stage: 100}),\r\n\r\n        //         ],\r\n        //     }),\r\n        //     new GroupManager({\r\n        //         duration: 2700,\r\n        //         keyFrames: [\r\n        //             new KeyFrame({ xoff: 0, stage: 0}),\r\n        //             new KeyFrame({ xoff: 1000, stage: 100}),\r\n\r\n        //         ],\r\n        //     }),\r\n        // ]\r\n        // bubbly effect\r\n        // let groupManager: GroupManager[] = [\r\n        //     new GroupManager({\r\n        //         duration: 3000,\r\n        //         keyFrames: [\r\n        //             new KeyFrame({ scale: 0.5, stage: 0, color: 'gold' }),\r\n        //             new KeyFrame({ scale: 1.25, stage: 100, color: 'red' }),\r\n\r\n        //         ]\r\n        //     }),\r\n        //     new GroupManager({\r\n        //         duration: 4000,\r\n        //         keyFrames: [\r\n        //             new KeyFrame({ scale: 0.5, stage: 0, color: 'red' }),\r\n        //             new KeyFrame({ scale: 1.125, stage: 100, color: 'green' }),\r\n\r\n        //         ]\r\n        //     }),\r\n        //     new GroupManager({\r\n        //         duration: 3500,\r\n        //         keyFrames: [\r\n        //             new KeyFrame({ scale: 0.5, stage: 0, color: 'green' }),\r\n        //             new KeyFrame({ scale: 1.3, stage: 100, color: 'gold' }),\r\n\r\n        //         ]\r\n        //     }),\r\n        // ] \r\n        // fly away        \r\n        // let groupManager: GroupManager[] = [\r\n        //     new GroupManager({\r\n        //         duration: 3000,\r\n        //         keyFrames: [\r\n        //             new KeyFrame({rotate: 0, stage: 0}),\r\n        //             new KeyFrame({xoff: 200, yoff: -200, scale: 0, rotate: 720, stage: 100}),\r\n\r\n        //         ]\r\n        //     }),\r\n        //     new GroupManager({\r\n        //         duration: 2000,\r\n        //         keyFrames: [\r\n        //             new KeyFrame({rotate: 0, stage: 0}),\r\n        //             new KeyFrame({xoff: 200, yoff: -200, scale: 0, rotate: 720, stage: 100}),\r\n\r\n        //         ]\r\n        //     }),\r\n        //     new GroupManager({\r\n        //         duration: 2100,\r\n        //         keyFrames: [\r\n        //             new KeyFrame({rotate: 0, stage: 0}),\r\n        //             new KeyFrame({xoff: 200, yoff: -200, scale: 0, rotate: 720, stage: 100}),\r\n\r\n        //         ]\r\n        //     }),\r\n        //     new GroupManager({\r\n        //         duration: 2400,\r\n        //         keyFrames: [\r\n        //             new KeyFrame({rotate: 0, stage: 0}),\r\n        //             new KeyFrame({xoff: 200, yoff: -200, scale: 0, rotate: 720, stage: 100}),\r\n\r\n        //         ]\r\n        //     })\r\n        // ]\r\n        // slide away\r\n        //  let groupManager: GroupManager[] = [\r\n        //     new GroupManager({\r\n        //         duration: 3000,\r\n        //         keyFrames: [\r\n        //             new KeyFrame({xoff: 0, stage: 0}),\r\n        //             new KeyFrame({xoff: 1500, scale: 0, stage: 100, color: '#C1C1C1'}),\r\n\r\n        //         ]\r\n        //     }),\r\n        // ]\r\n        // inception style?\r\n        //  let groupManager: GroupManager[] = [\r\n        //     new GroupManager({\r\n        //         ease: d3Ease.easeLinear,\r\n        //         duration: 3000,\r\n        //         keyFrames: [\r\n        //             new KeyFrame({xoff: 0, stage: 0}),\r\n        //             new KeyFrame({xoff: 0, scale: 0, stage: 100}),\r\n        //         ]\r\n        //     }),\r\n        //     new GroupManager({\r\n        //         ease: d3Ease.easeLinear,\r\n        //         duration: 2250,\r\n        //         keyFrames: [\r\n        //             new KeyFrame({xoff: 0, stage: 0}),\r\n        //             new KeyFrame({xoff: 0, scale: 0, stage: 100}),\r\n        //         ]\r\n        //     }),\r\n        //     new GroupManager({\r\n        //         ease: d3Ease.easeLinear,\r\n        //         duration: 2000,\r\n        //         keyFrames: [\r\n        //             new KeyFrame({xoff: 0, stage: 0}),\r\n        //             new KeyFrame({xoff: 0, scale: 0, stage: 100}),\r\n        //         ]\r\n        //     }),\r\n        //     new GroupManager({\r\n        //         ease: d3Ease.easeLinear,\r\n        //         duration: 2500,\r\n        //         keyFrames: [\r\n        //             new KeyFrame({xoff: 0, stage: 0}),\r\n        //             new KeyFrame({xoff: 0, scale: 0, stage: 100}),\r\n        //         ]\r\n        //     }),\r\n        //     new GroupManager({\r\n        //         ease: d3Ease.easeLinear,\r\n        //         duration: 2600,\r\n        //         keyFrames: [\r\n        //             new KeyFrame({xoff: 0, stage: 0}),\r\n        //             new KeyFrame({xoff: 0, scale: 0, stage: 100}),\r\n        //         ]\r\n        //     }),\r\n        //     new GroupManager({\r\n        //         ease: d3Ease.easeLinear,\r\n        //         duration: 2400,\r\n        //         keyFrames: [\r\n        //             new KeyFrame({xoff: 0, stage: 0}),\r\n        //             new KeyFrame({xoff: 0, scale: 0, stage: 100}),\r\n        //         ]\r\n        //     }),\r\n        //     new GroupManager({\r\n        //         ease: d3Ease.easeLinear,\r\n        //         duration: 2700,\r\n        //         keyFrames: [\r\n        //             new KeyFrame({xoff: 0, stage: 0}),\r\n        //             new KeyFrame({xoff: 0, scale: 0, stage: 100}),\r\n        //         ]\r\n        //     }),\r\n        // ]\r\n        // rotation with colorization\r\n        // let groupManager: GroupManager[] = [\r\n        //         new GroupManager({\r\n        //             ease: d3Ease.easeSin,\r\n        //             duration: 3000,\r\n        //             keyFrames: [\r\n        //                 new KeyFrame({xoff: 0, stage: 0}),\r\n        //                 new KeyFrame({xoff: 0, rotate: 720, color:'#0CB04A', stage: 100}),\r\n        //             ]\r\n        //         }),\r\n        //         new GroupManager({\r\n        //             ease: d3Ease.easeCircle,\r\n        //             duration: 3000,\r\n        //             keyFrames: [\r\n        //                 new KeyFrame({xoff: 0, stage: 0}),\r\n        //                 new KeyFrame({xoff: 0, rotate: 360, color:'#0A7533', stage: 100}),\r\n        //             ]\r\n        //         }),\r\n        //         new GroupManager({\r\n        //             ease: d3Ease.easeCubic,\r\n        //             duration: 3000,\r\n        //             keyFrames: [\r\n        //                 new KeyFrame({xoff: 0, stage: 0}),\r\n        //                 new KeyFrame({xoff: 0, rotate: 1080, color: '#FF3A2F', stage: 100}),\r\n        //             ]\r\n        //         }),\r\n        //         new GroupManager({\r\n        //             ease: d3Ease.easePoly,\r\n        //             duration: 3000,\r\n        //             keyFrames: [\r\n        //                 new KeyFrame({xoff: 0, stage: 0}),\r\n        //                 new KeyFrame({xoff: 0, rotate: 1440, color: '#A92921', stage: 100}),\r\n        //             ]\r\n        //         }),\r\n        //     ]\r\n    return groupManager\r\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","/* eslint-disable */\r\n\r\nimport { KeyFrame } from \"./animator\";\r\nimport * as Manual from \"@/assets/manual\";\r\nimport { Mode } from \"@/assets/types\"\r\nimport { FontConfig } from \"@/assets/variable-font\"\r\n\r\nconst minNumGroup = 1;\r\nconst sampleFont = new FontConfig()\r\nconst sampleItalic = sampleFont.italicRange\r\nconst sampleWeight = sampleFont.weightRange\r\nconst sampleItalicInterval = sampleItalic[1] - sampleItalic[0]\r\nconst sampleWeightInterval = sampleWeight[1] - sampleWeight[0]\r\nconst sampleItalicMid = ( sampleItalic[1] + sampleItalic[0] ) / 2\r\nconst sampleWeightMid = ( sampleWeight[1] + sampleWeight[0] ) / 2\r\n\r\nclass KeyFrameHandler {\r\n    public getKeyFrames(mode: Mode, wordLength: number, speed: number, entropy: number, alpha=0) {\r\n        let keyFrames = [] as KeyFrame[][];\r\n        if (mode == Mode.dance) {\r\n            keyFrames = this.getDiscoKeyFrames(wordLength, speed, entropy);\r\n        } else if (mode == Mode.split) {\r\n            keyFrames = this.getSplitKeyframes(wordLength, speed, entropy, alpha)\r\n        } else if (mode == Mode.swing) {\r\n            keyFrames = this.getSwingingKeyFrames(wordLength, speed, entropy)\r\n        }\r\n        else {\r\n            keyFrames = [Manual.colorTransition()];\r\n        }\r\n        return keyFrames;\r\n    }\r\n\r\n    private getSwingingKeyFrames(wordLength: number, speed: number, entropy: number) {\r\n        let keyFrames = [] as KeyFrame[][];\r\n        const maxNumGroup =  Math.floor(wordLength * 0.9);\r\n        let numGroup = Math.max(1, entropy * maxNumGroup)\r\n        for (let index = 0; index < numGroup; index++) {\r\n            let groupKeyFrames = [] as KeyFrame[]\r\n            const italicDelta = sampleItalicInterval * ( entropy * 0.5 + Math.random() * 0.1 + 0.4 )\r\n            const weightDelta = sampleWeightInterval * ( entropy * 0.5 + Math.random() * 0.1 + 0.4 )\r\n            const italicRange = [sampleItalicMid - italicDelta, sampleItalicMid + italicDelta]\r\n            const weightRange = [sampleWeightMid - weightDelta * 0.2, sampleWeightMid + weightDelta]\r\n            let fontMid = new FontConfig()\r\n            fontMid.update({italic: sampleItalicMid, weight: sampleWeightMid})\r\n            let fontStart = new FontConfig()\r\n            fontStart.update({italic: italicRange[0], weight:weightRange[0]})\r\n            let fontEnd = new FontConfig()\r\n            fontEnd.update({italic: italicRange[1], weight: weightRange[1]})\r\n            let fontWideMid = new FontConfig()\r\n            fontWideMid.update({italic: sampleItalicMid, weight: weightRange[1]})\r\n            let fontWideStart = new FontConfig()\r\n            fontWideStart.update({ italic: italicRange[0], weight: weightRange[0] })\r\n \r\n            let animation = [] as KeyFrame[]\r\n            let backupFrames = [\r\n                new KeyFrame({font: fontEnd}),\r\n                new KeyFrame({font: fontEnd}),\r\n                new KeyFrame({font: fontWideMid, xoff: -1}),\r\n                new KeyFrame({font: fontWideStart, xoff: -4}),\r\n                // new KeyFrame({font: fontStart }),\r\n                new KeyFrame({font: fontWideMid, yoff: Math.random()>0.5?-2:2}),\r\n                new KeyFrame({font: fontEnd}),\r\n                new KeyFrame({font: fontEnd}),\r\n            ]\r\n            for(let it = 0; it < Math.max(1, Math.floor(Math.random()*3)); it ++) {\r\n                for(let fid = 0; fid < backupFrames.length; fid ++) {\r\n                    if(Math.random() > 0.2) {\r\n                        animation.push(backupFrames[fid])\r\n                    }\r\n                }\r\n            }\r\n            const iter = 10 * speed;\r\n            const al = animation.length;\r\n            const tl = al * iter - 1;\r\n            if(iter == 0) {\r\n                groupKeyFrames.push(...[\r\n                    new KeyFrame({stage: 0}),\r\n                    new KeyFrame({stage: 100}),\r\n                ])\r\n            }\r\n            for (let i = 0; i < iter; i++) {\r\n                animation.forEach((move, idx) => {\r\n                    const stage = Math.ceil((100 / tl) * (idx + i * al));\r\n                    groupKeyFrames.push({...move, stage: stage});\r\n                });\r\n            }\r\n\r\n            keyFrames.push(groupKeyFrames)\r\n        }\r\n        return keyFrames\r\n    }\r\n\r\n\r\n\r\n\r\n    private getSplitKeyframes(wordLength: number, speed: number, entropy: number, alpha: number) {\r\n        let keyFrames = [] as KeyFrame[][];\r\n        let maxNumGroup =  Math.floor(wordLength * 0.9);\r\n        let numGroup = Math.max(minNumGroup, Math.floor(entropy * maxNumGroup))\r\n        for (let index = 0; index < numGroup; index++) {\r\n            const groupKf = [] as KeyFrame[]\r\n            const theta = alpha + index * 2 * Math.PI / numGroup \r\n            const dis = Math.random() * 4 + 2 + entropy * 18\r\n          //  console.log(theta/(2*Math.PI), numGroup,  dis * Math.cos(theta), dis * Math.sin(theta))\r\n            const iter = Math.floor(10 * speed)\r\n            const _move_left = new KeyFrame({ xoff: 3*dis/5 * Math.cos(theta+ Math.PI/7), yoff: 3*dis/5 * Math.sin(theta+Math.PI/7), rotate: 0});\r\n            const _move_right = new KeyFrame({ xoff: 4*dis/5 * Math.cos(theta - Math.PI/8), yoff: 4*dis/5 * Math.sin(theta+Math.PI/8), rotate: 0});\r\n            const _move = new KeyFrame({ xoff: dis * Math.cos(theta), yoff: dis * Math.sin(theta), rotate: 0});\r\n            const _center = new KeyFrame({ xoff: 0, yoff: 0, rotate: 0 });\r\n            const _rotate = new KeyFrame({ rotate: (theta-Math.PI/4)})\r\n            const _neg_rotate = new KeyFrame({ rotate: (-theta+Math.PI/4)})\r\n            const animation = [\r\n                _center,\r\n                // _move_left,\r\n                // _move_right,\r\n                _move,\r\n                _rotate,\r\n                _rotate,\r\n                _neg_rotate,\r\n                _move,\r\n                _move,\r\n                _move,\r\n                _move,\r\n                // _move_right,\r\n                // _move_left,\r\n                _center,\r\n            ]\r\n            const al = animation.length;\r\n            const tl = al * iter - 1;\r\n            if(iter == 0) {\r\n                groupKf.push(...[\r\n                    new KeyFrame({stage: 0}),\r\n                    new KeyFrame({stage: 100}),\r\n                ])\r\n            }\r\n            for (let i = 0; i < iter; i++) {\r\n                animation.forEach((move, idx) => {\r\n                    const stage = Math.ceil((100 / tl) * (idx + i * al));\r\n                    groupKf.push({...move, stage: stage});\r\n                });\r\n            }\r\n            keyFrames.push(groupKf);\r\n        }\r\n        return keyFrames;\r\n    }\r\n    private getDiscoKeyFrames(wordLength: number, speed: number, entropy: number): KeyFrame[][] {\r\n        const keyFrames = [];\r\n        const maxNumGroup =  10;\r\n        const numGroup = Math.min(wordLength, Math.trunc((maxNumGroup - minNumGroup) * entropy + minNumGroup));\r\n        // const minNumStage = 10;\r\n        // const maxNumStage = 100;\r\n        // const numStage = (maxNumStage - minNumStage) * speed + minNumStage; // at least\r\n        // const steps = 100 / numStage;\r\n        for (let index = 0; index < numGroup; index++) {\r\n            const groupKf = [] as KeyFrame[];\r\n            const randXD = Math.round(Math.random()) * 2 - 1;\r\n            const move = new KeyFrame({ xoff: randXD * (  entropy * 3) });\r\n            const center = new KeyFrame({ xoff: 0, yoff: 0 });\r\n            const randY = Math.random() * 2.0;\r\n            const jump = new KeyFrame({yoff: -randY * (speed + entropy + 1)});\r\n            const animation = [\r\n                move,\r\n                center,\r\n                move,\r\n                jump\r\n            ]\r\n            const iter = 10 * speed;\r\n            const al = animation.length;\r\n            const tl = al * iter - 1;\r\n            if(iter == 0) {\r\n                groupKf.push(...[\r\n                    new KeyFrame({stage: 0}),\r\n                    new KeyFrame({stage: 100}),\r\n                ])\r\n            }\r\n            for (let i = 0; i < iter; i++) {\r\n                animation.forEach((move, idx) => {\r\n                    const stage = Math.ceil((100 / tl) * (idx + i * al));\r\n                    groupKf.push({...move, stage: stage});\r\n                });\r\n            }\r\n            // for (let j = 0; j < numStage + 1; j++) {\r\n            //     const stage = Math.trunc(j * steps);\r\n            //     let kf: KeyFrame;\r\n                // if(j % 2 == 0) { \r\n                //     kf = new KeyFrame({xoff: 0, yoff: 0, stage: stage});\r\n                // } else {\r\n                //     const randxd = Math.round(Math.random()) * 2 - 1;\r\n                //     const randyd = Math.round(Math.random()) * 2 - 1;\r\n                //     const randrd = Math.round(Math.random()) * 2 - 1;\r\n                //     const randx = parseFloat((Math.random() + entropy * 3).toFixed(2));\r\n                //     const randy = parseFloat((Math.random() + entropy * 3).toFixed(2));\r\n                //     const randr = parseFloat((Math.random()).toFixed(2));\r\n                //     kf = new KeyFrame({ xoff: randxd * randx, yoff: randyd * randy, rotate: randrd * randr, stage: stage });\r\n                // }\r\n                // 1. left -> left -> jump\r\n                // left\r\n\r\n                // jump\r\n                // groupKf.push(kf);\r\n            // }\r\n            keyFrames.push(groupKf);\r\n        }\r\n        return keyFrames;\r\n    }\r\n}\r\n\r\nlet shuffle = function <T>(array: T[]) {\r\n    let currIdx = array.length, tempVal, randIdx\r\n    while (0 != currIdx) {\r\n        randIdx = Math.floor(Math.random() * currIdx)\r\n        currIdx -= 1\r\n        tempVal = array[currIdx]\r\n        array[currIdx] = array[randIdx]\r\n        array[randIdx] = tempVal\r\n    }\r\n    return array\r\n}\r\n\r\nexport { KeyFrameHandler }","/* eslint-disable */\r\n/**\r\n * doc comment for jump.ts\r\n * @remarks \r\n * It is working in progress. It trys to tune the webgl program more subtlely.\r\n * @packageDocumentation\r\n */\r\n\r\n\r\n// Reads out a .ttf and triangulates the glyphs using OpenType and Earcut.\r\n// Code made By riv -> https://stackoverflow.com/questions/50554803/triangulate-path-data-from-opentype-js-using-earcut/50581183#50581183\r\n// Original here -> https://jsbin.com/gecakub/edit?html,js,output\r\n\r\n// 1. Reads Bezier curves from `.tff` font file using OpenType.js.\r\n// 2. Converts Bezier curves into closed shapes and sort them by descending area.\r\n// 3. Determines the indices for the holes by figuring out which shapes are inside other shapes.\r\n// 4. Send all points to Earcut with the holes indices as a second parameter.\r\n// 5. Uses earcut's result as indices for the geometry.\r\n// 6. Then, render triangles with webGL.\r\n\r\n\r\nimport opentype from \"opentype.js\"\r\nimport earcut from \"earcut\"\r\nimport { createShader, createProgram } from \"./gl-helper\"\r\n// import { polygonCentroid } from \"d3\"\r\nimport { Word } from './types'\r\n\r\ninterface P {\r\n  x: number,\r\n  y: number\r\n}\r\n\r\n\r\nconst FONTURL = \"https://cdnjs.cloudflare.com/ajax/libs/ink/3.1.10/fonts/Roboto/roboto-regular-webfont.ttf\"\r\nlet time: any = null\r\nlet pace = 80.0\r\n\r\nfunction distance(p1: P, p2: P) {\r\n  const dx = p1.x - p2.x,\r\n    dy = p1.y - p2.y\r\n  return Math.sqrt(dx * dx + dy * dy)\r\n}\r\n\r\nfunction lerp(p1: P, p2: P, t: number) {\r\n  return { x: (1 - t) * p1.x + t * p2.x, y: (1 - t) * p1.y + t * p2.y }\r\n}\r\n\r\nfunction cross(p1: P, p2: P) {\r\n  return p1.x * p2.y - p1.y * p2.x\r\n}\r\n\r\n// bezier discretization\r\nconst MAX_BEZIER_STEPS = 10\r\nconst BEZIER_STEP_SIZE = 3.0\r\n// this is for inside checks - doesn't have to be particularly\r\n// small because glyphs have finite resolution\r\nconst EPSILON = 1e-6\r\n\r\nlet gl: any\r\nlet indices: any\r\n// class for converting path commands into point data\r\nclass Polygon {\r\n  public points: Array<P> = []\r\n  public children: Polygon[] = []\r\n  public area: any = 0.0\r\n\r\n  moveTo(p:P) {\r\n    this.points.push(p)\r\n  }\r\n\r\n  lineTo(p:P) {\r\n    this.points.push(p)\r\n  }\r\n  close() {\r\n    let cur = this.points[this.points.length - 1]\r\n    this.points.forEach(next => {\r\n      this.area += 0.5 * cross(cur, next)\r\n      cur = next\r\n    })\r\n  }\r\n  conicTo(p: P, p1: P) {\r\n    const p0 = this.points[this.points.length - 1]\r\n    const dist = distance(p0, p1) + distance(p1, p)\r\n    const steps = Math.max(\r\n      2,\r\n      Math.min(MAX_BEZIER_STEPS, dist / BEZIER_STEP_SIZE)\r\n    )\r\n    for (let i = 1; i <= steps; ++i) {\r\n      const t = i / steps\r\n      this.points.push(lerp(lerp(p0, p1, t), lerp(p1, p, t), t))\r\n    }\r\n  }\r\n  cubicTo(p: P, p1: P, p2: P) {\r\n    const p0 = this.points[this.points.length - 1]\r\n    const dist = distance(p0, p1) + distance(p1, p2) + distance(p2, p)\r\n    const steps = Math.max(\r\n      2,\r\n      Math.min(MAX_BEZIER_STEPS, dist / BEZIER_STEP_SIZE)\r\n    )\r\n    for (let i = 1; i <= steps; ++i) {\r\n      const t = i / steps\r\n      const a = lerp(lerp(p0, p1, t), lerp(p1, p2, t), t)\r\n      const b = lerp(lerp(p1, p2, t), lerp(p2, p, t), t)\r\n      this.points.push(lerp(a, b, t))\r\n    }\r\n  }\r\n\r\n  inside(p: P) {\r\n    let count = 0,\r\n      cur = this.points[this.points.length - 1]\r\n    this.points.forEach(next => {\r\n      const p0 = cur.y < next.y ? cur : next\r\n      const p1 = cur.y < next.y ? next : cur\r\n      if (p0.y < p.y + EPSILON && p1.y > p.y + EPSILON) {\r\n        if ((p1.x - p0.x) * (p.y - p0.y) > (p.x - p0.x) * (p1.y - p0.y)) {\r\n          count += 1\r\n        }\r\n      }\r\n      cur = next\r\n    })\r\n    return count % 2 !== 0\r\n  }\r\n}\r\n\r\nfunction tick(t: number) {\r\n  gl.uniform1f(time, t / pace)\r\n  gl.drawElements(gl.TRIANGLES, indices.length, gl.UNSIGNED_SHORT, 0)\r\n  requestAnimationFrame(tick)\r\n}\r\n\r\nlet getRoots = function (polys: Polygon[]) {\r\n     // classify contours to find holes and their 'parents'\r\n     const root = []\r\n     for (let i = 0; i < polys.length; ++i) {\r\n         let parent = null\r\n         for (let j = i - 1; j >= 0; --j) {\r\n             // a contour is a hole if it is inside its parent and has different winding\r\n             if (\r\n             polys[j].inside(polys[i].points[0]) &&\r\n             polys[i].area * polys[j].area < 0\r\n             ) {\r\n                 parent = polys[j]\r\n                 break\r\n             }\r\n     }\r\n     if (parent) {\r\n             parent.children.push(polys[i])\r\n         } else {\r\n             root.push(polys[i])\r\n         }\r\n     }\r\n     return root\r\n}\r\n\r\nlet getPolys = function (font: opentype.Font, x=0, y=0, s=12, text=\"Hello World\") {\r\n    // create path\r\n    const path = font.getPath(text, x, y, s)\r\n    // create a list of closed contours\r\n    const polys: Polygon[] = []\r\n    path.commands.forEach(({ type, x, y, x1, y1, x2, y2 }: any) => {\r\n    switch (type) {\r\n        case \"M\":\r\n        polys.push(new Polygon())\r\n        polys[polys.length - 1].moveTo({ x, y })\r\n        break\r\n        case \"L\":\r\n        polys[polys.length - 1].moveTo({ x, y })\r\n        break\r\n        case \"C\":\r\n        polys[polys.length - 1].cubicTo(\r\n            { x, y },\r\n            { x: x1, y: y1 },\r\n            { x: x2, y: y2 }\r\n        )\r\n        break\r\n        case \"Q\":\r\n        polys[polys.length - 1].conicTo({ x, y }, { x: x1, y: y1 })\r\n        break\r\n        case \"Z\":\r\n        polys[polys.length - 1].close()\r\n        break\r\n        }\r\n    })\r\n    // sort contours by descending area\r\n    polys.sort((a, b) => Math.abs(b.area) - Math.abs(a.area))\r\n    return polys\r\n}\r\n\r\nlet getVertexData = function (root: Polygon[], polys: Polygon[]) {\r\n    const totalPoints = polys.reduce((sum: number, p: Polygon) => sum + p.points.length, 0)\r\n    const vertexData = new Float32Array(totalPoints * 2)\r\n    let vertexCount = 0\r\n    indices = []\r\n    let process = function(poly: Polygon) {\r\n    // construct input for earcut\r\n        const coords: number[] = []\r\n        const holes: number[] = []\r\n        poly.points.forEach(({ x, y }) => coords.push(x, y))\r\n        poly.children.forEach(child => {\r\n            // children's children are new, separate shapes\r\n            child.children.forEach(process)\r\n            holes.push(coords.length / 2)\r\n            child.points.forEach(({ x, y }) => coords.push(x, y))\r\n        })\r\n        // add vertex data\r\n        vertexData.set(coords, vertexCount * 2)\r\n        // add index data\r\n        earcut(coords, holes).forEach(i => indices.push(i + vertexCount))\r\n        vertexCount += coords.length / 2\r\n    }\r\n    root.forEach(process)\r\n    return [vertexData, indices]\r\n}\r\n\r\nlet draw = function (font: opentype.Font, words: Word[] = [], statement: string=defaultvs) {\r\n    let canvas = document.getElementById(\"emordle-canvas\") as HTMLCanvasElement\r\n    const width = canvas.width\r\n    const height = canvas.height\r\n    let polyAll: Polygon[] = []\r\n    for (let word of words) {\r\n        let polys = getPolys(font, word.x! - word.width! / 2, word.y, word.size, word.text)\r\n        polyAll = polyAll.concat(polys)\r\n    }\r\n    let root = getRoots(polyAll)\r\n    let [vertexData, indices] = getVertexData(root, polyAll)\r\n    drawOnCanvas(vertexData, indices, statement)\r\n}\r\n\r\nconst defaultvs = ` pos.y += pow(sin( (pos.x) / 500.+ uTime *.02),2.) * 20.;\r\npos.x += sin( pos.y/ 100. + uTime *.8) * .5;\r\n`\r\n\r\nconst staticvs = ` pos.y = pos.y;\r\npos.x = pos.x;\r\n`\r\n\r\nlet vsGenerator = function (speed: number, entropy: number) {\r\n  if (speed == 0) return staticvs\r\n  const waveletNum = Math.max(1, Math.floor(entropy * 10))\r\n  const timeGran = Number((0.01 + speed * 0.3)).toFixed(3)\r\n  const yAmplitude = Number(15.1 + 9.9 * entropy).toFixed(3)\r\n  const yExtent = Number(10.1 + (1.05 - entropy) * 359.9).toFixed(3)\r\n  const xExtent = Number(50.1 + (1.05 - entropy) * 150.1).toFixed(3)\r\n  const xAmplitude = Number(0.02 + 0.58 * entropy).toFixed(3)\r\n  let xPosStr = `sin( pos.y / ${xExtent} + uTime * ${timeGran}) * ${xAmplitude}`\r\n  let yPosStr = `pow(sin( (pos.x) / ${yExtent} + uTime * ${timeGran}), 2.) * ${yAmplitude}`\r\n  let result = `\r\n  pos.x += ${xPosStr};\r\n  pos.y += ${yPosStr};\r\n  `\r\n  return result\r\n  //return defaultvs\r\n}\r\n\r\nlet drawOnCanvas = function (vertexData: Float32Array, indices: Uint16Array, statement: string=defaultvs) {\r\n    const canvas = document.getElementById(\"emordle-canvas\") as HTMLCanvasElement\r\n    gl = canvas.getContext(\"webgl\")\r\n    const width = canvas.width\r\n    const height = canvas.height\r\n    gl.viewport(0, 0, width, height)\r\n    const vs = createShader(gl, gl.VERTEX_SHADER, `\r\n      precision mediump float;\r\n      uniform vec2 uScale;\r\n      uniform vec2 uOffset;\r\n      uniform float uTime;\r\n      attribute vec2 position;\r\n      varying vec4 fragColor;\r\n      void main() {\r\n      vec2 pos = position;\r\n      ${statement}\r\n      gl_Position = vec4(pos * uScale + uOffset, 0.0, 1.0);\r\n      fragColor = vec4(sin(uTime*.05)*.55+.6, 0.05, cos(uTime*.15)*.25+.35, 1. ); // colorful\r\n    }`)\r\n    const ps = createShader(gl, gl.FRAGMENT_SHADER,\r\n        `precision mediump float;\r\n        uniform vec4 uColor;\r\n        uniform vec2 u_resolution;\r\n        varying vec4 fragColor;\r\n        void main() {\r\n        gl_FragColor = uColor;\r\n        vec2 st = gl_FragCoord.xy / u_resolution;\r\n        gl_FragColor = fragColor;\r\n        }`)\r\n    const prog = createProgram(gl, vs, ps)\r\n    gl.bindAttribLocation(prog, 0, \"position\")\r\n    const [uScale, uOffset, uColor, uTime, u_resolutionLoc, fragColor] = [\r\n    \"uScale\",\r\n    \"uOffset\",\r\n    \"uColor\",\r\n    \"uTime\",\r\n    \"u_resolution\",\r\n    \"fragColor\"\r\n    ].map(name => gl.getUniformLocation(prog, name))\r\n    time = uTime\r\n    gl.useProgram(prog)\r\n    gl.uniform1f(uTime, 0)\r\n    gl.uniform2fv(uScale, [2.0 / width, -2.0 / height])\r\n    gl.uniform2fv(uOffset, [0.0, 0.0])\r\n    gl.uniform4fv(uColor, [0.0, 0.0, 0.0, 1.0])\r\n    gl.uniform4fv(fragColor, [0.0, 0.0, 0.0, 1.0])\r\n    gl.uniform2f(u_resolutionLoc, gl.canvas.width, gl.canvas.height)\r\n    gl.clearColor(1.0, 1.0, 1.0, 1.0)\r\n    gl.clear(gl.COLOR_BUFFER_BIT)\r\n    const vertBuffer = gl.createBuffer()\r\n    gl.bindBuffer(gl.ARRAY_BUFFER, vertBuffer)\r\n    gl.bufferData(gl.ARRAY_BUFFER, vertexData, gl.STATIC_DRAW)\r\n    const indxBuffer = gl.createBuffer()\r\n    const indexData = new Uint16Array(indices)\r\n    gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, indxBuffer)\r\n    gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, indexData, gl.STATIC_DRAW)\r\n    gl.enableVertexAttribArray(0)\r\n    gl.vertexAttribPointer(0, 2, gl.FLOAT, true, 8, 0)\r\n    gl.drawElements(gl.TRIANGLES, indices.length, gl.UNSIGNED_SHORT, 0)\r\n    gl.flush()\r\n    tick(Date.now())\r\n}\r\n\r\nlet onloadedFont = function(err: any, font: opentype.Font | undefined) {\r\n    if (err) {\r\n        alert(\"Font could not be loaded: \" + err)\r\n    } else if (font) {\r\n        console.log(font)\r\n        draw(font)\r\n    }\r\n}\r\n\r\nexport let test = function (fontUrl=FONTURL) {\r\n    opentype.load(\r\n        fontUrl,\r\n        onloadedFont\r\n      )    \r\n}\r\ninterface WavingParam {\r\n  words: Word[],\r\n  fontUrl?: string,\r\n  speed: number,\r\n  entropy: number\r\n}\r\nexport let jumpingWordle = function ({words=[], fontUrl=FONTURL, speed=0.5, entropy=0.5 }: WavingParam) {\r\n    opentype.load(\r\n        fontUrl,\r\n        function(err, fontMeta: opentype.Font | undefined) {\r\n            if (err) {\r\n                console.log(fontUrl)\r\n                alert(\"Font could not be loaded: \" + err)\r\n            } else if (fontMeta) {\r\n                let statement = vsGenerator(speed, entropy)\r\n                draw(fontMeta, words, statement)\r\n            }\r\n        }\r\n    )\r\n}","/* eslint-disable */\r\n/**\r\n * doc comment for animator.ts\r\n * @remarks \r\n * the latest design for animation unit\r\n * the logic is to use Animator to control GroupManager\r\n * @packageDocumentation\r\n */\r\nimport * as d3Timer from 'd3-timer'\r\nimport * as d3Ease from 'd3-ease'\r\nimport * as d3Itpl from 'd3-interpolate'\r\nimport { PlotHandler } from './plot'\r\nimport * as Gif from \"@/assets/lib/gif/gif\"\r\nimport { kmeans } from '@/assets/lib/kmeans'\r\nimport { FontConfig } from \"@/assets/variable-font\"\r\nimport * as Manual from \"@/assets/manual\"\r\nimport { KeyframeConfig, GroupingMode, Word, Mode, MetaConfig, GroupManagerConfig, AnimatorPlayParams} from \"@/assets/types\"\r\nimport { KeyFrameHandler } from './keyframe-handler'\r\nimport { Meta } from './animation'\r\nimport { jumpingWordle } from \"@/assets/jump\"\r\n\r\nclass KeyFrame implements KeyframeConfig {\r\n    public x: number = 0\r\n    public y: number = 0\r\n    public xoff: number = 0\r\n    public yoff: number = 0\r\n    public rotate: number = 0\r\n    public scale: number = 1\r\n    public opacity: number = 1\r\n    public color: string = 'black'\r\n    public stage: number = 0\r\n    public duration: number = 10\r\n    public font: FontConfig = new FontConfig() \r\n    constructor(configs: Partial<KeyframeConfig>) {\r\n        Object.assign(this, configs);\r\n    }\r\n}\r\n\r\nclass GroupManager implements GroupManagerConfig {\r\n    public order: number = 0;\r\n    public delay: number = 0;\r\n    public duration: number = 2000;\r\n    public ease: (a: number) => (number) = (a:number) => a; //d3Ease.easeCubic\r\n    public words: Array<MetaConfig> = [];\r\n    public origin: Array<MetaConfig> = [];\r\n    public keyFrames: Array<KeyFrame> = [];\r\n    public frameCounter: number = 0;\r\n    public font: FontConfig = new FontConfig();\r\n    constructor(configs: Partial<GroupManager>) {\r\n        Object.assign(this, configs);\r\n    }\r\n\r\n    public updateWord(ckf: KeyFrame, nkf: KeyFrame, frameAt: number, phase: number) {\r\n        this.font.setValWithRatio('width', 1);\r\n        // this.font.setValWithRatio('italic', Math.abs(Math.sin(Date.now()/1000)));\r\n        // this.font.setValWithRatio('weight', phase);\r\n        const color = d3Itpl.interpolateHcl(ckf.color, nkf.color)(frameAt);\r\n        this.font.update({\r\n            italic: (nkf.font.italic - ckf.font.italic) * this.ease(frameAt),\r\n            weight: (nkf.font.weight - ckf.font.weight) * this.ease(frameAt),\r\n        })\r\n        const fontString = this.font.getCss();\r\n        // assign by value  \r\n        this.words.forEach((d) => {\r\n            const xoff = (nkf.xoff - ckf.xoff) * this.ease(frameAt);\r\n            const yoff = (nkf.yoff - ckf.yoff) * this.ease(frameAt);\r\n            const scale = (nkf.scale - ckf.scale) * this.ease(frameAt);\r\n            const rotate = (nkf.rotate - ckf.rotate) * this.ease(frameAt);\r\n            d.x = d.x! + xoff;\r\n            d.y = d.y! + yoff;\r\n            d.rotate = rotate;\r\n            d.size = d.trues! * (1 + scale);\r\n         //   d.color = d.color || color;\r\n            d.fontString = fontString;\r\n        });\r\n    }\r\n\r\n    public setFrameCounter(fc: number) {\r\n        this.frameCounter = fc;\r\n    }\r\n\r\n    public reset() {\r\n        this.words = this.origin.map(a => Object.assign({}, a));\r\n        this.frameCounter = 0;\r\n    }\r\n}\r\n\r\n/** obatin animating frames and control the groups */\r\nclass WordleAnimator {\r\n    public data: Array<Word> = [];\r\n    public timer?: d3Timer.Timer | undefined;\r\n    readonly words: Array<MetaConfig> = new Array();\r\n    public duration: number = 30000;\r\n    public groupManagers: Array<GroupManager> = [];\r\n    public plotHandler?: PlotHandler;\r\n    public mode: Mode = Mode.dance;\r\n    public extent: number = 0.5;\r\n    public speed: number = 0.5;\r\n    public entropy: number = 0.5;\r\n    public gif: any;\r\n    public wordMap: Map<string, number> = new Map()\r\n    constructor(configs: Partial<WordleAnimator>) {\r\n        Object.assign(this, configs);\r\n        this.data.forEach((word: Word, idx: number) => {\r\n            this.wordMap.set(word.text!, idx)\r\n            this.words.push(new Meta(word, this.plotHandler!.width, this.plotHandler!.height))\r\n        })\r\n    }\r\n\r\n    public createManagers(numGroups: number, field: Partial<GroupManager>={}) {\r\n        this.groupManagers = new Array(numGroups);\r\n        for(var i = 0; i < numGroups; ++i) {\r\n            this.groupManagers[i] = new GroupManager(field);\r\n        }\r\n    }\r\n\r\n    public assignKeyFrame(keyFrames: KeyFrame[][]) {\r\n        this.groupManagers.forEach((gm, idx) => {\r\n            gm.keyFrames = keyFrames[idx];\r\n        });\r\n    }\r\n\r\n    /** Devide the words into groups\r\n     *  1. create groupNum group managers\r\n     *  2. assign words to each group manager according to the mode\r\n     */\r\n    public divideGroup(mode: GroupingMode, centers: [number, number][]=[]) {\r\n        let numGroup = centers.length == 0 ? this.groupManagers.length : centers.length;\r\n        let numWordsPerGroup = Math.ceil(this.words.length / numGroup);\r\n        let assignedWords = [] as MetaConfig[];\r\n        if (mode !== GroupingMode.xy) {\r\n            if (mode === GroupingMode.random) {\r\n                assignedWords = shuffle(this.words);\r\n            } else if (mode === GroupingMode.x) {\r\n                assignedWords = this.words.sort((a, b) => a.x! - b.x!);\r\n            } else if (mode == GroupingMode.y) {\r\n                assignedWords = this.words.sort((a, b) => a.y! - b.y!);\r\n            }\r\n            this.groupManagers.forEach((group, i) => {\r\n                const startIdx = numWordsPerGroup * i;\r\n                const endIdx = startIdx + numWordsPerGroup;\r\n                const words = assignedWords.slice(startIdx, endIdx);\r\n                group.origin = words.map(x => Object.assign({}, x));\r\n                group.words = words.map(x => Object.assign({}, x));\r\n            })\r\n        }\r\n        else {  // divide by xy\r\n            let positions = this.words.map((word: MetaConfig) => [word.x, word.y]);\r\n            let alias = centers.length == 0? \"kmeans\": centers \r\n            let result = kmeans(positions, numGroup, alias);\r\n            let wordBags = getMatrix(numGroup, 0) as Array<Array<MetaConfig>>;\r\n            result.indexes.forEach((d: number, idx: number) => {\r\n                wordBags[d].push(this.words[idx]);\r\n            });\r\n            this.groupManagers.forEach((group, idx) => {\r\n                const words = wordBags[idx];\r\n                group.origin = words.map(x => Object.assign({}, x));\r\n                group.words = words.map(x => Object.assign({}, x));\r\n            });\r\n        }\r\n    }\r\n\r\n    public reset() {\r\n        this.groupManagers.forEach(gm => {\r\n            gm.words = gm.origin.map((v) => Object.assign({}, v));\r\n            gm.frameCounter = 0;\r\n        })\r\n    }\r\n\r\n    public update(field: string, value: any) {\r\n        if (field === 'duration') this.duration = (value as number)\r\n        if (field === 'mode') this.mode = (value as Mode)\r\n    }\r\n\r\n    /** Play the animated wordle.\r\n     * @param {boolean} gifFlag whether to produce Gif\r\n     * 1. get keyframes with given extent, speed, entropy\r\n     *  - extent - extent at which\r\n     */\r\n    public play({gifFlag = false, replay = false} : AnimatorPlayParams = {}) {\r\n        let mode = this.mode\r\n        let svgFlag = mode !== Mode.wave\r\n        this.reset()\r\n        if (mode === Mode.wave) this.playWaving({gifFlag, replay})\r\n        if (mode === Mode.swing) this.playSwinging({gifFlag, replay})\r\n        if (mode === Mode.dance) this.playDancing({gifFlag, replay})\r\n        if (mode === Mode.split) this.playSplitting({gifFlag, replay})\r\n        this.plotHandler!.svg.style('display', svgFlag? '': 'none')\r\n        this.plotHandler!.canvas!.style.display = svgFlag? 'none': ''\r\n    }\r\n\r\n    public playWaving({gifFlag = false, replay = false} : AnimatorPlayParams = {}) {\r\n        let data = this.data.map(v => Object.assign({}, v))\r\n        let font = data[0].font\r\n        jumpingWordle({\r\n            words: data,\r\n            entropy: this.entropy,\r\n            speed: this.speed,\r\n            fontUrl: `./font/${font}.ttf`\r\n        })\r\n    }\r\n\r\n    public playSwinging({gifFlag = false, replay = false} : AnimatorPlayParams = {}) {\r\n        if (!replay) {\r\n            this.plotHandler?.plotOnSvg(this.data);\r\n            const keyFrameHandler = new KeyFrameHandler();\r\n            const wordLength = this.words.length;\r\n            const keyFrames = keyFrameHandler.getKeyFrames(Mode.swing, wordLength, this.speed, this.entropy);\r\n            const numGroups = keyFrames.length;\r\n            const divideMode = this.entropy > 0.5? GroupingMode.random : GroupingMode.y\r\n            this.createManagers(numGroups);\r\n            this.assignKeyFrame(keyFrames);\r\n            this.divideGroup(divideMode);\r\n        } else {\r\n            this.reset();\r\n        }  \r\n        this.startPlay(gifFlag, replay)      \r\n    }\r\n\r\n    public playSplitting({gifFlag = false, replay = false} : AnimatorPlayParams = {}) {\r\n        if (!replay) {\r\n            this.plotHandler?.plotOnSvg(this.data);\r\n            const keyFrameHandler =  new KeyFrameHandler();\r\n            const wordLength = this.words.length;\r\n            let centers = [] as Array<[number, number]>\r\n            let a = this.plotHandler!.width / 4, b = this.plotHandler!.height / 4\r\n            let alpha = Math.random() * Math.PI/4\r\n            const keyFrames = keyFrameHandler.getKeyFrames(Mode.split, wordLength, this.speed, this.entropy, alpha);\r\n            const numGroups = keyFrames.length;\r\n            for (let idx = 0; idx < numGroups; idx ++) {\r\n                let theta = idx * 2 * Math.PI / numGroups + alpha\r\n                let x = a * Math.cos(theta)\r\n                let y = b * Math.sin(theta)\r\n                centers.push([x, y])\r\n            }\r\n            this.createManagers(numGroups, {ease: d3Ease.easeExp});\r\n            this.assignKeyFrame(keyFrames);\r\n            this.divideGroup(GroupingMode.xy, centers);\r\n        } else {\r\n            this.reset();\r\n        }\r\n        this.startPlay(gifFlag, replay)\r\n    }\r\n\r\n\r\n    public playDancing({gifFlag = false, replay = false} : AnimatorPlayParams = {}) {\r\n        if (!replay) {\r\n            this.plotHandler?.plotOnSvg(this.data);\r\n            const keyFrameHandler = new KeyFrameHandler();\r\n            const wordLength = this.words.length;\r\n            const keyFrames = keyFrameHandler.getKeyFrames(Mode.dance, wordLength, this.extent , this.speed, this.entropy);\r\n            const numGroups = keyFrames.length;\r\n            const divideMode = getDivideMode();\r\n            this.createManagers(numGroups);\r\n            this.assignKeyFrame(keyFrames);\r\n            this.divideGroup(divideMode);\r\n        } else {\r\n            this.reset();\r\n        }  \r\n        this.startPlay(gifFlag, replay)      \r\n    }\r\n    /** Core function to play the animation according to the keyframes\r\n     *\r\n     * @param gifFlag \r\n     * @param replay \r\n     */\r\n    public startPlay(gifFlag = false, replay = false) {\r\n        const gms = this.groupManagers;\r\n        this.timer?.stop();\r\n        this.timer = d3Timer.timer((elapsed) => {\r\n            if (elapsed < this.duration) {      \r\n                let totalWords: Array<Word> = new Array<Word>(this.words.length);\r\n                gms.forEach((gm, _) => { \r\n                    let fc = gm.frameCounter;\r\n                    const keyFrames = gm.keyFrames;\r\n                    const ckf = keyFrames[fc];\r\n                    const nkf = keyFrames[fc + 1];\r\n                    const cfa = nkf.stage / 100 * this.duration;\r\n                    if( elapsed >= cfa ) {\r\n                        gm.setFrameCounter(fc + 1);\r\n                    }\r\n                    const fs = ckf.stage / 100 * this.duration; \r\n                    const frameAt = (elapsed - fs) / (cfa - fs);\r\n                    const phase = elapsed / gm.duration;\r\n                    gm.updateWord(ckf, nkf, frameAt, phase);\r\n                    gm.words.forEach((word, _) => {\r\n                        totalWords[this.wordMap.get(word.text!)!] = word\r\n                    })\r\n                })\r\n                this.plotHandler?.updateOnSvg(totalWords);\r\n                if (gifFlag) {\r\n                    this.gif.addFrame(this.plotHandler?.canvas, { copy: true, delay: this.duration / 256 });\r\n                }\r\n            }\r\n            else {\r\n                this.timer?.stop()\r\n                if (gifFlag) {\r\n                    this.gif.render()\r\n                }\r\n                this.play({gifFlag: gifFlag, replay: true});\r\n            }\r\n        }, 10)\r\n    }\r\n\r\n    private getTotalWords() {\r\n        let res = [] as Array<Word>;\r\n        this.groupManagers.forEach((group: GroupManager, idx: number) => {\r\n            res = res.concat(group.words)\r\n        })\r\n        return res\r\n    }\r\n\r\n    public stop() {\r\n        this.timer?.stop()\r\n    }\r\n    /**Generate Gif for a round\r\n     * Reference: https://github.com/jnordberg/gif.js\r\n    @param quality the sampling rate\r\n    */\r\n    public createGif(quality: number = 5) {\r\n        this.gif = new Gif({\r\n            quality: quality\r\n        })\r\n        let param = getKeyFrames();\r\n        this.gif.on('finished', function (blob: any) {\r\n            let wlink = document.createElement('a')\r\n            wlink.setAttribute('target', '_blank')\r\n            wlink.setAttribute('href', URL.createObjectURL(blob))\r\n            wlink.setAttribute('download', \"animation.gif\")\r\n            wlink.addEventListener('click', function () {\r\n                this.remove()\r\n            })\r\n            wlink.click()\r\n\r\n            let plink = document.createElement('a')\r\n            plink.setAttribute('target', '_blank')\r\n            plink.setAttribute('href', \"data:text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(param)))\r\n            plink.setAttribute('download', \"param.json\")\r\n            plink.addEventListener('click', function () {\r\n                this.remove()\r\n            })\r\n            plink.click()\r\n        })\r\n        return this\r\n    }\r\n\r\n    /** Group the words according to position.\r\n     */\r\n    private assignWords(groupNum: number, numWordsPerGroup: number, wordsCopy: MetaConfig[]) {\r\n        for (let i = 0; i < groupNum; i++) {\r\n            let startIdx = numWordsPerGroup * i;\r\n            let endIdx = startIdx + numWordsPerGroup;\r\n            this.groupManagers[i].words = wordsCopy.slice(startIdx, endIdx);\r\n        }\r\n    }\r\n\r\n}\r\n\r\nfunction getDivideMode() {\r\n    return GroupingMode.x;\r\n}\r\n\r\n// separate key frame getter logic from wordle class\r\nfunction getKeyFrames() {\r\n    // logic to get keyframes, hard coded for now\r\n    return [Manual.smallShake(), Manual.colorTransition(), Manual.shakeNRotate()];\r\n}\r\n\r\n\r\nlet shuffle = function <T>(array: T[]) {\r\n    let currIdx = array.length, tempVal, randIdx\r\n    while (0 != currIdx) {\r\n        randIdx = Math.floor(Math.random() * currIdx)\r\n        currIdx -= 1\r\n        tempVal = array[currIdx]\r\n        array[currIdx] = array[randIdx]\r\n        array[randIdx] = tempVal\r\n    }\r\n    return array\r\n}\r\n\r\nlet getMatrix = function <T>(row: number, col: number) {\r\n    let matrix = [] as Array<Array<T>>\r\n    for (let i = 0; i < row; i++) {\r\n        if (col !== 0) {\r\n            matrix.push(new Array(col).fill(0))\r\n        }\r\n        else {\r\n            let slot = [] as Array<T>\r\n            matrix.push(slot)\r\n        }\r\n    }\r\n    return matrix\r\n}\r\n\r\nexport { WordleAnimator, KeyFrame, GroupManager }","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./KeyframeList.vue?vue&type=style&index=0&id=456474e6&lang=scss\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Slider.vue?vue&type=style&index=0&id=78773d8c&lang=scss&scoped=true\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./GroupPanel.vue?vue&type=style&index=0&id=06031fd4&lang=scss&scoped=true\""],"sourceRoot":""}